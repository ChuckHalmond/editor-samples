var main;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={};(()=>{e.r(t),e.d(t,{main:()=>Nn});class n{target;changeType;propertyName;oldValue;newValue;removedIndex;removedItems;insertedIndex;insertedItems;sortedIndices;constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new s(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new s(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return n.PROPERTY_CHANGE}get LIST_REMOVE(){return n.LIST_REMOVE}get LIST_INSERT(){return n.LIST_INSERT}get LIST_SORT(){return n.LIST_SORT}}var o=n,s=class{#e;constructor(e){this.#e=e.slice()}get length(){return this.#e.length}item(e){return this.#e[e]??null}values(){return this.#e.values()}};class r{type;#t;#n;constructor(e){this.type=e,this.#t=null,this.#n=null}get currentTarget(){return this.#t}get target(){return this.#n}static ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof r&&(e.#t=t)}setTarget(e,t){e instanceof r&&(e.#n=t)}}}var i=r.ModelEventTargetAccessor;delete r.ModelEventTargetAccessor;var a=r;class l{#o;constructor(){this.#o=new Map}receiveEvent(e){const{type:t}=e,n=this.#o.get(t);i.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=this.#o.get(e);n?n.push(t):this.#o.set(e,[t])}removeEventListener(e,t){const n=this.#o.get(e);if(n){const o=n.findIndex((e=>e==t));o>-1&&n.splice(o,1),0==n.length&&this.#o.delete(e)}}dispatchEvent(e){i.setTarget(e,this),this.receiveEvent(e)}}class c extends l{#s;#r;#i;constructor(){super(),this.#s=null,this.#r=[],this.#i=!1}get parentNode(){return this.#s}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");this.#s=e}else this.#s=null}beginChanges(){this.#i=!0}endChanges(){this.dispatchEvent(new a("modelchange")),this.#r.splice(0),this.#i=!1}getRecords(){return this.#r.slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}#a(e,t,n){const s=this.#r,r=new o({target:this,changeType:o.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});s.push(r),this.#i||(this.dispatchEvent(new a("modelchange")),s.splice(0))}#l(e){this.#r.push(e),this.#i||(this.dispatchEvent(new a("modelchange")),this.#r.splice(0))}static ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,o){e instanceof c&&e.#a(t,n,o)}handleRecord(e,t){e instanceof c&&e.#l(t)}}}var d=c.ModelNodeRecordsAccessor;delete c.ModelNodeRecordsAccessor;var h=c;const p=function(){return(e,t)=>{const{constructor:n}=e,{prototype:o}=n;Object.defineProperty(o,t,{set:function(e){const n=m.getProperty(this,t);return m.setProperty(this,t,e),e!==n&&d.triggerChange(this,t,n,e),!0},get:function(){return m.getProperty(this,t)},enumerable:!0})}};class u extends c{#c;constructor(){super(),this.#c=new Map}static ModelReactivePropertiesAccessor=new class{setProperty(e,t,n){e instanceof u&&e.#c.set(t,n)}getProperty(e,t){if(e instanceof u)return e.#c.get(t)}}}var m=u.ModelReactivePropertiesAccessor;delete u.ModelReactivePropertiesAccessor;var f=u,g=class extends c{#e;constructor(e){super(),this.#e=e?.slice()??[]}setParent(e){super.setParent(e),this.#e.forEach((t=>{t.setParent(e)}))}get length(){return this.#e.length}get(e){return this.#e[e]??null}index(e){return this.#e.indexOf(e)}values(){return this.#e.values()}sort(e){const t=this.#e.map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),this.#e=t.map((e=>e.item));const n=new o({target:this,changeType:o.LIST_SORT,sortedIndices:t.map((e=>e.index))});d.handleRecord(this,n)}prepend(...e){const t=this.#e,{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const s=new o({target:this,changeType:o.LIST_INSERT,insertedIndex:0,insertedItems:e});d.handleRecord(this,s)}append(...e){const t=this.#e,{length:n}=t,{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.push(...e);const r=new o({target:this,changeType:o.LIST_INSERT,insertedIndex:n,insertedItems:e});d.handleRecord(this,r)}insert(e,...t){const n=this.#e,{length:s}=n;if(Math.abs(e)<=s){if(e>=0){const{parentNode:o}=this;t.forEach((e=>{e.setParent(o)})),e<s?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=s-e;const{parentNode:o}=this;o&&t.forEach((e=>{e.setParent(o)})),n.splice(e,0,...t)}const r=new o({target:this,changeType:o.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});d.handleRecord(this,r)}}remove(e){const t=this.#e,n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:s}=this;s&&e.setParent(null);const r=new o({target:this,changeType:o.LIST_REMOVE,removedIndex:n,removedItems:[e]});d.handleRecord(this,r)}}clear(){const e=this.#e,{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const s=new o({target:this,changeType:o.LIST_REMOVE,removedIndex:0,removedItems:t});d.handleRecord(this,s)}}},b=class{#d;#r;#h;#p;constructor(e){this.#d=e,this.#r=[],this.#h=!1,this.#p=new WeakMap}observe(e,t){this.#h=!1;const n=this.#p;let o=n.get(e);if(o)n.set(e,o);else{const s=this.#u.bind(this);e.addEventListener("modelchange",s),o={listener:s,options:t},n.set(e,o)}}unobserve(e){let t=this.#p.get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){this.#r.splice(0),this.#h=!0}#m(){const e=this.#r.splice(0);e.length>0&&this.#d(e)}#u(e){if(!this.#h){const{target:t,currentTarget:n}=e,o=this.#p.get(n);if(o){const{options:e}=o,{properties:s,propertiesFilter:r,childList:i,subtree:a}=e;a?s&&t instanceof h?(r?this.#r.push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):this.#r.push(...t.getRecords()),this.#m()):i&&t instanceof g&&(this.#r.push(...t.getRecords()),this.#m()):t==n&&(s&&t instanceof h?(r?this.#r.push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):this.#r.push(...t.getRecords()),this.#m()):i&&t instanceof g&&(this.#r.push(...t.getRecords()),this.#m()))}}}};function v(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const y=function(e){return(t,n)=>{const{constructor:o}=t,{prototype:s}=o,r=String(n),{defaultValue:i=null,observed:a=!1,name:l=v(r)}=e;if(a){const e=Reflect.get(o,"observedAttributes",o);Array.isArray(e)?e.push(l):Object.defineProperty(o,"observedAttributes",{value:[l],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(s,r,{get:function(){return this.hasAttribute(l)},set:function(e){e?this.setAttribute(l,""):this.removeAttribute(l)}});break;case Object:Object.defineProperty(s,r,{get:function(){const e=this.getAttribute(l);return null!==e?JSON.parse(e):i},set:function(e){null!==e?this.setAttribute(l,JSON.stringify(e)):this.removeAttribute(l)}});break;case Number:Object.defineProperty(s,r,{get:function(){const e=this.getAttribute(l);return null!==e?parseFloat(e):i},set:function(e){null!==e?this.setAttribute(l,e):this.removeAttribute(l)}});break;default:Object.defineProperty(s,r,{get:function(){const e=this.getAttribute(l);return null!==e?e:i},set:function(e){null!==e?this.setAttribute(l,e):this.removeAttribute(l)}})}}},w=function(e){return t=>{const{name:n,options:o}=e;return customElements.get(n)||customElements.define(n,t,o),t}},S=function(e){return(t,n)=>{const{constructor:o}=t,{prototype:s}=o,r=String(n),{selector:i}=e,a=e.withinShadowRoot?function(){return this.shadowRoot.querySelector(i)}:function(){return this.querySelector(i)};Object.defineProperty(s,r,{get:a})}};function E(...e){const t=document.createDocumentFragment();return t.append(...e),t}function x(e,t){if(t){const{options:n,attributes:o,dataset:s,children:r,listeners:i}=t,a=document.createElement(e,n);if(o&&Object.entries(o).forEach((([e,t])=>{void 0!==t&&("boolean"==typeof t?a.toggleAttribute(v(e),t):a.setAttribute(v(e),String(t)))})),s){const{dataset:e}=a;Object.keys(s).forEach((t=>{e[t]=String(s[t])}))}return r&&("function"==typeof r?r(a):"object"==typeof r&&"length"in r?a.append(...Array.from(r)):a.append(r)),i&&Object.entries(i).forEach((([e,t])=>{Array.isArray(t)?a.addEventListener(e,t[0],t[1]):a.addEventListener(e,t)})),a}return document.createElement(e)}const k=new WeakMap,I=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,o=k.get(t);if(void 0!==o){const{reactiveElementsArray:e}=o;e.splice(e.indexOf(n),1)}})),C=new b((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:o,newValue:s}=e,{reactiveElementsArray:r}=k.get(t);r.forEach((e=>{const{elementRef:t,react:r,properties:i}=e,a=t.deref();a&&i.includes(n)&&r(a,n,o,s)}))}))}));function R(e,t,n,o){const s={elementRef:new WeakRef(t),react:o,properties:n},r=k.get(e);if(I.register(t,{model:e,reactiveElement:s}),r){const{reactiveElementsArray:e,observerOptions:t}=r,{propertiesFilter:o}=t;e.push(s),t.propertiesFilter=o?o.concat(n.filter((e=>!o.includes(e)))):n.filter(((e,t,n)=>n.indexOf(e)===t))}else{const t={properties:!0,propertiesFilter:n},o=[s];k.set(e,{observerOptions:t,reactiveElementsArray:o}),C.observe(e,t)}return n.forEach((n=>{if(n in e){const s=Reflect.get(e,n,e);o(t,n,void 0,s)}})),t}const P=new WeakMap,T=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,o=P.get(t);if(o){const{reactiveChildElementsArray:e}=o;e.splice(e.indexOf(n),1)}})),N=new b((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,o=n,{length:s}=o,{reactiveChildElementsArray:r}=P.get(o);r.forEach((n=>{const{parentRef:o,mapping:r,placeholder:i}=n,a=o.deref();if(a){const{firstChild:n,children:o}=a,{length:l}=o;i&&s>0&&n==i&&a.removeChild(i);const{changeType:c,LIST_INSERT:d,LIST_REMOVE:h,LIST_SORT:p}=e;switch(c){case d:{const{insertedIndex:t,insertedItems:n}=e,s=Array.from(n.values()).map(r),{length:i}=o;t<i?o[t].before(...s):a.append(...s);break}case h:{const{removedIndex:n,removedItems:s}=e,{length:r}=s;t=t??document.createRange();const i=n+(r-1);i<l&&(t.setStartBefore(o[n]),t.setEndAfter(o[i]),t.deleteContents());break}case p:{const{sortedIndices:t}=e,n=Array.from(o);a.append(...t.filter((e=>e<l)).map((e=>n[e])));break}}0==s&&i&&a.append(i)}}))}))}));function O(e,t,n){return o=>{const s=new WeakRef(o),r=P.get(e),i={parentRef:s,mapping:t,placeholder:n};if(T.register(o,{list:e,reactiveChildElement:i}),r){const{reactiveChildElementsArray:e}=r;e.push(i)}else{const t=[i];P.set(e,{reactiveChildElementsArray:t}),N.observe(e,{childList:!0})}const a=0==e.length&&n?[n]:Array.from(e.values()).map(t);o.replaceChildren(...a)}}class L extends HTMLElement{#f;constructor(){super(),this.#f=null}get model(){return this.#f}setModel(e){e!==this.#f&&(this.#f=e)}renderLight(){}renderShadow(){}render(){const{shadowRoot:e}=this;if(null!==e){const t=this.renderShadow();t&&e.replaceChildren(t)}const t=this.renderLight();t&&this.replaceChildren(t)}}var D=L;const F=e.p+"43c54c9d5c843fa6e1a4.svg",A=e.p+"3497bd64f93b4d706808.svg",M=e.p+"a9d0fda0b3ef93e52697.svg",j=e.p+"983207f640fb42a9d859.svg",$=e.p+"a42bbe687810bdc6e9e8.ttf";var B=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};const q="hsl(var(--theme-tint, 203), 92%, 80%, 50%)",H="hsl(var(--theme-tint, 203), 92%, 50%, 50%)",_="hsl(var(--theme-tint, 203), 92%, 75%, 75%)",W="hsl(var(--theme-tint, 203), 92%, 50%, 50%)",K="hsl(var(--theme-tint, 203), 92%, 50%, 50%)";class z extends f{stylesheet;images(){return new Map([["checkedImage",this.checkedImage],["arrowRightImage",this.arrowRightImage],["arrowDropDownImage",this.arrowDropDownImage],["arrowDropUpImage",this.arrowDropUpImage]])}constructor(){super(),this.stylesheet=new CSSStyleSheet,this.stylesheet.replace(`\n            :root {\n                --theme-accent-color: hsl(var(--theme-tint, 203), 92%, 50%, 50%);\n                --theme-hovered-item-color: ${q};\n                --theme-focused-item-color: ${H};\n                --theme-focused-item-outline-color: hsl(var(--theme-tint, 203), 92%, 50%);\n                --theme-selected-item-color: ${_};\n                --theme-activated-item-color: ${W};\n                --theme-droptarget-item-color: ${K};\n\n                --theme-arrow-color: var(--font-color);\n                --theme-arrow-icon-collapsed: var(--arrow-right);\n                --theme-arrow-icon-expanded: var(--arrow-dropdown);\n\n                --theme-sortorder-indicator-color: var(--font-color);\n                --theme-sortorder-indicator-ascending: var(--arrow-dropup);\n                --theme-sortorder-indicator-descending: var(--arrow-dropdown);\n            }\n            \n            @font-face {\n                font-family: "Open Sans";\n                src: url(${$}) format("truetype")\n            }\n\n            :root {\n                font-size: 10px;\n                font-family: "Open Sans";\n                accent-color: var(--theme-accent-color);\n            }\n\n            ::selection {\n                background-color: var(--theme-selected-item-color);\n            }\n        `),this.addEventListener("modelchange",this.#g.bind(this)),this.tint=203,this.arrowRightImage=F,this.arrowDropDownImage=A,this.arrowDropUpImage=M,this.checkedImage=A}#g(){const{stylesheet:e}=this,t=e.cssRules[0].styleMap;this.getRecords().forEach((e=>{const{propertyName:n,newValue:o}=e;switch(n){case"tint":t.set("--theme-tint",String(o));break;case"checkedImage":t.set("--theme-checked-image",`url(${String(o)})`);break;case"arrowRightImage":t.set("--theme-arrow-right-image",`url(${String(o)})`);break;case"arrowDropDown":t.set("--theme-arrow-dropdown-image",`url(${String(o)})`);break;case"arrowDropUp":t.set("--theme-arrow-dropup-image",`url(${String(o)})`)}}))}}B([p()],z.prototype,"tint",void 0),B([p()],z.prototype,"checkedImage",void 0),B([p()],z.prototype,"arrowRightImage",void 0),B([p()],z.prototype,"arrowDropDownImage",void 0),B([p()],z.prototype,"arrowDropUpImage",void 0);const V=new z,U=new CSSStyleSheet;U.replace(`\n    \n    html.fullscreen,\n    html.fullscreen > body {\n        height: 100%;\n    }\n\n    dialog {\n        overflow: visible;\n    }\n\n    body {\n        font-size: 13px;\n        margin: 0;\n    }\n\n    ::backdrop {\n        background-color: rgba(120, 120, 120, 0.2);\n    }\n\n    ::selection {\n        background-color: ${_};\n    }\n    \n    input,\n    output,\n    button,\n    select,\n    textarea {\n        margin: 0;\n        font-family: inherit;\n        font-size: inherit;\n        box-sizing: content-box;\n    }\n\n    dialog {\n        box-sizing: border-box;\n    }\n\n    input {\n        border: 1px solid grey;\n    }\n\n    legend {\n        padding: 0 6px;\n    }\n\n    select,\n    progress {\n        height: 22px;\n    }\n\n    input {\n        height: 18px;\n    }\n\n    input:is([type="radio"], [type="checkbox"]) {\n        width: 18px; \n    }\n\n    input[type="color" i] {\n        border: none;\n        padding: 0;\n    }\n\n    ::-webkit-color-swatch {\n        border: none;\n    }\n\n    ::-webkit-color-swatch-wrapper {\n        padding: 0;\n    }\n\n    ::-webkit-search-cancel-button {\n        appearance: none;\n    }\n\n    dialog,\n    fieldset {\n        padding: 8px;\n        border: 1px solid lightgrey;\n    }\n\n    button[type="submit"] {\n        border-width: 2px;\n    }\n\n    button:hover {\n        background-color: var(--theme-hovered-item-color, ${q});\n    }\n\n    button:not([aria-pressed]):focus,\n    button[aria-pressed="true"] {\n        background-color: var(--theme-focused-item-color, ${H});\n    }\n\n    button {\n        height: 18px;\n        appearance: none;\n        background: none;\n        border: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n    }\n\n    table {\n        border-spacing: 0;\n    }\n\n    ul {\n        padding: 0;\n        margin: 0;\n    }\n`);var G,Y=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let J=class extends HTMLElement{get target(){return this.#n}static{G=`\n            :host {\n                display: block;\n                background-color: var(--theme-selected-item-color, ${_});\n                transition-property: opacity;\n                transition-delay: 0.2s;\n                transition-duration: 0.2s;\n                transition-timing-function: ease-out;\n                \n                height: 2px;\n                cursor: ns-resize;\n            }\n        `}#n;#b;#v;#y;constructor(){super(),this.#n=null,this.#v=null,this.#y=0,this.#b=!1;const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(G),e.adoptedStyleSheets=[t],this.addEventListener("pointerdown",this.#w.bind(this)),this.addEventListener("pointermove",this.#S.bind(this)),this.addEventListener("pointerup",this.#E.bind(this))}#x(){const e=this.#n;if(null!==e){const t=window.getComputedStyle(e),{style:n}=e,{growdir:o}=this,s=this.#y,r=parseFloat(t.getPropertyValue("height")),i=Math.trunc(r+("top"==o?-1:1)*s);n.setProperty("height",`${i}px`);const a=parseFloat(t.getPropertyValue("height"));n.setProperty("height",`${a}px`),this.dispatchEvent(new Event("resize"))}this.#v=null}#w(e){const{pointerId:t}=e,{controls:n}=this,o=this.getRootNode();this.#n=o.getElementById(n),this.setPointerCapture(t),this.#b=!0}#S(e){this.#b&&(null==this.#v?(this.#y=e.movementY,this.#v=this.#x.bind(this),requestAnimationFrame(this.#v)):this.#y+=e.movementY)}#E(e){const{pointerId:t}=e;this.releasePointerCapture(t),this.#b=!1}};Y([y({type:String})],J.prototype,"controls",void 0),Y([y({type:String,defaultValue:"top"})],J.prototype,"growdir",void 0),J=Y([w({name:"e-hsash"})],J);var X,Z=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Q=class extends HTMLElement{get target(){return this.#n}#n;#b;#v;#y;static{X=`\n            :host {\n                display: block;\n                background-color: var(--theme-selected-item-color, ${_});\n                transition-property: opacity;\n                transition-delay: 0.2s;\n                transition-duration: 0.2s;\n                transition-timing-function: ease-out;\n                \n                width: 2px;\n                cursor: ew-resize;\n            }\n        `}constructor(){super(),this.#n=null,this.#v=null,this.#y=0,this.#b=!1;const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(X),e.adoptedStyleSheets=[t],this.addEventListener("pointerdown",this.#w.bind(this)),this.addEventListener("pointermove",this.#S.bind(this)),this.addEventListener("pointerup",this.#E.bind(this))}setWidth(e){const t=this.#n;if(null!==t){const{max:n}=this,{style:o}=t;o.setProperty("width",`${e}px`),n&&o.setProperty("max-width",`${e}px`)}}#x(){const e=this.#n;if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,o=this.#y,s=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*o;this.setWidth(s),this.dispatchEvent(new Event("resize"))}this.#y=0,this.#v=null}#w(e){const{pointerId:t}=e,{controls:n}=this,o=this.getRootNode();this.#n=o.getElementById(n),this.setPointerCapture(t),this.#b=!0}#S(e){this.#b&&(null==this.#v&&(this.#v=this.#x.bind(this),requestAnimationFrame(this.#v)),this.#y+=e.movementX)}#E(e){const{pointerId:t}=e;this.releasePointerCapture(t),this.#b=!1}};Z([y({type:String,observed:!0})],Q.prototype,"controls",void 0),Z([y({type:String,defaultValue:"right"})],Q.prototype,"growdir",void 0),Z([y({type:Boolean})],Q.prototype,"max",void 0),Q=Z([w({name:"e-wsash"})],Q);var ee,te,ne=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let oe=class extends HTMLElement{static{(ee=x("template")).content.append(x("slot")),te=`\n            :host {\n                display: table-cell;\n                text-align: left;\n            }\n            \n            :host([type="columnheader"]:hover) {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n            \n            :host(:hover):host-context(e-grid:is(:not([selectby]), [selectby="cell"])) {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n            \n            :host([type="columnheader"][active]) {\n                background-color: var(--theme-focused-item-color, ${H});\n            }\n            \n            :host([active]):host-context(e-grid:focus-within:is(:not([selectby]), [selectby="cell"])) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n            \n            :host([selected]):host-context(e-grid:is(:not([selectby]), [selectby="cell"])) {\n                background-color: var(--theme-selected-item-color, ${_});\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(te),e.adoptedStyleSheets=[t],e.append(ee.content.cloneNode(!0))}attributeChangedCallback(e,t,n){"selected"===e&&this.dispatchEvent(new Event("select",{bubbles:!0}))}};ne([y({type:String})],oe.prototype,"name",void 0),ne([y({type:String})],oe.prototype,"headers",void 0),ne([y({type:String})],oe.prototype,"type",void 0),ne([y({type:Number})],oe.prototype,"posinset",void 0),ne([y({type:Boolean})],oe.prototype,"droptarget",void 0),ne([y({type:Boolean})],oe.prototype,"active",void 0),ne([y({type:Boolean,observed:!0})],oe.prototype,"selected",void 0),oe=ne([w({name:"e-gridcell"})],oe);var se,re,ie=oe,ae=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let le=class extends HTMLElement{cells(){return Array.from(this.querySelectorAll("e-gridcell"))}static{(se=x("template")).content.append(x("slot")),re=`\n            :host {\n                display: table-row;\n            }\n            \n            :host(:hover):host-context(e-grid:is([selectby="row"])) {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n            \n            :host([active]):host-context(e-grid:focus-within:is([selectby="row"])) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n            \n            :host([selected]):host-context(e-grid:is([selectby="row"])) {\n                background-color: var(--theme-selected-item-color, ${_});\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(re),e.adoptedStyleSheets=[t],e.append(se.content.cloneNode(!0)),e.addEventListener("slotchange",this.#k.bind(this))}attributeChangedCallback(e,t,n){"selected"===e&&this.dispatchEvent(new Event("select",{bubbles:!0}))}#k(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ie)).forEach(((e,t)=>{e.posinset=t}))}};ae([y({type:String})],le.prototype,"name",void 0),ae([y({type:Boolean})],le.prototype,"active",void 0),ae([y({type:Boolean})],le.prototype,"selected",void 0),ae([y({type:Number})],le.prototype,"posinset",void 0),le=ae([w({name:"e-gridrow"})],le);var ce,de=le;let he=class extends HTMLElement{cells(){return Array.from(this.querySelectorAll("e-gridcell"))}rows(){return Array.from(this.querySelectorAll("e-gridrow"))}static{(ce=x("template")).content.append(x("slot"))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: table-row-group;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(ce.content.cloneNode(!0)),e.addEventListener("slotchange",this.#k.bind(this))}#k(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ie)).forEach(((e,t)=>{e.posinset=t}))}};he=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([w({name:"e-gridbody"})],he);var pe,ue=he;let me=class extends HTMLElement{cells(){return Array.from(this.querySelectorAll("e-gridcell"))}rows(){return Array.from(this.querySelectorAll("e-gridrow"))}static{(pe=x("template")).content.append(x("slot"))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: table-header-group;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(pe.content.cloneNode(!0)),e.addEventListener("slotchange",this.#k.bind(this))}#k(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ie)).forEach(((e,t)=>{e.posinset=t}))}};me=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([w({name:"e-gridhead"})],me);var fe;let ge=class extends HTMLElement{static{(fe=x("template")).content.append(x("slot"))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: table-row-group;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(fe.content.cloneNode(!0)),e.addEventListener("slotchange",this.#k.bind(this))}#k(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof de)).forEach(((e,t)=>{e.posinset=t}))}};ge=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([w({name:"e-gridrowgroup"})],ge);var be,ve=ge,ye=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let we=class extends HTMLElement{cells(){return Array.from(this.querySelectorAll("e-gridcell"))}rows(){return Array.from(this.querySelectorAll("e-gridrow"))}get activeCell(){return this.querySelector("e-gridcell[active]")}get activeRow(){return this.querySelector("e-gridrow[active]")}get body(){return this.querySelector(":scope > e-gridbody")}get head(){return this.querySelector(":scope > e-gridhead")}#I;#C;#R;#P;static{(be=x("template")).content.append(x("slot"))}constructor(){super(),this.#R=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,this.#T.bind(this)),this.#P=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,this.#N.bind(this)),this.#I=!1,this.#C=!1;const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: table;\n                user-select: none;\n                line-height: 22px;\n            }\n            \n            :host(:focus) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(be.content.cloneNode(!0)),this.addEventListener("click",this.#O.bind(this)),this.addEventListener("contextmenu",this.#L.bind(this)),this.addEventListener("dblclick",this.#D.bind(this)),this.addEventListener("focus",this.#F.bind(this)),this.addEventListener("focusin",this.#A.bind(this)),this.addEventListener("keydown",this.#M.bind(this)),this.addEventListener("select",this.#j.bind(this)),e.addEventListener("slotchange",this.#k.bind(this))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}beginSelection(){this.#I=!0}endSelection(){this.#I=!1,this.#C&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),this.#C=!1)}clearSelection(){this.#$(),this.#B()}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}#T(e){return e instanceof ie&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof ue||e instanceof ve||e instanceof de?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}#N(e){return e instanceof de&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof ue||e instanceof ve?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}#q(e,t){const n=Array.from(this.cells()),o=n.indexOf(e),s=n.indexOf(t);return o>-1&&s>-1?e==t?[e]:n.slice(Math.min(o,s),Math.max(o,s)+1):[]}#H(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let o=this.#_(e);for(;o&&o!==t;)n.push(o),o=this.#_(o);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let o=this.#W(e);for(;o&&o!==t;)n.push(o),o=this.#W(o);return n.push(t),n}return[]}#K(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()}#z(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()}#V(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()}#U(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()}#G(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()}#Y(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()}#$(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()}#B(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()}#J(e){const{activeCell:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(this.#R.currentNode=e,e.active=!0,e.tabIndex=0)}#X(e){const{activeRow:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(this.#P.currentNode=e,e.active=!0,e.tabIndex=0)}#Z(e){const t=this.#R;return t.currentNode=e,t.firstChild()}#Q(e){const t=this.#R;return t.currentNode=e,t.lastChild()}#ee(e){const t=this.#R;return t.currentNode=e,t.previousNode()}#te(e){const t=this.#R;return t.currentNode=e,t.nextNode()}#ne(e){const t=this.#P;return t.currentNode=e,t.parentNode()}#oe(){const e=this.#P,{root:t}=e;return e.currentNode=t,e.firstChild()}#se(){const e=this.#P,{root:t}=e;return e.currentNode=t,e.lastChild()}#W(e){const t=this.#P;return t.currentNode=e,t.previousNode()}#_(e){const t=this.#P;return t.currentNode=e,t.nextNode()}#re(e){const t=this.#ne(e);if(t){const n=t.cells().indexOf(e),o=this.#W(t);if(o){const e=o.cells();return e[Math.min(n,e.length)]}}return null}#ie(e){const t=this.#ne(e);if(t){const n=t.cells().indexOf(e),o=this.#_(t);if(o){const e=o.cells();return e[Math.min(n,e.length)]}}return null}#O(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:o}=this;switch(o){case"cell":{const o=e.composedPath(),s=o.find((e=>e instanceof ue))?o.find((e=>e instanceof ie)):null,r=this.selectedCells();if(s instanceof ie)if(n||t){if(t)s.selected?this.#G(s):this.#V(s);else if(n){const e=r[r.length-1];if(e){const t=this.#q(e,s);t&&(r.includes(s)?this.#G(...t):this.#V(...t))}else this.#K(s)}}else this.#K(s);break}case"row":{const o=this.selectedRows(),s=e.composedPath(),r=s.find((e=>e instanceof ue))?s.find((e=>e instanceof de)):null;if(r instanceof de)if(n||t){if(t)r.selected?this.#Y(r):this.#U(r);else if(n){const e=o[o.length-1];if(e){const t=this.#H(e,r);t&&(o.includes(r)?this.#Y(...t):this.#U(...t))}else this.#z(r)}}else this.#z(r);break}}e.stopPropagation()}#L(e){e.stopPropagation()}#D(e){e.stopPropagation()}#M(e){const{key:t}=e,{selectby:n,activeCell:o,activeRow:s}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=this.#oe(),t=e?this.#Z(e):null,n=this.#se(),o=n?this.#Q(n):null;if(t&&o){const e=this.#q(t,o);e&&this.#K(...e)}break}case"row":{const e=this.#oe(),t=this.#se();if(e&&t){const n=this.#H(e,t);n&&this.#z(...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&o){const t=this.#ee(o);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?this.#G(t):this.#V(t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&o){const t=this.#te(o);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?this.#G(t):this.#V(t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=s??this.#oe(),n=o?this.#re(o):t?this.#Z(t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?this.#G(n):this.#V(n))}break}case"row":{const t=s?this.#W(s):this.#oe();if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?this.#Y(t):this.#U(t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=s??this.#se(),n=o?this.#ie(o):t?this.#Q(t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?this.#G(n):this.#V(n))}}break;case"row":{const t=s?this.#_(s):this.#se();if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?this.#Y(t):this.#U(t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(s){const e=this.#Z(s);e&&e.focus({preventScroll:!0})}break;case"row":{const e=this.#oe();e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(s){const e=this.#Q(s);e&&e.focus({preventScroll:!0})}break;case"row":{const e=this.#se();e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":o&&(this.#K(o),o.click());break;case"row":s&&(this.#z(s),s.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":this.#$(),this.#J(null);break;case"row":this.#B(),this.#X(null)}this.focus(),e.stopPropagation()}}#F(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}}#A(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":{const e=t.closest("e-gridcell");e&&this.#J(e);break}case"row":{const e=t.closest("e-gridrow");e&&this.#X(e);break}}}#j(){this.#I?this.#C=!0:this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))}#k(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof de)).forEach(((e,t)=>{e.posinset=t}))}};ye([y({type:String})],we.prototype,"name",void 0),ye([y({type:String,defaultValue:"cell"})],we.prototype,"selectby",void 0),ye([y({type:Boolean})],we.prototype,"multiselectable",void 0),we=ye([w({name:"e-grid"})],we);var Se,Ee,xe=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let ke=class extends HTMLElement{internals;static{(Se=x("template")).content.append(x("span",{attributes:{part:"icon"}}),x("span",{attributes:{part:"label"},children:[x("slot")]}),x("span",{attributes:{part:"arrow"}}),x("slot",{attributes:{name:"menu"}})),Ee=`\n            :host {\n                display: flex;\n                user-select: none;\n                white-space: nowrap;\n                box-sizing: border-box;\n            }\n            \n            :host([disabled]) {\n                opacity: 0.38;\n                pointer-events: none;\n            }\n            \n            :host(:focus-within) {\n                background-color: ${H};\n            }\n            \n            :host(:is([type="menu"], [type="submenu"])) ::slotted([slot="menu"]) {\n                z-index: 1;\n                position: absolute;\n            }\n            \n            :host(:is([type="menu"], [type="submenu"]):not([expanded])) ::slotted([slot="menu"]) {\n                width: 0;\n                height: 0;\n                padding: 0;\n                opacity: 0;\n                pointer-events: none;\n                overflow: hidden;\n            }\n            \n            :host([type="submenu"]) [part="icon"] {\n                visibility: hidden;\n            }\n            \n            :host([type="menu"]) [part="icon"],\n            :host(:not([type="submenu"])) [part="arrow"] {\n                display: none;\n            }\n            \n            :host(:is([type="checkbox"], [type="radio"])[checked]) [part="icon"]::before {\n                -webkit-mask-image: var(--theme-arrow-done-image, url(${j}));\n                mask-image: var(--theme-arrow-done-image, url(${j}));\n                background-color: black;\n            }\n            \n            :host([type="submenu"]) [part="arrow"]::after {\n                -webkit-mask-image: var(--theme-arrow-right-image, url(${F}));\n                mask-image: var(--theme-arrow-right-image, url(${F}));\n                background-color: black;\n            }\n            \n            [part="icon"],\n            [part="label"],\n            [part="arrow"] {\n                pointer-events: none;\n            }\n            \n            [part="icon"] {\n                flex: none;\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                padding: 2px;\n                overflow: hidden;\n                margin-right: 4px;\n            }\n            \n            [part="label"] {\n                flex: auto;\n                line-height: 18px;\n                padding: 2px;\n                margin-left: 8px;\n                margin-right: 8px;\n            }\n            \n            :host(:is(:not([type]), [type="button"], [type="radio"], [type="checkbox"])[checked]) [part="icon"] {\n                background-color: var(--theme-activated-item-color, ${W});\n            }\n            \n            :host(:is(:not([type]), [type="button"], [type="radio"], [type="checkbox"])) [part="icon"]::before {\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                content: "";\n                mask-size: 18px 18px;\n                -webkit-mask-size: 18px 18px;\n\n                mask-image: none;\n                -webkit-mask-image: none;\n                background-color: none;\n            }\n            \n            [part="arrow"] {\n                flex: none;\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                margin: 1px 4px 1px 1px;\n            }\n            \n            [part="arrow"]::after {\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                margin: 1px;\n                content: "";\n                mask-size: 18px 18px;\n                -webkit-mask-size: 18px 18px;\n\n                mask-image: none;\n                -webkit-mask-image: none;\n                background-color: none;\n            }\n\n            :host(:hover):host-context(e-menubar:focus),\n            :host(:hover):host-context(e-menubar:not(:focus-within)) {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n        `}constructor(){super();const e=this.attachInternals();this.internals=e,e.role="menuitem";const t=this.attachShadow({mode:"open"}),n=new CSSStyleSheet;n.replace(Ee),t.adoptedStyleSheets=[n],t.append(Se.content.cloneNode(!0))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}attributeChangedCallback(e,t,n){const{internals:o}=this;switch(e){case"type":switch(n){case"checkbox":case"radio":o.role=`menuitem${n}`;break;default:o.role="menuitem"}break;case"checked":o.ariaChecked=String(null!==n);break;case"disabled":o.ariaDisabled=String(null!==n);break;case"expanded":o.ariaExpanded=String(null!==n);break;case"label":o.ariaLabel=n}}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&this.#ae(),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e,expanded:t}=this;switch(e){case"menu":case"submenu":t||(this.expanded=!0,this.#ae())}}collapse(){const{type:e,expanded:t}=this;switch(e){case"menu":case"submenu":t&&(this.expanded=!1)}}#ae(){const{menu:e}=this;if(null!==e){const{width:t,height:n}=this.getBoundingClientRect(),{style:o}=e,{width:s,height:r}=e.getBoundingClientRect(),{clientWidth:i,clientHeight:a}=document.body,{type:l,offsetLeft:c,offsetTop:d}=this,h=c+t+s-i,p=d+r-a;"menu"===l?(o.setProperty("left",`${h>0?c+t-s:c}px`),o.setProperty("top",`${p>0?d-r:d+n}px`)):(o.setProperty("left",`${h>0?c-s:c+t}px`),o.setProperty("top",`${p>0?d+n-r:d}px`))}}};xe([S({selector:":scope > e-menu[slot=menu]"})],ke.prototype,"menu",void 0),xe([y({type:String})],ke.prototype,"name",void 0),xe([y({type:String,observed:!0})],ke.prototype,"label",void 0),xe([y({type:String})],ke.prototype,"value",void 0),xe([y({type:String})],ke.prototype,"hotkey",void 0),xe([y({type:Boolean,observed:!0})],ke.prototype,"disabled",void 0),xe([y({type:Boolean,observed:!0})],ke.prototype,"checked",void 0),xe([y({type:Boolean,observed:!0})],ke.prototype,"expanded",void 0),xe([y({type:Boolean})],ke.prototype,"overflown",void 0),xe([y({type:String,defaultValue:"button",observed:!0})],ke.prototype,"type",void 0),ke=xe([w({name:"e-menuitem"})],ke);var Ie,Ce=ke,Re=Object.assign((function(e){const{label:t,name:n,type:o,value:s,trigger:r,menu:i}=e;return i&&(i.slot="menu"),x("e-menuitem",{attributes:{tabindex:-1,title:t,name:n,value:s,type:o},children:i?[t,i]:[t],listeners:{click:r}})}),{prototype:Ce.prototype,button:e=>new Re({...e,type:"button"}),checkbox:e=>new Re({...e,type:"checkbox"}),radio:e=>new Re({...e,type:"radio"}),menu:e=>new Re({...e,type:"menu"}),submenu:e=>new Re({...e,type:"submenu"})}),Pe=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Te=class extends HTMLElement{internals;static{(Ie=x("template")).content.append(x("span",{attributes:{part:"label"}}),x("slot"))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace('\n            :host {\n                display: flex;\n                flex-direction: column;\n            }\n            \n            [part="label"] {\n                font-weight: bold;\n            }\n            \n            :host([label]) [part="label"] {\n                padding-bottom: 6px;\n            }\n        '),e.adoptedStyleSheets=[t],e.append(Ie.content.cloneNode(!0));const n=this.attachInternals();n.role="group",this.internals=n}attributeChangedCallback(e,t,n){const{internals:o}=this;"label"===e&&(o.ariaLabel=n)}};Pe([y({type:String})],Te.prototype,"name",void 0),Pe([y({type:String,observed:!0})],Te.prototype,"label",void 0),Te=Pe([w({name:"e-menuitemgroup"})],Te);var Ne,Oe,Le,De=Te,Fe=(Object.assign((function(e){const{name:t,items:n}=e;return x("e-menuitemgroup",{attributes:{name:t},children:n})}),{prototype:De.prototype,radios:e=>{const{name:t,items:n}=e;return x("e-menuitemgroup",{attributes:{name:t},children:n.map((({label:e,value:n})=>new Re({name:t,label:e,type:"radio",value:n})))})}}),function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i});let Ae=Ne=class extends HTMLElement{items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return this.#le}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}#ce;#le;static{(Oe=x("template")).content.append(x("slot")),Le=new WeakMap}constructor(){super(),this.#le=-1,this.#ce=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,this.#de.bind(this));const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: flex;\n                flex-direction: column;\n            \n                padding: 3px;\n                background-color: white;\n                width: max-content;\n                box-sizing: border-box;\n            \n                -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0 1px 3px;\n                box-shadow: rgba(0, 0, 0, 0.2) 0 1px 3px;\n            }\n            \n            :host([contextual]) {\n                z-index: 1;\n                position: absolute;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(Oe.content.cloneNode(!0)),this.addEventListener("click",this.#O.bind(this)),this.addEventListener("mouseover",this.#he.bind(this)),this.addEventListener("mouseout",this.#pe.bind(this)),this.addEventListener("focusin",this.#A.bind(this)),this.addEventListener("focusout",this.#ue.bind(this)),this.addEventListener("keydown",this.#M.bind(this))}connectedCallback(){const e=this.getAttribute("tabindex");this.tabIndex=null!==e?parseInt(e):-1}positionContextual(e,t){const{style:n}=this,{width:o,height:s}=this.getBoundingClientRect(),{scrollX:r,scrollY:i}=window,a=e+r,l=t+i,{clientWidth:c,clientHeight:d}=document.body,h=a+o-c,p=l+s-d;n.setProperty("left",`${h>0?a-o:a}px`),n.setProperty("top",`${p>0?l-s:l}px`)}#me(){this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]").forEach((e=>{e.collapse()}))}#fe(e){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem")).find((t=>t.contains(e)))??null}#de(e){return e instanceof Ce?NodeFilter.FILTER_ACCEPT:e instanceof De?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}firstItem(){const e=this.#ce;return e.currentNode=e.root,e.firstChild()}#ge(){const e=this.#ce;return e.currentNode=e.root,e.lastChild()}#be(e){const t=this.#ce;return t.currentNode=e,t.previousNode()}#ve(e){const t=this.#ce;return t.currentNode=e,t.nextNode()}#ye(e){const{menu:t}=e;return t instanceof Ne?t.firstItem():null}#we(e){null!==e&&(this.#le=this.items().indexOf(e))}#O(e){const{target:t}=e,n=t.closest("e-menuitem");if(n){const{type:e,checked:t}=n;switch(e){case"checkbox":n.checked=!t;break;case"radio":{const{name:e,value:t}=n;n.checked=!0,this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${e}]`).forEach((e=>{e.checked=e.value==t}));break}case"menu":case"submenu":n.toggle()}}e.stopPropagation()}#A(e){const{target:t}=e;if(t instanceof Ce){const e=this.#fe(t);e&&this.#we(e)}}#ue(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),this.#we(null)}}}#M(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?this.#be(n)??this.#ge():this.firstItem())?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?this.#ve(n)??this.firstItem():this.firstItem())?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":this.firstItem()?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":this.#ge()?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(n){const{type:t}=n;switch(t){case"menu":case"submenu":n.expand(),n.expanded&&this.#ye(n)?.focus({preventScroll:!0});break;default:n.click()}e.stopPropagation()}break;case"Escape":if(n)if(e.composedPath().find((e=>e instanceof je))==this){const{contextual:t}=this;t&&(this.blur(),this.dispatchEvent(new Event("close",{bubbles:!0})),e.stopPropagation())}else n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof je))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;"submenu"===t&&(n.expanded||(n.expand(),this.#ye(n)?.focus({preventScroll:!0}),e.stopPropagation()))}}}#pe(e){const{target:t,relatedTarget:n}=e;if(t instanceof Ce){const o=this.#fe(t);if(null!==o&&("submenu"!=o.type||o.expanded||Le.get(o)?.cancel(),e.composedPath().find((e=>e instanceof je))==this)){const{activeItem:t}=this;if("submenu"==t?.type&&t.expanded){let e=Le.get(t);e&&e.cancel(),e=t.animate(null,{duration:200}),Le.set(t,e);const{finished:n}=e;n.then((()=>{t.collapse()})).catch((()=>{})).finally((()=>{Le.delete(t)}))}const{left:o,right:s,top:r,bottom:i}=(()=>{const e=this.closest("e-menuitem");if(e&&!e.expanded){e.expand();const t=this.getBoundingClientRect();return e.collapse(),t}return this.getBoundingClientRect()})(),{clientX:a,clientY:l}=e,c=!(o>a||s<a||r>l||i<l),d=this.contains(n);c&&d&&(n instanceof je&&n!==this?n.focus({preventScroll:!0}):(this.focus({preventScroll:!0}),this.#we(null))),c||(this.focus({preventScroll:!0}),this.#we(null))}}}#he(e){const{target:t}=e;if(t instanceof Ce){const n=this.#fe(t);if(null!==n&&("submenu"===n.type&&n.expanded&&Le.get(n)?.cancel(),e.composedPath().find((e=>e instanceof je))==this)){const{activeItem:e}=this;if("submenu"===e?.type&&e.expanded&&!e.contains(t)){let t=Le.get(e);t&&t.cancel(),t=e.animate(null,{duration:400}),Le.set(e,t);const{finished:n}=t;n.then((()=>{e.collapse()})).catch((()=>{})).finally((()=>{Le.delete(e)}))}if(this.#we(n),n.focus({preventScroll:!0}),"submenu"===n.type)if(n.expanded)n.menu?.focus({preventScroll:!0});else{let e=Le.get(n);e&&e.cancel(),e=n.animate(null,{duration:200}),Le.set(n,e);const{finished:t}=e;t.then((()=>{const{activeItem:e}=this;this.#me(),e&&(Le.get(e)?.cancel(),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{})).finally((()=>{Le.delete(n)}))}}}}};Fe([y({type:String})],Ae.prototype,"name",void 0),Fe([y({type:Boolean})],Ae.prototype,"contextual",void 0),Ae=Ne=Fe([w({name:"e-menu"})],Ae);var Me,je=Ae,$e=(Object.assign((function(e){const{name:t,children:n}=e;return x("e-menu",{attributes:{name:t,tabindex:-1},children:n})}),{prototype:je.prototype}),function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i});let Be=class extends HTMLElement{#le;#ce;static{(Me=x("template")).content.append(x("slot"))}constructor(){super(),this.#ce=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,this.#de.bind(this)),this.#le=-1;const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                position: relative;\n                display: flex;\n                flex-direction: row;\n                width: max-content;\n            }\n            \n            :host(:focus) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(Me.content.cloneNode(!0)),this.addEventListener("click",this.#O.bind(this)),this.addEventListener("focus",this.#F.bind(this)),this.addEventListener("focusin",this.#A.bind(this)),this.addEventListener("focusout",this.#ue.bind(this)),this.addEventListener("mouseover",this.#he.bind(this)),this.addEventListener("keydown",this.#M.bind(this))}connectedCallback(){const e=this.getAttribute("tabindex");this.tabIndex=null!==e?parseInt(e):-1}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return this.#le}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}#de(e){return e instanceof Ce&&!e.disabled&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof De?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}firstItem(){const e=this.#ce;return e.currentNode=e.root,e.firstChild()}#ge(){const e=this.#ce;return e.currentNode=e.root,e.lastChild()}#be(e){const t=this.#ce;return t.currentNode=e,t.previousSibling()}#ve(e){const t=this.#ce;return t.currentNode=e,t.nextSibling()}#ye(e){const{menu:t}=e;if(t){const e=this.#ce;return e.currentNode=t,e.firstChild()}return null}#we(e){const{activeItem:t,expanded:n}=this;null!==t&&t!==e&&t.collapse(),null!==e?(n&&e.expand(),this.#le=this.items().indexOf(e)):this.#le=-1}get#e(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}#Se(e){return e.closest(":is(e-menubar, e-menu)")==this}#fe(e){return this.#e.find((t=>t.contains(e)))??null}#F(e){const{relatedTarget:t}=e,{activeItem:n}=this;this.contains(t)||(n??this.firstItem())?.focus()}#A(e){const{target:t}=e;if(t instanceof Element){const e=this.#fe(t);this.#we(e),this.tabIndex=-1}}#ue(e){const{target:t,relatedTarget:n}=e;if(t instanceof HTMLElement){const e=this.#fe(t);e&&e.collapse()}!this.contains(n)&&(this.expanded=!1,this.tabIndex=0)}#he(e){const{target:t}=e,{expanded:n,activeItem:o}=this;if(t instanceof Ce&&this.#Se(t)&&t!==o&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}}#O(e){const{target:t}=e,{expanded:n,activeItem:o}=this;if(t instanceof Ce&&this.#Se(t)){const e=!n;if(this.expanded=e,e){o&&!o.expanded&&o.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else o&&(o.collapse(),o.blur())}}#M(e){const{key:t}=e,{expanded:n}=this;let{activeItem:o}=this;switch(t){case"ArrowLeft":(o?this.#be(o)??this.#ge():this.firstItem())?.focus({preventScroll:!0}),({activeItem:o}=this),n&&o&&this.#ye(o)?.focus({preventScroll:!0});break;case"ArrowRight":(o?this.#ve(o)??this.firstItem():this.#ge())?.focus({preventScroll:!0}),({activeItem:o}=this),n&&o&&this.#ye(o)?.focus({preventScroll:!0});break;case"Enter":case" ":o&&(this.expanded=!n,!n)&&this.#ye(o)?.focus({preventScroll:!0});break;case"Escape":n?(this.expanded=!1,o&&(o.collapse(),o.focus({preventScroll:!0}))):this.focus({preventScroll:!0}),e.stopPropagation()}}};$e([y({type:String})],Be.prototype,"name",void 0),$e([y({type:Boolean})],Be.prototype,"expanded",void 0),Be=$e([w({name:"e-menubar"})],Be);var qe,He,_e=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let We=class extends HTMLElement{static{(qe=x("template")).content.append(x("slot"),x("slot",{attributes:{name:"menu"}})),He=`\n            :host {\n                position: relative;\n                display: inline-block;\n                padding: 2px;\n                line-height: 18px;\n                user-select: none;\n                white-space: nowrap;\n                cursor: pointer;\n            }\n            \n            :host(:focus) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n            \n            :host(:focus-within:not(:focus)) {\n                background-color: var(--theme-focused-item-color, ${H});\n            }\n            \n            :host(:hover:not(:focus-within)) {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n            \n            :host([disabled]) {\n                color: lightgray;\n            }\n            \n            ::slotted([slot="menu"]) {\n                z-index: 1;\n                position: absolute;\n                color: initial;\n            }\n            \n            :host(:not([expanded])) ::slotted([slot="menu"]) {\n                opacity: 0;\n                pointer-events: none;\n            }\n            \n            :host::after {\n                display: inline-block;\n                text-align: center;\n                width: 18px;\n                height: 18px;\n                content: "";\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(He),e.adoptedStyleSheets=[t],e.append(qe.content.cloneNode(!0)),this.addEventListener("keydown",this.#M.bind(this)),this.addEventListener("click",this.#O.bind(this)),this.addEventListener("focusout",this.#ue.bind(this))}connectedCallback(){const e=this.getAttribute("tabindex");this.tabIndex=null!==e?parseInt(e):-1}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}expand(){const{expanded:e}=this;e||(this.expanded=!0,this.#ae())}collapse(){const{expanded:e}=this;e&&(this.expanded=!1)}#ae(){const{menu:e}=this;if(null!==e){const{width:t,height:n}=this.getBoundingClientRect(),{style:o}=e,{width:s,height:r}=e.getBoundingClientRect(),{clientWidth:i,clientHeight:a}=document.body,{offsetLeft:l,offsetTop:c}=this,d=l+t+s-i,h=c+r-a;o.setProperty("left",(d>0?t-s:0)+"px"),o.setProperty("top",`${h>0?-r:n}px`)}}#O(e){const{target:t}=e,{menu:n}=this;if(n&&!n.contains(t)){this.toggle();const{expanded:e}=this;e&&n?.focus({preventScroll:!0})}}#ue(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()}#M(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.firstItem?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation()}}};_e([S({selector:":scope > e-menu[slot=menu]"})],We.prototype,"menu",void 0),_e([S({selector:":scope > e-menu[slot=menu] e-menuitem"})],We.prototype,"firstItem",void 0),_e([y({type:String})],We.prototype,"name",void 0),_e([y({type:Boolean})],We.prototype,"disabled",void 0),_e([y({type:Boolean})],We.prototype,"expanded",void 0),We=_e([w({name:"e-menubutton"})],We);var Ke,ze=We,Ve=(Object.assign((function(e){const{menu:t}=e;return t.slot="menu",x("e-menubutton",{attributes:{tabindex:-1},children:[t]})}),{prototype:ze.prototype}),function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i});class Ue extends f{rows;columns;constructor(e){super();const{rows:t=[],columns:n=[]}=e??{},o=new g(t);o.setParent(this),this.rows=o;const s=new g(n);s.setParent(this),this.columns=s}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n===e?t:void 0}));const n=(()=>{const{type:n}=e;return n===String?(n,o)=>{const s=String(e.extract(n)),r=String(e.extract(o));return t*s.localeCompare(r)}:(n,o)=>{const s=Number(e.extract(n)),r=Number(e.extract(o));return Math.sign(t*(s-r))}})();this.rows.sort(n)}}class Ge extends f{name;type;label;extract;filters;sortorder;constructor(e){super();const{name:t,type:n,label:o,extract:s,filters:r=[]}=e;this.name=t,this.type=n,this.label=o,this.extract=s,this.filters=r}}Ve([p()],Ge.prototype,"sortorder",void 0);class Ye extends f{id;constructor(e){super();const{id:t}=e;this.id=t}}let Je=class extends D{#Ee;#xe;#ke;static{Ke=`\n            :host {\n                display: block;\n            }\n            \n            e-gridrow[hidden] {\n                display: none;\n            }\n            \n            e-gridcell[type="gridcell"] {\n                max-width: 0;\n                overflow: clip;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n            }\n            \n            e-gridcell[type="columnheader"] {\n                width: 120px;\n            }\n            \n            .gridcell-label,\n            .gridheader-label {\n                padding-left: 4px;\n            }\n            \n            .gridcell-content {\n                overflow: clip;\n            }\n            \n            .gridheader-content {\n                display: flex;\n            }\n            \n            .gridheader-label {\n                flex: 1 1 0;\n                overflow: clip;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n            }\n            \n            e-treeitem::part(arrow) {\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                margin: 1px 4px 1px 1px;\n            }\n            \n            .gridheader-sort-indicator {\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n            }\n            \n            .gridheader-sort-indicator::before {\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                margin: 1px;\n                content: "";\n\n                mask-size: 18px 18px;\n                -webkit-mask-size: 18px 18px;\n                background-color: none;\n            }\n            \n            e-gridcell[type="columnheader"]:not([data-sortorder]) .gridheader-sort-indicator::before {\n                background-color: unset;\n            }\n            \n            e-gridcell[type="columnheader"][data-sortorder="1"] .gridheader-sort-indicator::before {\n                -webkit-mask-image: var(--theme-arrow-dropup-image, url(${M}));\n                mask-image: var(--theme-arrow-dropup-image, url(${M}));\n                background-color: black;\n            }\n            \n            e-gridcell[type="columnheader"][data-sortorder="-1"] .gridheader-sort-indicator::before {\n                -webkit-mask-image: var(--theme-arrow-dropdown-image, url(${A}));\n                mask-image: var(--theme-arrow-dropdown-image, url(${A}));\n                background-color: black;\n            }\n        `}constructor(e){super(),this.#ke=[],this.#xe=(e,t)=>x("label",{children:t.extract(e)}),this.#Ee=e=>x("label",{children:e.label});const t=this.attachShadow({mode:"open"}),n=new CSSStyleSheet;n.replace(Ke),t.adoptedStyleSheets=[n,U],this.setModel(e??new Ue)}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.render()}}get gridElement(){return this.shadowRoot.querySelector("e-grid")}setColumnDelegate(e){this.#Ee=e}setCellDelegate(e){this.#xe=e}getRowElement(e){return this.shadowRoot.querySelector(`e-grid > e-gridbody > e-gridrow[data-index='${e.id}']`)}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`e-grid > e-gridhead > e-gridcell[id=${e.name}]`)}getColumnCellsElements(e){return Array.from(this.shadowRoot.querySelectorAll(`e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return E(x("e-grid",{attributes:{tabindex:0,selectby:"row",multisectable:!0},children:[x("e-gridhead",{children:O(e.columns,(e=>this.#Ie(e))),listeners:{contextmenu:this.#Ce.bind(this),click:this.#Re.bind(this)}}),x("e-gridbody",{children:O(e.rows,(e=>this.#Pe(e)))})]}))}filter(e){const t=this.#ke;return!(t.length>0)||t.some((t=>t.filter(e)))}addDisplayFilter(e){const{model:t,gridElement:n}=this,{rows:o}=t,s=this.#ke;s.includes(e)||(s.push(e),Array.from(o.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!this.filter(e))}))),n.clearSelection()}removeDisplayFilter(e){const{model:t,gridElement:n}=this,{rows:o}=t,s=this.#ke,r=s.indexOf(e);r>-1&&(s.splice(r,1),Array.from(o.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!this.filter(e))}))),n.clearSelection()}removeAllDisplayFilters(){const{model:e,gridElement:t}=this,{rows:n}=e,o=this.#ke;o.splice(0,o.length),Array.from(n.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!this.filter(e))})),t.clearSelection()}#Ie(e){return R(e,x("e-gridcell",{attributes:{type:"columnheader",id:e.name},children:[x("span",{attributes:{class:"gridheader-content"},children:[x("span",{attributes:{class:"gridheader-label"},children:this.#Ee(e)}),x("span",{attributes:{class:"gridheader-sort-indicator"}}),x("e-wsash",{attributes:{controls:e.name}})]})]}),["sortorder"],((e,t,n,o)=>{switch(t){case"sortorder":{const{dataset:t}=e;void 0!==o?t.sortorder=o.toString():delete t.sortorder;break}}}))}#Pe(e){const{model:t}=this;return x("e-gridrow",{attributes:{tabindex:-1},dataset:{index:e.id},children:O(t.columns,(t=>this.#Te(e,t)))})}#Te(e,t){return x("e-gridcell",{attributes:{type:"gridcell",headers:t.name},children:x("span",{attributes:{class:"gridcell-content"},children:[x("span",{attributes:{class:"gridcell-label"},children:this.#xe(e,t)})]})})}#Ce(e){const{clientX:t,clientY:n,currentTarget:o,target:s}=e,{gridElement:r}=this,i=o,a=s.closest("e-gridcell"),{model:l}=this;if(a){const o=l.getColumnByName(a.id),{sortorder:s,filters:c}=o,d=x("e-menu",{attributes:{contextual:!0},children:[x("e-menuitem",{attributes:{label:"Resize Auto"},children:"Resize auto",listeners:{click:()=>{const e=this.getColumnHeaderElement(o);if(e){const{style:t}=e,n=this.getColumnCellsElements(o).map((e=>e.querySelector(".gridcell-label"))).reduce(((e,t)=>Math.max(e,t.getBoundingClientRect().width)),0);t.setProperty("width",`${n}px`)}r.focus()}}}),x("e-menuitem",{attributes:{label:"Resize To Default"},children:"Resize to Default",listeners:{click:()=>{const e=this.getColumnHeaderElement(o);if(e){const{style:t}=e;t.removeProperty("width")}r.focus()}}}),x("e-menuitem",{attributes:{type:"submenu",label:"Sort"},children:["Sort",x("e-menu",{attributes:{slot:"menu"},children:[x("e-menuitem",{attributes:{type:"radio",name:"sort",value:"1",label:"Ascending",checked:1===s},children:"Ascending"}),x("e-menuitem",{attributes:{type:"radio",name:"sort",value:"-1",label:"Descending",checked:-1===s},children:"Descending"})],listeners:{click:e=>{const{target:t}=e,n=t.closest("e-menuitem");n&&l.sortByColumn(o,Number(n.value)),r.focus()}}})]}),x("e-menuitem",{attributes:{type:"submenu",label:"Filter"},children:["Filter",x("e-menu",{attributes:{slot:"menu"},children:c.map((e=>{const{name:t}=e;return x("e-menuitem",{attributes:{type:"checkbox",checked:this.#ke.includes(e),label:t},children:t})})).concat(x("e-menuitem",{attributes:{type:"button",label:"Remove filters"},children:"Remove filters"})),listeners:{click:e=>{const{target:t}=e,n=t.closest("e-menuitem");if(n){const{checked:e,label:t}=n,o=c.find((e=>e.name===t));o?e?this.addDisplayFilter(o):this.removeDisplayFilter(o):this.removeAllDisplayFilters()}r.focus()}}})]})]});i.append(d),d.positionContextual(t,n),d.focus({preventScroll:!0}),e.preventDefault()}}#Re(e){const{target:t}=e;if(t.matches("e-gridcell[type=columnheader] :scope:not(e-wsash)")){const e=t.closest("e-gridcell"),{model:n}=this,{columns:o}=n;if(e){const t=Array.from(o.values()).find((t=>t.name==e.id));if(t){const{sortorder:e=-1}=t;n.sortByColumn(t,-e)}}}}};Je=Ve([w({name:"e-gridview"})],Je);var Xe,Ze,Qe=Je,et=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let tt=class extends HTMLElement{static{(Xe=x("template")).content.append(x("div",{attributes:{part:"content"},children:[x("span",{attributes:{part:"arrow"}}),x("slot")]}),x("slot",{attributes:{name:"group"}})),Ze=`\n            :host {\n                display: block;\n                user-select: none;\n            }\n            \n            :host([droptarget]) {\n                background-color: var(--theme-droptarget-item-color, ${K});\n            }\n\n            :host(:focus-visible) {\n                outline: none;\n            }\n            \n            :host([active]):host-context(e-tree:focus-within) [part="content"] {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n            \n            [part="content"]:hover {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n            \n            :host([selected]) [part="content"] {\n                background-color: var(--theme-selected-item-color, ${_});\n            }\n            \n            [part="content"] {\n                display: flex;\n                line-height: 22px;\n                padding-left: 12px;\n            }\n            \n            :host(:not([type="parent"])) ::slotted([slot="group"]),\n            :host(:not([expanded])) ::slotted([slot="group"]) {\n                display: none;\n            }\n            \n            :host(:not([type="parent"])) [part="arrow"]::before {\n                visibility: hidden;\n            }\n            \n            [part="arrow"] {\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                margin: 1px 4px 1px 1px;\n            }\n            \n            [part="arrow"]::before {\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                margin: 1px;\n                content: "";\n\n                mask-size: 18px 18px;\n                -webkit-mask-size: 18px 18px;\n                background-color: none;\n            }\n            \n            :host(:not([expanded])) [part="arrow"]::before {\n                -webkit-mask-image: var(--theme-arrow-right-image, url(${F}));\n                mask-image: var(--theme-arrow-right-image, url(${F}));\n                background-color: black;\n            }\n            \n            :host([expanded]) [part="arrow"]::before {\n                -webkit-mask-image: var(--theme-arrow-dropdown-image, url(${A}));\n                mask-image: var(--theme-arrow-dropdown-image, url(${A}));\n                background-color: black;\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(Ze),e.adoptedStyleSheets=[t],e.append(Xe.content.cloneNode(!0))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.shadowRoot.adoptedStyleSheets[0].cssRules[6].styleMap.set("padding-left",12*Number(n)+"px")}}toggle(e){const{expanded:t}=this;this.expanded=e??!t}};et([y({type:String})],tt.prototype,"name",void 0),et([y({type:Number})],tt.prototype,"posinset",void 0),et([y({type:String,observed:!0})],tt.prototype,"label",void 0),et([y({type:Boolean,observed:!0})],tt.prototype,"expanded",void 0),et([y({type:Boolean})],tt.prototype,"droptarget",void 0),et([y({type:Boolean})],tt.prototype,"active",void 0),et([y({type:Boolean,observed:!0})],tt.prototype,"selected",void 0),et([y({type:Number,observed:!0})],tt.prototype,"level",void 0),et([y({type:String,defaultValue:"leaf"})],tt.prototype,"type",void 0),et([S({selector:":scope > e-treeitemgroup[slot=group]"})],tt.prototype,"group",void 0),tt=et([w({name:"e-treeitem"})],tt);var nt,ot=tt;let st=class extends HTMLElement{static{(nt=x("template")).content.append(x("slot"))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: block;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(nt.content.cloneNode(!0))}};st=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([w({name:"e-treeitemgroup"})],st);var rt,it=st,at=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let lt=class extends HTMLElement{items;get activeItem(){return this.querySelector("e-treeitem[active]")}get dropTargetItem(){return this.querySelector("e-treeitem[droptarget]")}#I;#C;#ce;static{(rt=x("template")).content.append(x("slot"))}constructor(){super(),this.#ce=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,this.#Ne.bind(this)),this.#I=!1,this.#C=!1,this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: block;\n            }\n            \n            :host(:focus) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(rt.content.cloneNode(!0)),this.addEventListener("click",this.#O.bind(this)),this.addEventListener("contextmenu",this.#L.bind(this)),this.addEventListener("dblclick",this.#D.bind(this)),this.addEventListener("mousedown",this.#Oe.bind(this)),this.addEventListener("dragend",this.#Le.bind(this)),this.addEventListener("dragenter",this.#De.bind(this)),this.addEventListener("dragleave",this.#Fe.bind(this)),this.addEventListener("dragover",this.#Ae.bind(this)),this.addEventListener("drop",this.#Me.bind(this)),this.addEventListener("focus",this.#F.bind(this)),this.addEventListener("focusin",this.#A.bind(this)),this.addEventListener("focusout",this.#ue.bind(this)),this.addEventListener("keydown",this.#M.bind(this)),this.addEventListener("select",this.#j.bind(this))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}selectedItems(){const e=[],t=this.#ce;t.currentNode=t.root;let n=this.firstItem();for(;null!==n;)n.selected&&e.push(n),n=this.#ve(n);return e}beginSelection(){this.#I=!0}endSelection(){this.#I=!1,this.#C&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),this.#C=!1)}#Ne(e){return e instanceof ot?NodeFilter.FILTER_ACCEPT:e instanceof it?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}#je(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let o=this.#ve(e);for(;o&&o!==t;)n.push(o),o=this.#ve(o);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let o=this.#be(e);for(;o&&o!==t;)n.push(o),o=this.#be(o);return n.push(t),n}return[]}#$e(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()}#Be(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()}#qe(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()}#He(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()}#we(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(this.#ce.currentNode=e,e.active=!0,e.tabIndex=0)}#_e(e){const{dropTargetItem:t}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0):this.droptarget=!1}firstItem(){const e=this.#ce,{root:t}=e;return e.currentNode=t,e.firstChild()}#ge(){const e=this.#ce,{root:t}=e;return e.currentNode=t,e.lastChild()}#be(e){const t=this.#ce;t.currentNode=e;const n=t.previousSibling();return n?this.#We(n):t.parentNode()}#ve(e){const t=this.#ce;t.currentNode=e;const{type:n,expanded:o}=e;return"leaf"===n||o?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())}#We(e){if(e.expanded){const e=this.#ce.lastChild();if(e)return this.#We(e)}return e}#O(e){const{target:t,shiftKey:n,ctrlKey:o}=e,s=t.closest("e-treeitem");if(s&&!n&&!o){this.#$e(s);const{type:e}=s;"parent"==e&&s.toggle()}e.stopPropagation()}#L(e){e.stopPropagation()}#D(e){e.stopPropagation()}#Le(){this.#_e(null)}#De(e){const{target:t}=e,n=t.closest("e-treeitem");if(n){const{type:e}=n;"parent"==e&&n.toggle(!0),this.#_e(n)}e.preventDefault()}#Ae(e){e.preventDefault()}#Fe(e){const{relatedTarget:t}=e;if(t instanceof Element&&!t.closest("e-treeitem")){let e=t;for(;!(e instanceof ot||e instanceof Document);)e=e.getRootNode(),e instanceof ShadowRoot&&(e=e.host);e instanceof Document&&this.#_e(null)}}#Me(){this.#_e(null)}#M(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=this.#ce;e.currentNode=n;const t=(e.currentNode=e.parentNode()??this,e.firstChild()),o=(e.currentNode=e.parentNode()??this,e.lastChild());if(t&&o){const e=this.#je(t,this.#We(o));e&&this.#$e(...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=this.#ce.parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=this.#be(n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?this.#qe(t):this.#Be(t))}}else{const e=this.firstItem();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=this.#ve(n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?this.#qe(t):this.#Be(t))}}else{const e=this.#ge();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=this.firstItem();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=this.#ge();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(this.#$e(n),n.click()),e.stopPropagation();break;case"Escape":this.#He(),this.#we(null),this.focus(),e.stopPropagation()}}#F(e){const{relatedTarget:t}=e,{activeItem:n}=this;this.contains(t)||(n??this.firstItem())?.focus()}#A(e){const{target:t}=e,n=t.closest("e-treeitem");n&&(this.#we(n),this.tabIndex=-1)}#ue(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)}#Oe(e){const{target:t,ctrlKey:n,shiftKey:o,button:s}=e;if(t instanceof ot){const{selected:r}=t;switch(s){case 0:if(o||n||r){if(n)r&&t.blur(),r?this.#qe(t):this.#Be(t),e.stopPropagation();else if(o){const{activeItem:n}=this;if(n){const e=this.#je(n,t);e&&this.#$e(...e)}e.stopPropagation()}}else this.#$e(t);break;case 2:r||this.#$e(t)}}}#j(){this.#I?this.#C=!0:this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))}};at([y({type:Boolean})],lt.prototype,"droptarget",void 0),at([y({type:String})],lt.prototype,"name",void 0),lt=at([w({name:"e-tree"})],lt);var ct=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class dt extends f{items;childItems;sortFunction;constructor(e){super();const{items:t=[],sortFunction:n}=e??{};t.forEach(((e,t)=>e.index=t));const o=new g(t);o.setParent(this),this.childItems=o,this.items=new g(this.subtreeItems()),this.sortFunction=n??function(e,t){return e.id.localeCompare(t.id)},this.addEventListener("modelchange",this.#g.bind(this))}#g(e){const{target:t}=e,{items:n,sortFunction:o,subtreeItems:s}=this;t instanceof g&&(t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:r}=e,i=Array.from(t.values()).flatMap((e=>Array.of(e,...s.call(e)))),a=Array.from(r.values()).flatMap((e=>Array.of(e,...s.call(e))));n.beginChanges(),n.append(...i),a.forEach((e=>n.remove(e))),o&&n.sort(o),n.endChanges()})),Array.from(t.values()).forEach(((e,t)=>{e.index=t})))}subtreeItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...e.subtreeItems())))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:o}=e;for(let s=0;s<n;s++){const n=t.get(s),{uri:r}=n,{length:i}=r;if(e.startsWith(r))return i===o?n:dt.prototype.getItemByUri.call(n,e)}return null}}class ht{items;constructor(e){this.items=e}get count(){return this.items.length}remove(){const{items:e}=this,t=e.reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof pt||n instanceof dt){const{childItems:o}=n,s=e.get(o);s?s.push(t):e.set(o,[t])}return e}),new Map);Array.from(t.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}class pt extends f{childItems;id;type;index;get level(){const{parentNode:e}=this;return e instanceof pt?e.level+1:0}get uri(){const{parentNode:e,id:t}=this;return e instanceof pt?`${e.uri}${t}/`:`${t}/`}get parentItem(){const{parentNode:e}=this;return e instanceof pt?e:null}constructor(e){super();const{id:t,type:n,items:o=[]}=e;o.forEach(((e,t)=>e.index=t));const s=new g(o);s.setParent(this),this.id=t,this.childItems=s,this.type=n,this.index=-1}subtreeItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...e.subtreeItems())))}remove(){const{parentNode:e}=this;if(e instanceof pt||e instanceof dt){const{childItems:t}=e;t&&t.remove(this)}}}ct([p()],pt.prototype,"id",void 0),ct([p()],pt.prototype,"type",void 0),ct([p()],pt.prototype,"index",void 0);let ut=class extends D{#Ke;static{}constructor(e){super(),this.#Ke=new WeakMap;const t=this.attachShadow({mode:"open"}),n=new CSSStyleSheet;n.replace("\n            :host {\n                display: block;\n            }\n            \n            .offscreen {\n                position: absolute;\n                top: 0;\n                left: 0;\n                transform: translateY(-100%);\n                display: block;\n                pointer-events: none;\n            }\n            \n            .dragimage {\n                white-space: nowrap;\n                margin: 1px;\n                display: inline-block;\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n                border-radius: 3px; \n                padding: 2px 4px;\n            }\n        "),t.adoptedStyleSheets=[n,U],this.setModel(e??new dt)}attributeChangedCallback(e,t,n){switch(e){case"draggable":{const{treeElement:e}=this;e&&Array.from(e.items).forEach((e=>e.draggable=null!==n));break}}}get treeElement(){return this.shadowRoot.querySelector("e-tree")}treeItemElement(e){return this.shadowRoot.querySelector(`e-treeitem[uri=${e.uri}]`)}#ze(e){let t="",n=e;for(;null!==n;){const{dataset:e,parentElement:o}=n;t=`${e.id}/`+t,n=o?.closest("e-treeitem")??null}return t}treeItem(e){return this.model.getItemByUri(this.#ze(e))}renderShadow(){const{model:e}=this;return E(x("e-tree",{attributes:{tabindex:0},children:O(e.childItems,(e=>this.#Ve(e))),listeners:{dragstart:this.#Ue.bind(this),drop:this.#Me.bind(this),contextmenu:this.#L.bind(this),focus:this.#F.bind(this),focusin:this.#A.bind(this),focusout:this.#ue.bind(this)}}),x("div",{attributes:{class:"offscreen",hidden:!0},children:O(e.items,(e=>this.#Ge(e)))}))}itemContentDelegate(e){return R(e,x("span"),["name"],((e,t,n,o)=>{e.textContent=o}))}itemToolbarDelegate(e){return null}itemMenuDelegate(){return null}selectedItems(){const{treeElement:e}=this;return e?e.selectedItems().map((e=>this.treeItem(e))):[]}activeItem(){const{treeElement:e}=this;if(e){const{activeItem:t}=e;return t?this.treeItem(t):null}return null}#Ye(e){return this.#Ke.get(e)?.deref()??null}#Ve(e){const{draggable:t}=this,{index:n,level:o,id:s}=e,r=this.itemToolbarDelegate(e),i=this.itemContentDelegate(e),a=R(e,x("e-treeitem",{attributes:{draggable:String(t),posinset:n,level:o},dataset:{id:s},children:[...i?[i]:[],...r?[r]:[]]}),["index","id","type"],((t,n,o,s)=>{switch(n){case"index":t.posinset=s;break;case"id":{const{dataset:e}=t;e.id=s;break}case"type":switch(t.type=s,s){case"parent":t.append(x("e-treeitemgroup",{attributes:{slot:"group"},children:O(e.childItems,(e=>this.#Ve(e)))}));break;case"leaf":{const{group:e}=t;e&&e.remove();break}}}}));return a}#Ge(e){const t=R(e,x("span",{attributes:{class:"dragimage"}}),["name"],((e,t,n,o)=>{e.textContent=o}));return this.#Ke.set(e,new WeakRef(t)),t}#Ue(e){const{currentTarget:t,target:n}=e,o=t,s=n.closest("e-treeitem"),{model:r}=this;if(s){const{dataTransfer:t}=e,n=o.selectedItems(),{length:s}=n;if(s>0){const e=n.map((e=>this.#ze(e))).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),o=e.join("\n"),s=e[e.length-1],i=r.getItemByUri(s);if(i&&t){t.dropEffect="move",t.setData("text/plain",o);const e=this.#Ye(i);e&&t.setDragImage(e,-16,0)}}}}#Me(e){const{currentTarget:t,target:n}=e,o=t,s=n.closest("e-treeitem"),{model:r}=this,{sortFunction:i}=r;if(s){const{dataTransfer:t}=e;if(t){const e=this.#ze(s),n=r.getItemByUri(e),a=t.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t===e))){const e=a.map((e=>r.getItemByUri(e))).filter((e=>null!==e)),{type:t,parentItem:l}=n,{childItems:c}="parent"===t?n:l||r;Array.from(c.values()).forEach((t=>{const n=e.findIndex((e=>e.id===t.id));n>-1&&(confirm(`Replace ${t.id}?`)?c.remove(t):(e.copyWithin(n,n+1),e.length--))})),new ht(e).remove(),i?(c.beginChanges(),c.append(...e),c.sort(i),c.endChanges()):c.insert(s.posinset,...e);const d=o.querySelectorAll(`e-treeitem:is(${e.map((e=>`[data-uri="${e.uri}"]`)).join(",")})`);o.beginSelection(),d.forEach((e=>e.selected=!0)),o.endSelection()}}}}#L(e){const{clientX:t,clientY:n,currentTarget:o,target:s}=e,r=o,i=s.closest("e-treeitem");if(i){const e=this.itemMenuDelegate();null!==e&&(e.contextual=!0,e.addEventListener("close",(()=>{i.focus({preventScroll:!0})})),r.append(e),e.positionContextual(t,n),e.focus({preventScroll:!0}))}e.preventDefault()}#F(e){const{currentTarget:t,relatedTarget:n}=e,o=t;if(null!==n&&!this.contains(n)){const t=n.compareDocumentPosition(this);if(!(t&Node.DOCUMENT_POSITION_DISCONNECTED)&&t&Node.DOCUMENT_POSITION_PRECEDING){const{activeItem:t}=o;if(t){const n=t.querySelector("e-toolbar");n&&(e.preventDefault(),n.focus())}}}}#A(e){const{target:t}=e,n=t.closest("e-treeitem");if(n){const e=n.querySelector("e-toolbar");e&&(e.tabIndex=e.contains(t)?-1:0)}}#ue(e){const{target:t}=e,n=t.closest("e-treeitem");if(n){const e=n.querySelector("e-toolbar");e&&(e.tabIndex=e.contains(t)?0:-1)}}};ct([y({type:Boolean,observed:!0})],ut.prototype,"draggable",void 0),ut=ct([w({name:"e-treeview"})],ut);var mt=ut,ft=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class gt extends pt{childCount;visibility;constructor(e){super(e),this.childCount=this.childItems.length,this.visibility=!0,this.addEventListener("modelchange",this.#g.bind(this))}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.id)}#g(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)}}ft([p()],gt.prototype,"childCount",void 0),ft([p()],gt.prototype,"visibility",void 0);class bt extends ht{constructor(e){super(e)}get count(){return this.items.length}show(){this.items.forEach((e=>e.show()))}hide(){this.items.forEach((e=>e.hide()))}display(){const e=this.items.map((e=>e.id)).join(" ");console.log(e)}}let vt=class extends mt{render(){super.render();const{shadowRoot:e,treeElement:t}=this;e.prepend(x("link",{attributes:{rel:"stylesheet",href:"../css/mytreeview.css"}})),t.addEventListener("keydown",this.#M.bind(this))}itemContentDelegate(e){return E(R(e,x("span",{attributes:{class:"label"}}),["id"],((e,t,n,o)=>{e.textContent=o})),R(e,x("span",{attributes:{class:"badge"}}),["childCount","type"],((t,n,o,s)=>{switch(n){case"type":"leaf"===s?(t.textContent=null,t.hidden=!0):(t.textContent=`(${e.childCount})`,t.hidden=!1);break;case"childCount":t.textContent=`(${s})`}})))}itemToolbarDelegate(e){return R(e,x("e-toolbar",{children:[x("e-toolbaritem",{attributes:{name:"type",type:"select"},children:[x("e-select",{attributes:{slot:"select"},children:["parent","leaf"].map((e=>x("e-option",{attributes:{label:e,value:e}}))),listeners:{click:t=>{const{currentTarget:n}=t,o=n,{selectedOption:s}=o;if(s){const{value:t}=s;e.type=t}}}})]}),x("e-toolbaritem",{attributes:{name:"edit",type:"button",label:"Edit",iconed:!0},listeners:{click:function(){this.showEditItemDialog(e)}.bind(this)}}),x("e-toolbaritem",{attributes:{name:"visibility",type:"checkbox",label:"Visibility",iconed:!0},listeners:{click:function(t){e.visibility?e.hide():e.show(),t.stopPropagation()}}})]}),["visibility","type"],((e,t,n,o)=>{switch(t){case"visibility":{const t=e.querySelector("e-toolbaritem[name=visibility]");if(t){const e=o?"Hide":"Show";t.label=e,t.title=e,t.pressed=o}break}case"type":{const t=e.querySelector("e-toolbaritem[name=type] e-select");t&&(t.querySelector(`e-option[value="${o}"]`).selected=!0);break}}}))}itemMenuDelegate(){console.log("here");const{treeElement:e}=this,{activeItem:t}=e,n=this.selectedItems(),o=this.activeItem();return x("e-menu",{attributes:{contextual:!0},children:[x("e-menuitemgroup",{children:[x("e-menuitem",{attributes:{type:"button",label:"Edit"},children:"Edit",listeners:{click:function(){n.forEach((e=>{this.showEditItemDialog(e)}))}.bind(this)}}),x("e-menuitem",{attributes:{type:"checkbox",label:o.visibility?"Hide":"Show"},children:o.visibility?"Hide":"Show",listeners:{click:()=>{const e=n.includes(o)?new bt(n):new bt([o]);o.visibility?e.hide():e.show(),t.focus()}}})]}),x("e-separator"),x("e-menuitemgroup",{children:[x("e-menuitem",{attributes:{label:"Delete"},children:"Delete",listeners:{click:()=>{const t=n.includes(o)?new bt(n):new bt([o]),{count:s}=t;confirm(`Remove ${s} items?`)&&t.remove(),e.focus()}}})]})]})}#M(e){const{currentTarget:t,key:n}=e,o=t,{activeItem:s}=o;if(s){const t=this.treeItem(s);switch(n){case"Delete":{const n=this.selectedItems(),s=n.includes(t)?new ht(n):new ht([t]),{count:r}=s;confirm(`Remove ${r} items?`)&&s.remove(),o.focus(),e.preventDefault();break}}}}showEditItemDialog(e){const{shadowRoot:t}=this,{visibility:n,id:o,type:s}=e,r=x("dialog",{children:[x("form",{attributes:{method:"dialog"},children:[x("e-menubar",{attributes:{tabindex:0},children:[x("e-menuitem",{attributes:{type:"menu",label:"Menu 1"},children:["Menu 1",x("e-menu",{attributes:{slot:"menu"},children:[x("e-menuitem",{attributes:{type:"checkbox"},children:"Menuitem 1"}),x("e-menuitem",{attributes:{type:"checkbox"},children:"Menuitem 2"}),x("e-menuitem",{attributes:{type:"submenu"},children:["Submenu 1",x("e-menu",{attributes:{slot:"menu"},children:[x("e-menuitem",{attributes:{label:"SubmenuItem 1",name:"radio",value:String(0),type:"radio"},children:"SubmenuItem 1"}),x("e-menuitem",{attributes:{label:"SubmenuItem 2",name:"radio",value:String(1),type:"radio"},children:"SubmenuItem 2"}),x("e-menuitem",{attributes:{label:"SubmenuItem 3",name:"radio",value:String(3),type:"radio"},children:"SubmenuItem 3"})]})]})]})]})]}),x("e-tablist",{attributes:{tabindex:0},children:[x("e-tab",{attributes:{controls:"properties"},children:"Properties"})]}),x("e-tabpanel",{attributes:{id:"properties"},children:[x("fieldset",{children:[x("legend",{children:"Item information"}),x("div",{attributes:{class:"form-content"},children:[x("label",{attributes:{for:"visibility"},children:"Visibility"}),x("input",{attributes:{id:"visibility",type:"checkbox",name:"visibility",checked:n,tabindex:0,autofocus:!0}}),x("label",{attributes:{for:"id"},children:"ID"}),x("input",{attributes:{id:"id",type:"text",name:"id",value:o,tabindex:0}}),x("label",{attributes:{for:"type"},children:"Type"}),x("select",{attributes:{id:"type",name:"type",tabindex:0},children:["parent","leaf"].map((e=>x("option",{attributes:{label:e,value:e,selected:s===e}})))})]})]})]}),x("footer",{attributes:{class:"dialog-footer"},children:[x("button",{attributes:{type:"submit",value:"confirm"},children:"Confirm"}),x("button",{attributes:{value:"cancel"},children:"Cancel"})]})]})],listeners:{close:t=>{const{currentTarget:n}=t,o=n;if("confirm"===o.returnValue){const t=o.querySelector("form"),n=new FormData(t);e.visibility=Boolean(n.get("visibility")),e.type=String(n.get("type")),e.id=String(n.get("id"))}o.remove()}}});t.append(r),r.showModal()}};vt=ft([w({name:"e-mytreeview"})],vt);var yt=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class wt extends Ye{name;age;color;constructor(e){super(e);const{name:t,age:n,color:o}=e;this.name=t,this.age=n,this.color=o}}yt([p()],wt.prototype,"name",void 0),yt([p()],wt.prototype,"age",void 0),yt([p()],wt.prototype,"color",void 0);let St=class extends Qe{#Je;static{}constructor(){super(),this.#Je=null;const{shadowRoot:e}=this,t=new CSSStyleSheet;t.replace('\n            e-gridcell[headers="age"] {\n                text-align: right;\n            }\n        '),e.adoptedStyleSheets=[...e.adoptedStyleSheets,t]}renderShadow(){const e=super.renderShadow();return e.insertBefore(x("div",{children:x("input",{attributes:{type:"search"},listeners:{input:this.#Xe.bind(this)}})}),e.firstChild),e}filter(e){const t=this.#Je;return super.filter(e)&&(!t||t.filter(e))}setSearchFilter(e){const{model:t,gridElement:n}=this,{rows:o}=t;this.#Je=e,Array.from(o.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!this.filter(e))})),n.clearSelection()}#Xe(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;""!==e?this.setSearchFilter({filter:t=>t.name.toLowerCase().includes(e.toLowerCase())}):this.setSearchFilter(null)}}};St=yt([w({name:"e-mygridview"})],St);var Et,xt,kt,It=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Ct=class extends HTMLElement{static{(Et=x("template")).content.append(x("slot"),x("slot",{attributes:{name:"select"}}),x("slot",{attributes:{name:"menubutton"}})),kt=x("span",{attributes:{part:"icon"}}),xt=`\n            :host {\n                display: flex;\n                user-select: none;\n                white-space: nowrap;\n                cursor: pointer;\n                line-height: 22px;\n            }\n            \n            :host([disabled]) {\n                opacity: 0.38;\n                pointer-events: none;\n            }\n            \n            :host(:hover) {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n            \n            :host([pressed]),\n            :host(:active) {\n                background-color: var(--theme-activated-item-color, ${W});\n            }\n            \n            :host(:not([iconed])) [part="icon"] {\n                display: none;\n            }\n\n            [part="icon"] {\n                flex: none;\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                padding: 2px;\n                overflow: hidden;\n            }\n            \n            [part="icon"]::before {\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n                content: "";\n                mask-size: 18px 18px;\n                -webkit-mask-size: 18px 18px;\n                background-color: none;\n                -webkit-mask-image: none;\n                mask-image: none;\n                filter: none;\n            }\n            \n            :host(:focus) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n            \n            :host([type="select"]:focus) ::slotted(e-select) {\n                border-color: transparent;\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(xt),e.adoptedStyleSheets=[t],e.append(Et.content.cloneNode(!0))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}attributeChangedCallback(e,t,n){switch(e){case"label":break;case"iconed":{const{shadowRoot:e}=this;if(null!==n)e.prepend(kt.cloneNode(!0));else{const e=this.#Ze();e&&e.remove()}break}}}#Ze(){return this.shadowRoot.querySelector("[part=icon]")}};It([S({selector:":scope > e-menubutton[slot=menubutton]"})],Ct.prototype,"menubutton",void 0),It([S({selector:":scope > e-select[slot=select]"})],Ct.prototype,"select",void 0),It([y({type:Boolean})],Ct.prototype,"active",void 0),It([y({type:Boolean})],Ct.prototype,"pressed",void 0),It([y({type:Boolean})],Ct.prototype,"expanded",void 0),It([y({type:Boolean,observed:!0})],Ct.prototype,"iconed",void 0),It([y({type:String,observed:!0})],Ct.prototype,"value",void 0),It([y({type:String})],Ct.prototype,"name",void 0),It([y({type:String,observed:!0})],Ct.prototype,"label",void 0),It([y({type:String})],Ct.prototype,"type",void 0),Ct=It([w({name:"e-toolbaritem"})],Ct);var Rt,Pt=Ct,Tt=Object.assign((function(e){const{label:t,name:n,type:o,value:s,trigger:r,menubutton:i,select:a}=e;return i&&(i.slot="menubutton"),a&&(a.slot="select"),x("e-toolbaritem",{attributes:{tabindex:-1,title:t,name:n,value:s,type:o},children:i?[i]:a?[a]:void 0,listeners:{click:r}})}),{prototype:Pt.prototype,button:e=>new Tt({...e,type:"button"}),checkbox:e=>new Tt({...e,type:"checkbox"}),radio:e=>new Tt({...e,type:"radio"}),menubutton:e=>new Tt({...e,type:"menubutton"}),select:e=>new Tt({...e,type:"select"})}),Nt=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Ot=class extends HTMLElement{static{(Rt=x("template")).content.append(x("slot"))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: flex;\n                width: max-content;\n                flex-direction: row;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(Rt.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};Nt([y({type:String})],Ot.prototype,"name",void 0),Nt([y({type:String,observed:!0})],Ot.prototype,"label",void 0),Ot=Nt([w({name:"e-toolbaritemgroup"})],Ot);var Lt,Dt,Ft=Ot,At=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Mt=class extends HTMLElement{get activeItem(){return this.querySelector("e-toolbaritem[active]")}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem"))}#ce;static{(Lt=x("template")).content.append(x("slot")),Dt=new WeakMap}constructor(){super(),this.#ce=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,this.#Ne.bind(this));const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: flex;\n                flex-direction: row;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(Lt.content.cloneNode(!0)),this.addEventListener("click",this.#O.bind(this)),this.addEventListener("contextmenu",this.#L.bind(this)),this.addEventListener("dblclick",this.#D.bind(this)),this.addEventListener("focus",this.#F.bind(this)),this.addEventListener("focusin",this.#A.bind(this)),this.addEventListener("focusout",this.#ue.bind(this)),this.addEventListener("mousedown",this.#Oe.bind(this)),this.addEventListener("keydown",this.#M.bind(this))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}#Ne(e){return e instanceof Pt?NodeFilter.FILTER_ACCEPT:e instanceof Ft?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}firstItem(){const e=this.#ce;return e.currentNode=e.root,e.firstChild()}#ge(){const e=this.#ce;return e.currentNode=e.root,e.lastChild()}#be(e){const t=this.#ce;return t.currentNode=e,t.previousSibling()}#ve(e){const t=this.#ce;return t.currentNode=e,t.nextSibling()}#we(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0)}#O(e){const{target:t}=e,n=t.closest("e-toolbaritem");if(n){const{type:e,pressed:o}=n;switch(e){case"checkbox":n.pressed=!o;break;case"radio":n.pressed=!0;break;case"menubutton":{const{menubutton:e}=n;if(e&&!e.contains(t)){const t=!Dt.get(n);e.toggle(t),t&&e.firstItem?.focus({preventScroll:!0})}break}case"select":{const{select:e}=n;if(e&&!e.contains(t)){const t=!Dt.get(n);e.toggle(t)}break}}}e.stopPropagation()}#L(e){e.stopPropagation()}#D(e){e.stopPropagation()}#F(e){const{relatedTarget:t}=e,{activeItem:n}=this;this.contains(t)||(n??this.firstItem())?.focus()}#A(e){const{target:t}=e,n=t.closest("e-toolbaritem");n&&(this.#we(n),this.tabIndex=-1)}#ue(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)}#Oe(e){const{target:t}=e,n=t.closest("e-toolbaritem");if(n){const{type:e}=n;switch(e){case"menubutton":{const{menubutton:e}=n;e&&!e.contains(t)&&Dt.set(n,e.expanded);break}case"select":{const{select:e}=n;e&&!e.contains(t)&&Dt.set(n,e.expanded);break}}}}#M(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":case" ":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;e&&(e.expand(),e.firstItem?.focus({preventScroll:!0}));break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.click()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=this.#be(n);e&&e.focus({preventScroll:!0})}else{const e=this.firstItem();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=this.#ve(n);e&&e.focus({preventScroll:!0})}else{const e=this.#ge();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;"select"===t&&(n.select?.expand(),e.stopPropagation())}break;case"Home":{const t=this.firstItem();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=this.#ge();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}}}};At([y({type:String})],Mt.prototype,"name",void 0),At([y({type:String})],Mt.prototype,"orientation",void 0),Mt=At([w({name:"e-toolbar"})],Mt);var jt,$t,Bt=Mt,qt=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Ht=class extends HTMLElement{get badge(){return this.#Qe}get toolbar(){return this.#et}get menu(){return this.#tt}#Qe;#et;#tt;static{(jt=x("template")).content.append(x("slot")),$t=`\n            :host {\n                display: flex;\n                user-select: none;\n                line-height: 22px;\n            }\n            \n            :host([droptarget]) {\n                background-color: var(--theme-droptarget-item-color, ${K});\n            }\n            \n            :host(:hover) {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n            \n            :host([active]) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n            \n            :host(:focus) {\n                background-color: var(--theme-focused-item-color, ${H});\n            }\n            \n            :host([selected]) {\n                background-color: var(--theme-selected-item-color, ${_});\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace($t),e.adoptedStyleSheets=[t],e.append(jt.content.cloneNode(!0)),this.#Qe=null,this.#tt=null,this.#et=null,e.addEventListener("slotchange",this.#k.bind(this))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}#k(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];this.#et=e instanceof Bt?e:null;break}case"badge":{const e=t.assignedElements()[0];this.#Qe=e instanceof HTMLSpanElement?e:null;break}case"menu":{const e=t.assignedElements()[0];this.#tt=e instanceof je?e:null;break}}}};qt([y({type:String})],Ht.prototype,"name",void 0),qt([y({type:Number})],Ht.prototype,"posinset",void 0),qt([y({type:String,observed:!0})],Ht.prototype,"label",void 0),qt([y({type:Boolean})],Ht.prototype,"droptarget",void 0),qt([y({type:Boolean})],Ht.prototype,"active",void 0),qt([y({type:Boolean,observed:!0})],Ht.prototype,"selected",void 0),Ht=qt([w({name:"e-listitem"})],Ht);var _t,Wt=Ht;let Kt=class extends HTMLElement{static{(_t=x("template")).content.append(x("slot"))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: block;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(_t.content.cloneNode(!0)),e.addEventListener("slotchange",this.#k.bind(this))}#k(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Wt)).forEach(((e,t)=>{e.posinset=t}))}};Kt=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([w({name:"e-listitemgroup"})],Kt);var zt,Vt=Kt,Ut=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Gt=class extends HTMLElement{get activeItem(){return this.querySelector("e-listitem[active]")}get dropTargetItem(){return this.querySelector("e-listitem[droptarget]")}#I;#C;#ce;static{(zt=x("template")).content.append(x("style",{children:["\n\n                    "]}),x("slot",{children:[x("slot")]}))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-listitemgroup) > e-listitem"))}constructor(){super(),this.#ce=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,this.#de.bind(this)),this.#I=!1,this.#C=!1;const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: block;\n            }\n            \n            :host(:focus) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(zt.content.cloneNode(!0)),this.addEventListener("contextmenu",this.#L.bind(this)),this.addEventListener("dragend",this.#Le.bind(this)),this.addEventListener("dragenter",this.#De.bind(this)),this.addEventListener("dragover",this.#Ae.bind(this)),this.addEventListener("dragleave",this.#Fe.bind(this)),this.addEventListener("dragstart",this.#Ue.bind(this)),this.addEventListener("drop",this.#Me.bind(this)),this.addEventListener("focus",this.#F.bind(this)),this.addEventListener("focusin",this.#A.bind(this)),this.addEventListener("keydown",this.#M.bind(this)),this.addEventListener("mousedown",this.#Oe.bind(this)),this.addEventListener("select",this.#j.bind(this)),e.addEventListener("slotchange",this.#k.bind(this))}connectedCallback(){const e=this.getAttribute("tabindex");this.tabIndex=null===e?0:parseInt(e)}beginSelection(){this.#I=!0}endSelection(){this.#I=!1,this.#C&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),this.#C=!1)}selectedItems(){const e=[],t=this.#ce;t.currentNode=t.root;let n=this.#nt();for(;null!==n;)n.selected&&e.push(n),n=this.#ve(n);return e}#de(e){return e instanceof Wt?NodeFilter.FILTER_ACCEPT:e instanceof Vt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}#je(e,t){const n=this.items(),o=n.indexOf(e),s=n.indexOf(t);return o>-1&&s>-1?e==t?[e]:n.slice(Math.min(o,s),Math.max(o,s)+1):[]}#$e(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()}#Be(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()}#qe(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()}#He(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()}#we(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(e.active=!0,e.tabIndex=0)}#_e(e){const{dropTargetItem:t}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0):this.droptarget=!1}#nt(){const e=this.#ce,{root:t}=e;return e.currentNode=t,e.firstChild()}#ge(){const e=this.#ce,{root:t}=e;return e.currentNode=t,e.lastChild()}#be(e){const t=this.#ce;return t.currentNode=e,t.previousNode()}#ve(e){const t=this.#ce;return t.currentNode=e,t.nextNode()}#L(e){const{target:t}=e;t instanceof Wt&&(this.selectedItems().includes(t)||this.#$e(t),t.focus({preventScroll:!0}),e.preventDefault())}#Le(){this.#_e(null)}#De(e){const{target:t}=e;t instanceof Wt&&this.#_e(t),e.preventDefault()}#Ae(e){e.preventDefault()}#Fe(e){const{relatedTarget:t}=e;if(t instanceof Element&&!t.closest("e-listitem")){let e=t;for(;!(e instanceof Wt||e instanceof Document);)e=e.getRootNode(),e instanceof ShadowRoot&&(e=e.host);e instanceof Document&&this.#_e(null)}}#Ue(e){const{target:t}=e;t instanceof Wt&&(this.selectedItems().includes(t)||this.#$e(t))}#Me(){this.#_e(null)}#F(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()}#A(e){const{target:t}=e;t instanceof Wt&&this.#we(t)}#M(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=this.#ce,{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),o=(e.currentNode=e.parentNode()??t,e.lastChild()),s=this.#je(n,o);s&&this.#$e(...s)}e.preventDefault();break}case"ArrowUp":if(n){const t=this.#be(n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?this.#qe(t):this.#Be(t))}}else{const e=this.#nt();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=this.#ve(n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?this.#qe(t):this.#Be(t))}}else{const e=this.#ge();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=this.#nt();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=this.#ge();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(this.#$e(t),t.click()),e.stopPropagation();break}case"Escape":this.#He(),this.#we(null),this.focus(),e.stopPropagation()}}#Oe(e){const{target:t,ctrlKey:n,shiftKey:o}=e,s=this.selectedItems();if(t instanceof Wt)if(o||n){if(n)t.selected?this.#qe(t):this.#Be(t),e.stopPropagation();else if(o){const n=s[s.length-1];if(n){const e=this.#je(n,t);e&&(s.includes(t)?this.#qe(...e):this.#Be(...e))}else this.#$e(t);e.stopPropagation()}}else this.#$e(t)}#j(){this.#I||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))}#k(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Wt)).forEach(((e,t)=>{e.posinset=t}))}};Ut([y({type:String})],Gt.prototype,"name",void 0),Ut([y({type:Boolean})],Gt.prototype,"droptarget",void 0),Gt=Ut([w({name:"e-list"})],Gt);var Yt;let Jt=class extends HTMLElement{get tab(){const{id:e}=this;return this.getRootNode().querySelector(`e-tab[controls=${e}]`)}static{(Yt=x("template")).content.append(x("slot"))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: block;\n                padding: 4px;\n            }\n            \n            :host([hidden]) {\n                display: none;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(Yt.content.cloneNode(!0))}connectedCallback(){const{tab:e}=this;if(e){customElements.upgrade(e);const{selected:t}=e;this.hidden=!t}}};Jt=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([w({name:"e-tabpanel"})],Jt);var Xt,Zt,Qt=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let en=class extends HTMLElement{get panel(){const{controls:e}=this,t=this.getRootNode();return t instanceof Document||t instanceof ShadowRoot?t.querySelector(`e-tabpanel[id='${e}']`):null}static{(Xt=x("template")).content.append(x("slot")),Zt=`\n            :host {\n                display: inline-block;\n                user-select: none;\n                white-space: nowrap;\n                padding: 4px;\n            }\n            \n            :host([disabled]) {\n                opacity: 0.38;\n                pointer-events: none;\n            }\n            \n            :host(:hover) {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(Zt),e.adoptedStyleSheets=[t],e.append(Xt.content.cloneNode(!0))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}attributeChangedCallback(e,t,n){"selected"===e&&this.dispatchEvent(new Event("select",{bubbles:!0}))}select(){this.selected=!0}};Qt([y({type:String})],en.prototype,"name",void 0),Qt([y({type:Boolean})],en.prototype,"disabled",void 0),Qt([y({type:String,observed:!0})],en.prototype,"controls",void 0),Qt([y({type:Boolean})],en.prototype,"active",void 0),Qt([y({type:Boolean,observed:!0})],en.prototype,"selected",void 0),en=Qt([w({name:"e-tab"})],en);var tn,nn=en;let on=class extends HTMLElement{#ce;get tabs(){return Array.from(this.querySelectorAll("e-tab"))}get activeTab(){return this.querySelector("e-tab[active]")}get selectedTab(){return this.querySelector("e-tab[selected]")}static{(tn=x("template")).content.append(x("slot"))}constructor(){super(),this.#ce=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,this.#de.bind(this));const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace('\n            :host {\n                position: relative;\n                display: flex;\n            }\n\n            :host::after {\n                position: absolute;\n                display: inline-block;\n                content: "";\n                z-index: -1;\n                transform: translateY(-100%);\n                box-sizing: border-box;\n                border-top: 2px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n            }\n        '),e.adoptedStyleSheets=[t],e.append(tn.content.cloneNode(!0)),this.addEventListener("click",this.#O.bind(this)),this.addEventListener("focus",this.#F.bind(this)),this.addEventListener("focusin",this.#A.bind(this)),this.addEventListener("focusout",this.#ue.bind(this)),this.addEventListener("keydown",this.#M.bind(this)),this.addEventListener("select",this.#j.bind(this)),this.addEventListener("select",this.#j.bind(this))}connectedCallback(){const{tabIndex:e,selectedTab:t}=this;this.tabIndex=e,customElements.upgrade(this);const n=t??this.firstItem();n&&(this.#ot(n),setTimeout((()=>{const{width:e,height:t}=n.getBoundingClientRect(),{offsetLeft:o}=n;this.animate([{width:`${e}px`,left:`${o}px`,top:`${t}px`}],{duration:0,fill:"forwards",easing:"ease-in-out",pseudoElement:"::after"})})))}#de(e){return e instanceof nn?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}firstItem(){const e=this.#ce;return e.currentNode=e.root,e.firstChild()}#ge(){const e=this.#ce;return e.currentNode=e.root,e.lastChild()}#be(e){const t=this.#ce;return t.currentNode=e,t.previousNode()}#ve(e){const t=this.#ce;return t.currentNode=e,t.nextNode()}#st(e){const{activeTab:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0)}#ot(e){const{selectedTab:t}=this;e!==t&&(e.selected=!0)}#O(e){const{target:t}=e,n=t.closest("e-tab");if(n){n.select();const{width:e,height:t}=n.getBoundingClientRect(),{offsetLeft:o}=n;this.animate([{width:`${e}px`,left:`${o}px`,top:`${t}px`}],{duration:200,fill:"forwards",easing:"ease-in-out",pseudoElement:"::after"})}}#F(e){const{relatedTarget:t}=e,{selectedTab:n}=this;this.contains(t)||(n??this.firstItem())?.focus()}#A(e){const{target:t}=e,n=t.closest("e-tab");n&&(this.#st(n),this.tabIndex=-1)}#ue(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)}#M(e){const{key:t}=e,{activeTab:n}=this;switch(t){case"ArrowLeft":(n?this.#be(n)??this.#ge():this.firstItem())?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowRight":(n?this.#ve(n)??this.firstItem():this.#ge())?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":{const t=this.firstItem();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=this.#ge();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n?.click(),e.stopPropagation()}}#j(e){const{target:t}=e,n=t;if(n.selected){const{tabs:e}=this;e.forEach((e=>{if(e!==n){e.selected=!1;const{panel:t}=e;t&&(t.hidden=!0)}}));const{panel:t}=n;t&&(t.hidden=!1)}}};on=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([w({name:"e-tablist"})],on);var sn,rn,an=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let ln=class extends HTMLElement{static{(sn=x("template")).content.append(x("span",{attributes:{part:"content"},children:x("slot")})),rn=`\n            :host {\n                display: flex;\n                user-select: none;\n                white-space: nowrap;\n                cursor: pointer;\n                line-height: 22px;\n            }\n            \n            :host([disabled]) {\n                opacity: 0.38;\n                pointer-events: none;\n            }\n            \n            :host(:hover) {\n                background-color: var(--theme-hovered-item-color, ${q});\n            }\n            \n            :host(:focus-within):host-context(e-statusbar:focus-within) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n            \n            [part="content"] {\n                padding: 0 4px;\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(rn),e.adoptedStyleSheets=[t],e.append(sn.content.cloneNode(!0))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}};an([y({type:Boolean})],ln.prototype,"active",void 0),an([y({type:String})],ln.prototype,"name",void 0),ln=an([w({name:"e-statusitem"})],ln);var cn,dn=ln,hn=(Object.assign((function(e){const{label:t,name:n,onclick:o}=e;return x("e-statusitem",{attributes:{title:t,name:n},children:t,listeners:{click:o}})}),{prototype:dn.prototype}),function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i});let pn=class extends HTMLElement{static{(cn=x("template")).content.append(x("slot"))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: flex;\n                width: max-content;\n                flex-direction: row;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(cn.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};hn([y({type:String})],pn.prototype,"name",void 0),pn=hn([w({name:"e-statusitemgroup"})],pn);var un,mn=pn;let fn=class extends HTMLElement{get activeItem(){return this.querySelector("e-statusitem[active]")}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-statusitemgroup) > e-statusitem"))}#ce;static{(un=x("template")).content.append(x("slot"))}constructor(){super(),this.#ce=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,this.#Ne.bind(this));const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: flex;\n                flex-direction: row;\n            }\n\n            :host(:focus) {\n                outline: 1px solid var(--theme-focused-item-outline-color, hsl(var(--theme-tint, 203), 92%, 50%));\n                outline-offset: -1px;\n            }\n\n            ::slotted(e-statusitem:not(:first-child)) {\n                margin-left: 4px;\n            }\n        "),e.adoptedStyleSheets=[t],e.append(un.content.cloneNode(!0)),this.addEventListener("contextmenu",this.#L.bind(this)),this.addEventListener("dblclick",this.#D.bind(this)),this.addEventListener("focus",this.#F.bind(this)),this.addEventListener("focusin",this.#A.bind(this)),this.addEventListener("focusout",this.#ue.bind(this)),this.addEventListener("keydown",this.#M.bind(this))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}#Ne(e){return e instanceof dn?NodeFilter.FILTER_ACCEPT:e instanceof mn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}firstItem(){const e=this.#ce;return e.currentNode=e.root,e.firstChild()}#ge(){const e=this.#ce;return e.currentNode=e.root,e.lastChild()}#be(e){const t=this.#ce;return t.currentNode=e,t.previousSibling()}#ve(e){const t=this.#ce;return t.currentNode=e,t.nextSibling()}#we(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0)}#L(e){e.stopPropagation()}#D(e){e.stopPropagation()}#F(e){const{relatedTarget:t}=e,{activeItem:n}=this;this.contains(t)||(n??this.firstItem())?.focus()}#A(e){const{target:t}=e,n=t.closest("e-statusitem");n&&(this.#we(n),this.tabIndex=-1)}#ue(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)}#M(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":n&&(n.click(),e.stopPropagation());break;case"ArrowLeft":if(n){const e=this.#be(n);e&&e.focus({preventScroll:!0})}else{const e=this.firstItem();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=this.#ve(n);e&&e.focus({preventScroll:!0})}else{const e=this.#ge();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=this.firstItem();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=this.#ge();t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}}};fn=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([w({name:"e-statusbar"})],fn);var gn,bn=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let vn=class extends HTMLElement{#n;#b;static{gn=`\n            :host {\n                display: block;\n                            \n                width: 24px;\n                height: 12px;\n                \n                background-color: var(--theme-selected-item-color, ${_});\n\n                -webkit-mask-image: url("/assets/dots.png");\n                mask-image: url("/assets/dots.png");\n\n                -webkit-mask-repeat: repeat;\n                mask-repeat: repeat;\n                cursor: move;\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(gn),e.adoptedStyleSheets=[t],this.#n=null,this.#b=!1,this.addEventListener("pointerdown",this.#w.bind(this)),this.addEventListener("pointermove",this.#S.bind(this)),this.addEventListener("pointerup",this.#E.bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;this.#n=document.getElementById(e);break}}}#E(e){const{pointerId:t}=e;this.releasePointerCapture(t),this.#b=!1}#w(e){const{pointerId:t}=e,{controls:n}=this;this.#n=document.getElementById(n),this.setPointerCapture(t),this.#b=!0}#S(e){if(this.#b){const t=this.#n;if(null!==t){const n=window.getComputedStyle(t),{movementX:o,movementY:s}=e,{width:r,height:i}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:l,right:c,top:d,bottom:h}=a.getBoundingClientRect(),p=parseFloat(n.getPropertyValue("left")),u=Math.max(l,Math.min(Math.trunc(p+o),c-r)),m=parseFloat(n.getPropertyValue("top")),f=Math.max(d,Math.min(Math.trunc(m+s),h-i));t.style.setProperty("left",`${u}px`),t.style.setProperty("top",`${f}px`),this.dispatchEvent(new CustomEvent("move"))}}}};bn([y({type:String,observed:!0})],vn.prototype,"controls",void 0),vn=bn([w({name:"e-handle"})],vn);var yn=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let wn=class extends HTMLElement{connectedCallback(){const{src:e}=this;e&&this.#rt(e)}async#rt(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))}};yn([y({type:String})],wn.prototype,"src",void 0),wn=yn([w({name:"e-import"})],wn);var Sn,En,xn,kn=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let In=class extends HTMLElement{static{(Sn=x("template")).content.append(x("div",{attributes:{part:"bar"},children:[x("div",{attributes:{part:"slider"},children:[x("div",{attributes:{part:"cursor"}})]})]})),(En=x("template")).content.append(x("div",{attributes:{part:"spinner"}})),xn=`\n            :host {\n                display: inline-block;\n            }\n\n            :host(:is(:not([type]), [type="bar"])) {\n                border: 1px solid gainsboro;\n                border-radius: 4px;\n            }\n        \n            [part="bar"] {\n                position: relative;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n                width: 86px;\n                border-radius: 4px;\n                background-color: whitesmoke;\n            }\n        \n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n        \n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: 1s;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n        \n            [part="cursor"] {\n                display: block;\n                width: 32px;\n                background-color: var(--theme-activated-item-color, ${_});\n                animation-name: cursor;\n            }\n        \n            :host([type="spinner"]) {\n                display: inline-block;\n                width: 20px;\n                height: 20px;\n            }\n        \n            [part="spinner"] {\n                display: inline-block;\n                width: 18px;\n                height: 18px;\n            }\n        \n            [part="spinner"]::after {\n                content: "";\n                display: block;\n                width: 12px;\n                height: 12px;\n                border-radius: 50%;\n                border-width: 4px;\n                border-style: solid;\n                border-color: transparent var(--theme-activated-item-color, ${_});\n                animation: spin 1.2s linear infinite;\n            }\n        \n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        \n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        \n            @keyframes spin {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        `}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(xn),e.adoptedStyleSheets=[t],e.replaceChildren(Sn.content.cloneNode(!0))}attributeChangedCallback(e,t,n){"type"===e&&this.#it()}#it(){const{type:e,shadowRoot:t}=this;switch(e){case"spinner":t.replaceChildren(En.content.cloneNode(!0));break;case"bar":t.replaceChildren(Sn.content.cloneNode(!0))}}};kn([y({type:String,defaultValue:"bar",observed:!0})],In.prototype,"type",void 0),In=kn([w({name:"e-loader"})],In);let Cn=class extends HTMLElement{#at;static{}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace("\n            :host {\n                display: block;\n                margin: 10px 0 10px 27px;\n                border: none;\n                border-top: 1px solid lightgrey;\n            }\n        "),e.adoptedStyleSheets=[t],this.#at=this.attachInternals(),this.#at.role="separator"}};Cn=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([w({name:"e-separator"})],Cn);var Rn,Pn=function(e,t,n,o){var s,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Tn=class extends HTMLElement{get target(){return this.#n}#n;#lt;#ct;#dt;static{(Rn=x("template")).content.append(x("div",{attributes:{part:"container"},children:[x("span",{attributes:{part:"arrow"}}),x("slot")]}))}constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;var n;t.replace('\n            :host {\n                position: fixed;\n                display: inline-block;\n                z-index: 1;\n                padding: 4px;\n                border-radius: 3px;\n                box-sizing: border-box;\n                background-color: white;\n                border: 1px solid black;\n                pointer-events: none;\n            }\n            \n            :host([hidden]) {\n                display: none;\n            }\n\n            :host(:not([visible])) {\n                opacity: 0;\n            }\n            \n            [part="arrow"] {\n                display: inline-block;\n                position: fixed;\n                z-index: 1;\n                width: 4px;\n                height: 4px;\n                box-sizing: border-box;\n                background-color: white;\n                border: 1px solid black;\n                border-width: 0 1px 1px 0;\n            }\n            \n            :host(:is(:not([position]), [position="top"])) [part="arrow"] {\n                transform: translate(-2px, -2px) rotate(45deg);\n            }\n            \n            :host(:is([position="bottom"])) [part="arrow"] {\n                transform: translate(-2px, -2px) rotate(225deg);\n            }\n            \n            :host(:is([position="left"])) [part="arrow"] {\n                transform: translate(-2px, -2px) rotate(315deg);\n            }\n            \n            :host(:is([position="right"])) [part="arrow"] {\n                transform: translate(-2px, -2px) rotate(135deg);\n            }        \n        '),e.adoptedStyleSheets=[t],e.append(Rn.content.cloneNode(!0)),this.#n=null,this.#dt=null,this.#lt=(n=this,{handleEvent(e){const{type:t}=e;switch(t){case"mouseenter":n.#ht();break;case"mouseleave":n.#pt()}}}),this.#ct=function(e){return{handleEvent(t){const{type:n}=t;"keydown"===n&&e.#ut(t)}}}(this)}connectedCallback(){this.#mt()}attributeChangedCallback(e,t,n){"for"===e&&this.#mt()}#mt(){const{htmlFor:e}=this;if(e){const t=this.getRootNode();if(t instanceof Document||t instanceof ShadowRoot){const n=t.getElementById(e);if(null!==n){const e=this.#n,t=this.#lt;e&&(e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",t)),n.addEventListener("mouseenter",t),n.addEventListener("mouseleave",t)}this.#n=n}}}show(e){const{immediate:t=!1}=e??{};let n=this.#dt;if(null!==n){const{id:e}=n;if("hide"===e)n.cancel();else if(!t)return}if(this.visible)this.#dt=null;else{this.hidden=!1,n=this.animate([{opacity:0},{opacity:1}],{id:"show",delay:t?0:200,duration:t?0:100});const{finished:e}=n;e.then((()=>{this.visible=!0})).catch((e=>{})),this.#dt=n,this.#ft()}}hide(e){const{immediate:t=!1}=e??{};let n=this.#dt;if(null!==n){const{id:e}=n;if("show"===e)n.cancel();else if(!t)return}if(this.visible){n=this.animate([{opacity:1},{opacity:0}],{id:"hide",delay:t?0:100,duration:t?0:100});const{finished:e}=n;e.then((()=>{this.visible=!1,this.hidden=!0})).catch((e=>{})),this.#dt=n}else this.#dt=null}#gt(){return this.shadowRoot.querySelector("[part=arrow]")}#ft(){const e=this.#n;if(null!==e){const{top:t,bottom:n,left:o,right:s}=e.getBoundingClientRect(),{width:r,height:i}=this.getBoundingClientRect(),a=r/2,l=i/2,c=(s+o)/2,d=(n+t)/2,{position:h,style:p}=this,u=this.#gt(),{style:m}=u,{width:f,height:g}=u.getBoundingClientRect(),b=f/2,v=g/2,{clientWidth:y}=document.body;switch(h){case"top":p.setProperty("top",t-i-v+"px"),p.setProperty("left",`${Math.max(0,Math.min(c-a,y-r))}px`),m.setProperty("top",t-v+"px"),m.setProperty("left",`${c}px`);break;case"bottom":p.setProperty("top",`${n+v}px`),p.setProperty("left",`${Math.max(0,Math.min(c-a,y-r))}px`),m.setProperty("top",`${n+v}px`),m.setProperty("left",`${c}px`);break;case"left":p.setProperty("top",d-l+"px"),p.setProperty("left",o-r-b+"px"),m.setProperty("top",`${d}px`),m.setProperty("left",o-b+"px");break;case"right":p.setProperty("top",d-l+"px"),p.setProperty("left",`${s+b}px`),m.setProperty("top",`${d}px`),m.setProperty("left",`${s+b}px`)}}}#ht(){this.show();const e=this.#dt;if(e){const t=this.#ct,{finished:n}=e;n.then((()=>{document.addEventListener("keydown",t)})).catch((e=>{}))}}#pt(){this.hide();const e=this.#dt;if(e){const t=this.#ct,{finished:n}=e;n.then((()=>{document.removeEventListener("keydown",t)})).catch((e=>{}))}}#ut(e){const{key:t}=e;"Escape"===t&&this.hide({immediate:!0})}};async function Nn(){document.adoptedStyleSheets=[V.stylesheet],document.head.append(...Object.values(V.images()).map((e=>x("link",{attributes:{rel:"preload",as:"image",href:e,crossorigin:"anonymous"}}))));const e=new St;e.setModel(new Ue({columns:[new Ge({name:"name",type:String,label:"Nom",extract:e=>e.name}),new Ge({name:"color",type:String,label:"Couleur",extract:e=>e.color}),new Ge({name:"age",type:Number,label:"Age",extract:e=>String(e.age),filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new wt({id:1,name:"Louis",age:13,color:"bleu"}),new wt({id:2,name:"Marine",age:21,color:"bleu"}),new wt({id:3,name:"Jean-Christophe",age:32,color:"rouge"}),new wt({id:4,name:"Anne",age:54,color:"jaune"}),new wt({id:5,name:"Claude",age:61,color:"noir"}),new wt({id:6,name:"Benot",age:38,color:"vert"})]})),document.body.append(e),e.render();const t=new dt({items:[new gt({id:"TI 0",type:"parent",items:[new gt({id:"TI 1A",type:"parent",items:[new gt({type:"leaf",id:"TI 1AX"})]}),new gt({type:"parent",id:"TI 1B"})]}),new gt({id:"TI 1",type:"parent",items:[new gt({id:"TI 1A",type:"parent",items:[new gt({type:"leaf",id:"TI 1AX"})]}),new gt({type:"parent",id:"TI 1B"})]}),new gt({type:"leaf",id:"TI 2"}),new gt({type:"leaf",id:"TI 3"})]}),n=new vt;n.draggable=!0,n.setModel(t),n.render(),document.body.append(n),document.body.append(...["builtins","tablist","sash","loaders","tree","menus","list","status"].map((e=>x("details",{children:[x("summary",{children:`${e}.html`}),x("e-import",{attributes:{src:`example/${e}.html`}})]})))),document.body.append(((e,...t)=>x("details",{children:[x("summary",{children:e}),...t]}))("date-picker",x("style",{children:"\n                    #date-picker {\n                        display: inline-block;\n                    }\n                    input[type=range] {\n                        position: relative;\n                        z-index: 1;\n                        width: 200px;\n                        margin: 0;\n                    }\n                    \n                    datalist {\n                        display: flex;\n                        flex-direction: column;\n                        justify-content: space-between;\n                        writing-mode: vertical-lr;\n                        width: 200px;\n                        transform: translateY(-30px);\n                    }\n                    \n                    option {\n                        padding: 0;\n                        padding-top: 30px;\n                        user-select: none;\n                    }\n                "}),x("div",{attributes:{id:"date-picker"},children:[x("input",{attributes:{id:"date-input",type:"range",list:"markers",min:0,max:5,step:1},listeners:{pointermove:e=>{const{x:t,y:n}=e,o=document.elementsFromPoint(t,n).find((e=>e instanceof Option)),s=document.getElementById("date-tooltip");if(o instanceof Option){const{value:e}=o,t=`${Number(e)+1}/01/2023`;s.textContent=t,s.show()}else s.hide()}}}),x("e-tooltip",{attributes:{id:"date-tooltip",position:"top",for:"date-picker"}}),x("datalist",{attributes:{id:"markers"},children:new Array(6).fill(0).map(((e,t)=>x("option",{attributes:{value:t,label:`${t+1}/01/2023`}}))),listeners:{click:e=>{const{target:t}=e;t instanceof Option&&(document.getElementById("date-input").value=t.value)},pointerover:e=>{const{target:t}=e,n=document.getElementById("date-tooltip");if(t instanceof Option){const{value:e}=t,o=`${Number(e)+1}/01/2023`;n.textContent=o,n.show()}else n.hide()}}})]})))}Pn([y({type:String,observed:!0,name:"for"})],Tn.prototype,"htmlFor",void 0),Pn([y({type:String,defaultValue:"top"})],Tn.prototype,"position",void 0),Pn([y({type:Boolean})],Tn.prototype,"visible",void 0),Tn=Pn([w({name:"e-tooltip"})],Tn)})(),main=t})();
//# sourceMappingURL=main.js.map