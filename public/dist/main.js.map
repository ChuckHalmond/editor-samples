{"version":3,"file":"main.js","mappings":"iGAGIA,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,0FAA2F,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,+DAA+D,MAAQ,GAAG,SAAW,yBAAyB,eAAiB,CAAC,2FAA2F,WAAa,MAEvY,S,kFCHIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,yuDAAswD,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,oEAAoE,MAAQ,GAAG,SAAW,ggBAAggB,eAAiB,CAAC,6wDAA2yD,WAAa,MAE9uI,S,UCHAD,EAAOG,QAAU,SAAUC,GACzB,IAAIC,EAAO,GA4EX,OAzEAA,EAAKC,SAAW,WACd,OAAOC,KAAKC,KAAI,SAAUC,GACxB,IAAIC,EAAU,GACVC,OAA+B,IAAZF,EAAK,GAoB5B,OAnBIA,EAAK,KACPC,GAAW,cAAcE,OAAOH,EAAK,GAAI,QAEvCA,EAAK,KACPC,GAAW,UAAUE,OAAOH,EAAK,GAAI,OAEnCE,IACFD,GAAW,SAASE,OAAOH,EAAK,GAAGI,OAAS,EAAI,IAAID,OAAOH,EAAK,IAAM,GAAI,OAE5EC,GAAWN,EAAuBK,GAC9BE,IACFD,GAAW,KAETD,EAAK,KACPC,GAAW,KAETD,EAAK,KACPC,GAAW,KAENA,CACT,IAAGI,KAAK,GACV,EAGAT,EAAKH,EAAI,SAAWa,EAASC,EAAOC,EAAQC,EAAUC,GAC7B,iBAAZJ,IACTA,EAAU,CAAC,CAAC,KAAMA,OAASK,KAE7B,IAAIC,EAAyB,CAAC,EAC9B,GAAIJ,EACF,IAAK,IAAIK,EAAI,EAAGA,EAAIf,KAAKM,OAAQS,IAAK,CACpC,IAAIrB,EAAKM,KAAKe,GAAG,GACP,MAANrB,IACFoB,EAAuBpB,IAAM,EAEjC,CAEF,IAAK,IAAIsB,EAAK,EAAGA,EAAKR,EAAQF,OAAQU,IAAM,CAC1C,IAAId,EAAO,GAAGG,OAAOG,EAAQQ,IACzBN,GAAUI,EAAuBZ,EAAK,WAGrB,IAAVU,SACc,IAAZV,EAAK,KAGdA,EAAK,GAAK,SAASG,OAAOH,EAAK,GAAGI,OAAS,EAAI,IAAID,OAAOH,EAAK,IAAM,GAAI,MAAMG,OAAOH,EAAK,GAAI,MAF/FA,EAAK,GAAKU,GAMVH,IACGP,EAAK,IAGRA,EAAK,GAAK,UAAUG,OAAOH,EAAK,GAAI,MAAMG,OAAOH,EAAK,GAAI,KAC1DA,EAAK,GAAKO,GAHVP,EAAK,GAAKO,GAMVE,IACGT,EAAK,IAGRA,EAAK,GAAK,cAAcG,OAAOH,EAAK,GAAI,OAAOG,OAAOH,EAAK,GAAI,KAC/DA,EAAK,GAAKS,GAHVT,EAAK,GAAK,GAAGG,OAAOM,IAMxBb,EAAKN,KAAKU,GACZ,CACF,EACOJ,CACT,C,UClFAL,EAAOG,QAAU,SAAUM,GACzB,IAAIC,EAAUD,EAAK,GACfe,EAAaf,EAAK,GACtB,IAAKe,EACH,OAAOd,EAET,GAAoB,mBAATe,KAAqB,CAC9B,IAAIC,EAASD,KAAKE,SAASC,mBAAmBC,KAAKC,UAAUN,MACzDO,EAAO,+DAA+DnB,OAAOc,GAC7EM,EAAgB,OAAOpB,OAAOmB,EAAM,OACxC,MAAO,CAACrB,GAASE,OAAO,CAACoB,IAAgBlB,KAAK,KAChD,CACA,MAAO,CAACJ,GAASI,KAAK,KACxB,C,GCdImB,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBf,IAAjBgB,EACH,OAAOA,EAAajC,QAGrB,IAAIH,EAASiC,EAAyBE,GAAY,CACjDlC,GAAIkC,EAEJhC,QAAS,CAAC,GAOX,OAHAkC,EAAoBF,GAAUnC,EAAQA,EAAOG,QAAS+B,GAG/ClC,EAAOG,OACf,CCrBA+B,EAAoBI,EAAKtC,IACxB,IAAIuC,EAASvC,GAAUA,EAAOwC,WAC7B,IAAOxC,EAAiB,QACxB,IAAM,EAEP,OADAkC,EAAoBO,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdL,EAAoBO,EAAI,CAACtC,EAASwC,KACjC,IAAI,IAAIC,KAAOD,EACXT,EAAoBW,EAAEF,EAAYC,KAASV,EAAoBW,EAAE1C,EAASyC,IAC5EE,OAAOC,eAAe5C,EAASyC,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDV,EAAoBgB,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO5C,MAAQ,IAAI6C,SAAS,cAAb,EAGhB,CAFE,MAAOC,GACR,GAAsB,iBAAXC,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBpB,EAAoBW,EAAI,CAACU,EAAKC,IAAUV,OAAOW,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFtB,EAAoB0B,EAAKzD,IACH,oBAAX0D,QAA0BA,OAAOC,aAC1ChB,OAAOC,eAAe5C,EAAS0D,OAAOC,YAAa,CAAEC,MAAO,WAE7DjB,OAAOC,eAAe5C,EAAS,aAAc,CAAE4D,OAAO,GAAO,E,MCL9D,IAAIC,EACA9B,EAAoBgB,EAAEe,gBAAeD,EAAY9B,EAAoBgB,EAAEgB,SAAW,IACtF,IAAIC,EAAWjC,EAAoBgB,EAAEiB,SACrC,IAAKH,GAAaG,IACbA,EAASC,gBACZJ,EAAYG,EAASC,cAAcC,MAC/BL,GAAW,CACf,IAAIM,EAAUH,EAASI,qBAAqB,UACzCD,EAAQzD,SAAQmD,EAAYM,EAAQA,EAAQzD,OAAS,GAAGwD,IAC5D,CAID,IAAKL,EAAW,MAAM,IAAIQ,MAAM,yDAChCR,EAAYA,EAAUS,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KACpFvC,EAAoBwC,EAAIV,C,gDCRxB,MAAMW,EACFC,OACAC,WACAC,aACAC,SACAC,SACAC,aACAC,aACAC,cACAC,cACAC,cACAC,YAAYC,GACRhF,KAAKqE,OAASW,EAAKX,OACnBrE,KAAKsE,WAAaU,EAAKV,WACvBtE,KAAKuE,aAAeS,EAAKT,cAAgB,KACzCvE,KAAKwE,SAAWQ,EAAKR,eAAY3D,EACjCb,KAAKyE,SAAWO,EAAKP,eAAY5D,EACjCb,KAAK0E,aAAeM,EAAKN,cAAgB,EACzC1E,KAAK2E,aAAe,IAAIM,EAAeD,EAAKL,cAAgB,IAC5D3E,KAAK4E,cAAgBI,EAAKJ,eAAiB,EAC3C5E,KAAK6E,cAAgB,IAAII,EAAeD,EAAKH,eAAiB,IAC9D7E,KAAK8E,cAAgBE,EAAKF,eAAiB,EAC/C,CACWI,6BACP,OAAO,CACX,CACWC,yBACP,OAAO,CACX,CACWC,yBACP,OAAO,CACX,CACWC,uBACP,OAAO,CACX,CACIH,sBACA,OAAOd,EAAsBc,eACjC,CACIC,kBACA,OAAOf,EAAsBe,WACjC,CACIC,kBACA,OAAOhB,EAAsBgB,WACjC,CACIC,gBACA,OAAOjB,EAAsBiB,SACjC,EAEJ,IAAIC,EAAoBlB,EAgBpBa,EAfJ,MACI,GACAF,YAAYQ,GACRvF,MAAK,EAASuF,EAAMC,OACxB,CACIlF,aACA,OAAON,MAAK,EAAOM,MACvB,CACAJ,KAAKuF,GACD,OAAOzF,MAAK,EAAOyF,IAAU,IACjC,CACAC,SACI,OAAO1F,MAAK,EAAO0F,QACvB,GAGJ,MAAMC,EACFC,KACA,GACA,GACAb,YAAYa,GACR5F,KAAK4F,KAAOA,EACZ5F,MAAK,EAAiB,KACtBA,MAAK,EAAU,IACnB,CACI6F,oBACA,OAAO7F,MAAK,CAChB,CACIqE,aACA,OAAOrE,MAAK,CAChB,CACA8F,gCAAkC,IAAI,MAClCC,iBAAiBC,EAAOH,GAChBG,aAAiBL,IACjBK,GAAM,EAAiBH,EAE/B,CACAI,UAAUD,EAAO3B,GACT2B,aAAiBL,IACjBK,GAAM,EAAU3B,EAExB,GAGR,IAAI6B,EAA2BP,EAAeO,gCACvCP,EAAeO,yBACtB,IAAIC,EAAaR,EACjB,MAAMS,EACF,GACArB,cACI/E,MAAK,EAAa,IAAIqG,GAC1B,CACAC,aAAaN,GACT,MAAM,KAAEJ,GAASI,EACXO,EAAYvG,MAAK,EAAW0C,IAAIkD,GACtCM,EAAyBH,iBAAiBC,EAAOhG,MAC7CuG,GACAA,EAAUC,SAASC,IACfA,EAAWT,EAAM,GAG7B,CACAU,iBAAiBd,EAAMe,GACnB,MAAMJ,EAAYvG,MAAK,EAAW0C,IAAIkD,GAClCW,EACAA,EAAU/G,KAAKmH,GAGf3G,MAAK,EAAW4G,IAAIhB,EAAM,CAACe,GAEnC,CACAE,oBAAoBjB,EAAMe,GACtB,MAAMJ,EAAYvG,MAAK,EAAW0C,IAAIkD,GACtC,GAAIW,EAAW,CACX,MAAMO,EAAgBP,EAAUQ,WAAUN,GAAcA,GAAcE,IAClEG,GAAiB,GACjBP,EAAUS,OAAOF,EAAe,GAEZ,GAApBP,EAAUjG,QACVN,MAAK,EAAWiH,OAAOrB,EAE/B,CACJ,CACAsB,cAAclB,GACVE,EAAyBD,UAAUD,EAAOhG,MAC1CA,KAAKsG,aAAaN,EACtB,EAGJ,MAAMmB,UAAsBf,EACxB,GACA,GACA,GACArB,cACIqC,QACApH,MAAK,EAAc,KACnBA,MAAK,EAAW,GAChBA,MAAK,GAAe,CACxB,CACIqH,iBACA,OAAOrH,MAAK,CAChB,CACAsH,UAAUD,GACN,GAAmB,OAAfA,EAAqB,CACrB,IAAIE,EAAoBF,GAAcrH,MAChCqH,WAAYG,GAAiBH,EACnC,MAAQE,GAAsC,OAAjBC,KACtBH,WAAYG,GAAiBA,GAChCD,EAAoBC,GAAgBxH,KAExC,GAAKuH,EAID,MAAM,IAAIE,UAAU,oFAHpBzH,MAAK,EAAcqH,CAK3B,MAEIrH,MAAK,EAAc,IAE3B,CACA0H,eACI1H,MAAK,GAAe,CACxB,CACA2H,aACI3H,KAAKkH,cAAc,IAAIf,EAAW,gBAClCnG,MAAK,EAASgH,OAAO,GACrBhH,MAAK,GAAe,CACxB,CACA4H,aACI,OAAO5H,MAAK,EAASwF,OACzB,CACAc,aAAaN,GACToB,MAAMd,aAAaN,GACnB,MAAM,WAAEqB,GAAerH,KACnBqH,GACAA,EAAWf,aAAaN,EAEhC,CACA,GAAe6B,EAAUrD,EAAUC,GAC/B,MAAMqD,EAAU9H,MAAK,EACf+H,EAAS,IAAIzC,EAAkB,CACjCjB,OAAQrE,KACRsE,WAAYgB,EAAkBJ,gBAC9BX,aAAcsD,EACdrD,WAAUC,aAEdqD,EAAQtI,KAAKuI,GACR/H,MAAK,IACNA,KAAKkH,cAAc,IAAIf,EAAW,gBAClC2B,EAAQd,OAAO,GAEvB,CACA,GAAce,GACV/H,MAAK,EAASR,KAAKuI,GACd/H,MAAK,IACNA,KAAKkH,cAAc,IAAIf,EAAW,gBAClCnG,MAAK,EAASgH,OAAO,GAE7B,CACAlB,gCAAkC,IAAI,MAClCkC,cAAcC,EAAMJ,EAAUrD,EAAUC,GAChCwD,aAAgBd,GAChBc,GAAK,EAAeJ,EAAUrD,EAAUC,EAEhD,CACAyD,aAAaD,EAAMF,GACXE,aAAgBd,GAChBc,GAAK,EAAcF,EAE3B,GAGR,IAAII,EAA2BhB,EAAcgB,gCACtChB,EAAcgB,yBACrB,IAAIC,EAAYjB,EAChB,MAAMkB,EAAmB,WACrB,MAAO,CAAChE,EAAQwD,KACZ,MAAM,YAAE9C,GAAgBV,GAClB,UAAEnB,GAAc6B,EAYtBxC,OAAOC,eAAeU,EAAW2E,EAAU,CACvCjB,IAZW,SAAUpD,GACrB,MAAMgB,EAAW8D,EAAgCC,YAAYvI,KAAM6H,GAKnE,OAJAS,EAAgCE,YAAYxI,KAAM6H,EAAUrE,GACxDA,IAAUgB,GACV2D,EAAyBH,cAAchI,KAAM6H,EAAUrD,EAAUhB,IAE9D,CACX,EAMId,IALW,WACX,OAAO4F,EAAgCC,YAAYvI,KAAM6H,EAC7D,EAIIpF,YAAY,GACd,CAEV,EACA,MAAMgG,UAAwBtB,EAC1B,GACApC,cACIqC,QACApH,MAAK,EAAc,IAAIqG,GAC3B,CACAP,uCAAyC,IAAI,MACzC0C,YAAYP,EAAMJ,EAAUrE,GACpByE,aAAgBQ,GAChBR,GAAK,EAAYrB,IAAIiB,EAAUrE,EAEvC,CACA+E,YAAYN,EAAMJ,GACd,GAAII,aAAgBQ,EAChB,OAAOR,GAAK,EAAYvF,IAAImF,EAEpC,GAGR,IAAIS,EAAkCG,EAAgBH,uCAC/CG,EAAgBH,gCACvB,IAAII,EAAcD,EA2JdE,EA1JJ,cAA4BxB,EACxB,GACApC,YAAYQ,GACR6B,QACApH,MAAK,EAASuF,GAAOC,SAAW,EACpC,CACA8B,UAAUD,GACND,MAAME,UAAUD,GAChBrH,MAAK,EAAOwG,SAASoC,IACjBA,EAAOtB,UAAUD,EAAW,GAEpC,CACI/G,aACA,OAAON,MAAK,EAAOM,MACvB,CACAoC,IAAI+C,GACA,OAAOzF,MAAK,EAAOyF,IAAU,IACjC,CACAA,MAAMvF,GACF,OAAOF,MAAK,EAAO6I,QAAQ3I,EAC/B,CACAwF,SACI,OAAO1F,MAAK,EAAO0F,QACvB,CACAoD,KAAKC,GACD,MACMC,EADQhJ,MAAK,EACQC,KAAI,CAAC2I,EAAQjJ,KAC7B,CACHO,KAAM0I,EACNnD,MAAO9F,MAGfqJ,EAAaF,MAAK,CAACG,EAAeC,IACvBH,EAAgBE,EAAc/I,KAAMgJ,EAAchJ,QAE7DF,MAAK,EAASgJ,EAAa/I,KAAIkJ,GAAiBA,EAAcjJ,OAC9D,MAAM6H,EAAS,IAAIzC,EAAkB,CACjCjB,OAAQrE,KACRsE,WAAYgB,EAAkBD,UAC9BP,cAAekE,EAAa/I,KAAIkJ,GAAiBA,EAAc1D,UAEnE0C,EAAyBD,aAAalI,KAAM+H,EAChD,CACAqB,WAAW7D,GACP,MAAM8D,EAASrJ,MAAK,GACd,WAAEqH,GAAerH,KACnBqH,GACA9B,EAAMiB,SAAQoC,IACVA,EAAOtB,UAAUD,EAAW,IAGpCgC,EAAOrC,OAAO,EAAG,KAAMzB,GACvB,MAAMwC,EAAS,IAAIzC,EAAkB,CACjCjB,OAAQrE,KACRsE,WAAYgB,EAAkBF,YAC9BR,cAAe,EACfC,cAAeU,IAEnB4C,EAAyBD,aAAalI,KAAM+H,EAChD,CACAuB,UAAU/D,GACN,MAAM8D,EAASrJ,MAAK,GACd,OAAEM,GAAW+I,GACb,WAAEhC,GAAerH,KACnBqH,GACA9B,EAAMiB,SAAQoC,IACVA,EAAOtB,UAAUD,EAAW,IAGpCgC,EAAO7J,QAAQ+F,GACf,MAAMwC,EAAS,IAAIzC,EAAkB,CACjCjB,OAAQrE,KACRsE,WAAYgB,EAAkBF,YAC9BR,cAAetE,EACfuE,cAAeU,IAEnB4C,EAAyBD,aAAalI,KAAM+H,EAChD,CACAwB,OAAO9D,KAAUF,GACb,MAAM8D,EAASrJ,MAAK,GACd,OAAEM,GAAW+I,EAEnB,GADsBG,KAAKC,IAAIhE,IACVnF,EAAQ,CACzB,GAAImF,GAAS,EAAG,CACZ,MAAM,WAAE4B,GAAerH,KACvBuF,EAAMiB,SAAQoC,IACVA,EAAOtB,UAAUD,EAAW,IAE5B5B,EAAQnF,EACR+I,EAAOrC,OAAOvB,EAAO,KAAMF,GAG3B8D,EAAO7J,QAAQ+F,EAEvB,MACK,GAAIE,EAAQ,EAAG,CAChBA,EAAQnF,EAASmF,EACjB,MAAM,WAAE4B,GAAerH,KACnBqH,GACA9B,EAAMiB,SAAQoC,IACVA,EAAOtB,UAAUD,EAAW,IAGpCgC,EAAOrC,OAAOvB,EAAO,KAAMF,EAC/B,CACA,MAAMwC,EAAS,IAAIzC,EAAkB,CACjCjB,OAAQrE,KACRsE,WAAYgB,EAAkBF,YAC9BR,cAAea,EACfZ,cAAeU,EAAMC,UAEzB2C,EAAyBD,aAAalI,KAAM+H,EAChD,CACJ,CACA2B,OAAOxJ,GACH,MAAMmJ,EAASrJ,MAAK,EACdyF,EAAQ4D,EAAOR,QAAQ3I,GAC7B,GAAIuF,GAAS,EAAG,CACZ,MAAMvF,EAAOmJ,EAAOrC,OAAOvB,EAAO,GAAG,IAC/B,WAAE4B,GAAerH,KACnBqH,GACAnH,EAAKoH,UAAU,MAEnB,MAAMS,EAAS,IAAIzC,EAAkB,CACjCjB,OAAQrE,KACRsE,WAAYgB,EAAkBH,YAC9BT,aAAce,EACdd,aAAc,CAACzE,KAEnBiI,EAAyBD,aAAalI,KAAM+H,EAChD,CACJ,CACA4B,QACI,MAAMpE,EAAQvF,MAAK,GACb,OAAEM,GAAWiF,EACnB,GAAIjF,EAAS,EAAG,CACZ,MAAMqE,EAAeY,EAAMyB,OAAO,IAC5B,WAAEK,GAAerH,KACnBqH,GACA1C,EAAa6B,SAASoD,IAClBA,EAActC,UAAU,KAAK,IAGrC,MAAMS,EAAS,IAAIzC,EAAkB,CACjCjB,OAAQrE,KACRsE,WAAYgB,EAAkBH,YAC9BT,aAAc,EACdC,aAAcA,IAElBwD,EAAyBD,aAAalI,KAAM+H,EAChD,CACJ,GAgGA8B,EA5FJ,MACI,GACA,GACA,GACA,GACA9E,YAAY4B,GACR3G,MAAK,EAAY2G,EACjB3G,MAAK,EAAW,GAChBA,MAAK,GAAgB,EACrBA,MAAK,EAAc,IAAI8J,OAC3B,CACAC,QAAQ9B,EAAM+B,GACVhK,MAAK,GAAgB,EACrB,MAAMiK,EAAajK,MAAK,EACxB,IAAIkK,EAAYD,EAAWvH,IAAIuF,GAC/B,GAAKiC,EAODD,EAAWrD,IAAIqB,EAAMiC,OAPT,CACZ,MAAMC,EAAWnK,MAAK,EAAkBoK,KAAKpK,MAC7CiI,EAAKvB,iBAAiB,cAAeyD,GACrCD,EAAY,CAAEC,WAAUH,WACxBC,EAAWrD,IAAIqB,EAAMiC,EACzB,CAIJ,CACAG,UAAUpC,GAEN,IAAIiC,EADelK,MAAK,EACG0C,IAAIuF,GAC/B,GAAIiC,EAAW,CACX,MAAM,SAAEC,GAAaD,EACrBjC,EAAKpB,oBAAoB,cAAesD,EAC5C,CACJ,CACAG,aACItK,MAAK,EAASgH,OAAO,GACrBhH,MAAK,GAAgB,CACzB,CACA,KACI,MAAM8H,EAAU9H,MAAK,EAASgH,OAAO,GACjCc,EAAQxH,OAAS,GACjBN,MAAK,EAAU8H,EAEvB,CACA,GAAkB9B,GACd,IAAKhG,MAAK,EAAe,CACrB,MAAM,OAAEqE,EAAM,cAAEwB,GAAkBG,EAC5BkE,EAAYlK,MAAK,EAAY0C,IAAImD,GACvC,GAAIqE,EAAW,CACX,MAAM,QAAEF,GAAYE,GACd,WAAEK,EAAU,iBAAEC,EAAgB,UAAEC,EAAS,QAAEC,GAAYV,EACzDU,EACIH,GAAclG,aAAkB+D,GAC5BoC,EACAxK,MAAK,EAASR,QAAQ6E,EAAOuD,aACxB+C,QAAOC,IACR,MAAM,aAAErG,GAAiBqG,EACzB,OAAOJ,EAAiBK,SAAStG,EAAa,KAIlDvE,MAAK,EAASR,QAAQ6E,EAAOuD,cAEjC5H,MAAK,KAEAyK,GAAapG,aAAkBsE,IACpC3I,MAAK,EAASR,QAAQ6E,EAAOuD,cAC7B5H,MAAK,KAGJqE,GAAUwB,IACX0E,GAAclG,aAAkB+D,GAC5BoC,EACAxK,MAAK,EAASR,QAAQ6E,EAAOuD,aACxB+C,QAAOC,IACR,MAAM,aAAErG,GAAiBqG,EACzB,OAAOJ,EAAiBK,SAAStG,EAAa,KAIlDvE,MAAK,EAASR,QAAQ6E,EAAOuD,cAEjC5H,MAAK,KAEAyK,GAAapG,aAAkBsE,IACpC3I,MAAK,EAASR,QAAQ6E,EAAOuD,cAC7B5H,MAAK,KAGjB,CACJ,CACJ,GC5fJ,SAAS8K,EAAaC,GAClB,OAAOA,EAAI7G,QAAQ,mBAAoB,KAAK8G,aAChD,CCGA,MAAMC,EAAoB,SAAUjG,GAChC,MAAO,CAACX,EAAQwD,KACZ,MAAM,YAAE9C,GAAgBV,GAClB,UAAEnB,GAAc6B,EAChBR,EAAe2G,OAAOrD,IACtB,aAAEsD,EAAe,KAAI,SAAEC,GAAW,EAAK,KAAEC,EAAOP,EAAavG,IAAkBS,EACrF,GAAIoG,EAAU,CACV,MAAME,EAAqBC,QAAQ7I,IAAIqC,EAAa,qBAAsBA,GACtEyG,MAAMC,QAAQH,GACdA,EAAmB9L,KAAK6L,GAGxB9I,OAAOC,eAAeuC,EAAa,qBAAsB,CACrDvB,MAAO,CAAC6H,GACRK,UAAU,GAGtB,CACA,MAAM,KAAE9F,GAASZ,EACjB,OAAQY,GACJ,KAAK+F,QACDpJ,OAAOC,eAAeU,EAAWqB,EAAc,CAC3C7B,IAAK,WACD,OAAO1C,KAAK4L,aAAaP,EAC7B,EACAzE,IAAK,SAAUpD,GACPA,EACAxD,KAAK6L,aAAaR,EAAM,IAGxBrL,KAAK8L,gBAAgBT,EAE7B,IAEJ,MAEJ,KAAK9I,OACDA,OAAOC,eAAeU,EAAWqB,EAAc,CAC3C7B,IAAK,WACD,MAAMqJ,EAAM/L,KAAKgM,aAAaX,GAC9B,OAAgB,OAARU,EAAgBzK,KAAK2K,MAAMF,GAAOZ,CAC9C,EACAvE,IAAK,SAAUpD,GACG,OAAVA,EACAxD,KAAK6L,aAAaR,EAAM/J,KAAKC,UAAUiC,IAGvCxD,KAAK8L,gBAAgBT,EAE7B,IAEJ,MAEJ,KAAKa,OACD3J,OAAOC,eAAeU,EAAWqB,EAAc,CAC3C7B,IAAK,WACD,MAAMqJ,EAAM/L,KAAKgM,aAAaX,GAC9B,OAAgB,OAARU,EAAgBI,WAAWJ,GAAOZ,CAC9C,EACAvE,IAAK,SAAUpD,GACG,OAAVA,EACAxD,KAAK6L,aAAaR,EAAM7H,GAGxBxD,KAAK8L,gBAAgBT,EAE7B,IAEJ,MAGJ,QACI9I,OAAOC,eAAeU,EAAWqB,EAAc,CAC3C7B,IAAK,WACD,MAAMqJ,EAAM/L,KAAKgM,aAAaX,GAC9B,OAAgB,OAARU,EAAgBA,EAAMZ,CAClC,EACAvE,IAAK,SAAUpD,GACG,OAAVA,EACAxD,KAAK6L,aAAaR,EAAM7H,GAGxBxD,KAAK8L,gBAAgBT,EAE7B,IAIZ,CAER,EAgBMe,EAAgB,SAAUpH,GAC5B,OAAQqH,IACJ,MAAM,KAAEhB,EAAI,QAAErB,GAAYhF,EAI1B,OAHKsH,eAAe5J,IAAI2I,IACpBiB,eAAeC,OAAOlB,EAAMgB,EAAarC,GAEtCqC,CAAW,CAE1B,EACMG,EAAgB,SAAUxH,GAC5B,MAAO,CAACX,EAAQoI,KACZ,MAAM,YAAE1H,GAAgBV,GAClB,UAAEnB,GAAc6B,EAChBR,EAAe2G,OAAOuB,IACtB,SAAEC,GAAa1H,EAEfhD,EADmBgD,EAAK2H,iBACI,WAC9B,OAAO3M,KAAK4M,WAAWC,cAAcH,EACzC,EAAI,WACA,OAAO1M,KAAK6M,cAAcH,EAC9B,EACAnK,OAAOC,eAAeU,EAAWqB,EAAc,CAC3C7B,IAAKV,GACP,CAEV,EAkBA,SAAS8K,KAAYC,GACjB,MAAMD,EAAWlJ,SAASoJ,yBAE1B,OADAF,EAASxD,UAAUyD,GACZD,CACX,CAIA,SAAS,EAAQG,EAASjI,GACtB,GAAIA,EAAM,CACN,MAAM,QAAEgF,EAAO,WAAEkD,EAAU,QAAEC,EAAO,SAAEC,EAAQ,UAAEC,GAAcrI,EACxDsI,EAAU1J,SAAS2J,cAAcN,EAASjD,GAahD,GAZIkD,GACA3K,OAAOiL,QAAQN,GAAY1G,SAAQ,EAAEiH,EAAeC,WACzB7M,IAAnB6M,IAC8B,kBAAnBA,EACPJ,EAAQK,gBAAgB7C,EAAa2C,GAAgBC,GAGrDJ,EAAQzB,aAAaf,EAAa2C,GAAgBvC,OAAOwC,IAEjE,IAGJP,EAAS,CACT,MAAQA,QAASS,GAAmBN,EACpC/K,OAAOiL,QAAQL,GAAS3G,SAAQ,EAAEiH,EAAeC,MACf,kBAAnBA,EACHA,EACAE,EAAe9C,EAAa2C,IAAkB,UAGvCG,EAAe9C,EAAa2C,IAIvCG,EAAe9C,EAAa2C,IAAkBvC,OAAOwC,EACzD,GAER,CAsBA,OArBIN,IACwB,mBAAbA,EACPA,EAASE,GAEgB,iBAAbF,GAAyB,WAAYA,EACjDE,EAAQhE,UAAUkC,MAAMqC,KAAKT,IAG7BE,EAAQhE,OAAO8D,IAGnBC,GACA9K,OAAOiL,QAAQH,GAAW7G,SAAQ,EAAEsH,EAAQC,MACpCvC,MAAMC,QAAQsC,GACdT,EAAQ5G,iBAAiBoH,EAAQC,EAAW,GAAIA,EAAW,IAG3DT,EAAQ5G,iBAAiBoH,EAAQC,EACrC,IAGDT,CACX,CACA,OAAO1J,SAAS2J,cAAcN,EAClC,CACA,MAAMe,EAAsB,IAAIlE,QAC1BmE,EAAuC,IAAIC,sBAAsBC,IACnE,MAAM,MAAEC,EAAK,gBAAEC,GAAoBF,EAC7BG,EAA2BN,EAAoBtL,IAAI0L,GACzD,QAAiCvN,IAA7ByN,EAAwC,CACxC,MAAM,sBAAEC,GAA0BD,EAClCC,EAAsBvH,OAAOuH,EAAsB1F,QAAQwF,GAAkB,EACjF,KAEEG,EAAmC,IAAI3E,GAAqB/B,IAC9DA,EAAQtB,SAASoE,IACb,MAAM,OAAEvG,EAAM,aAAEE,EAAY,SAAEC,EAAQ,SAAEC,GAAamG,GAC/C,sBAAE2D,GAA0BP,EAAoBtL,IAAI2B,GAC1DkK,EAAsB/H,SAAQiI,IAC1B,MAAM,WAAEC,EAAU,MAAEC,EAAK,WAAEpE,GAAekE,EACpCnB,EAAUoB,EAAWE,QACvBtB,GACI/C,EAAWM,SAAStG,IACpBoK,EAAMrB,EAAS/I,EAAcC,EAAUC,EAE/C,GACF,GACJ,IAEN,SAAS4J,EAAgBD,EAAOd,EAAS/C,EAAYoE,GACjD,MACMN,EAAkB,CAAEK,WADP,IAAIG,QAAQvB,GACOqB,QAAOpE,cACvC+D,EAA2BN,EAAoBtL,IAAI0L,GAEzD,GADAH,EAAqCa,SAASxB,EAAS,CAAEc,QAAOC,oBAC3DC,EASA,CACD,MAAM,sBAAEC,EAAqB,gBAAEQ,GAAoBT,GAC7C,iBAAE9D,GAAqBuE,EAC7BR,EAAsB/O,KAAK6O,GAC3BU,EAAgBvE,iBAAmBA,EAC/BA,EAAiBnK,OAAOkK,EAAWI,QAAOqE,IAAexE,EAAiBK,SAASmE,MAAgBzE,EAAWI,QAAO,CAACqE,EAAYrP,EAAG4K,IAAeA,EAAW1B,QAAQmG,KAAgBrP,GAC/L,KAf+B,CAC3B,MAAMoP,EAAkB,CACpBxE,YAAY,EACZC,iBAAkBD,GAEhBgE,EAAwB,CAACF,GAC/BL,EAAoBpH,IAAIwH,EAAO,CAAEW,kBAAiBR,0BAClDC,EAAiCzE,QAAQqE,EAAOW,EACpD,CAcA,OANAxE,EAAW/D,SAASwI,IAChB,GAAIA,KAAcZ,EAAO,CACrB,MAAM5K,EAAQ+H,QAAQ7I,IAAI0L,EAAOY,EAAYZ,GAC7CO,EAAMrB,EAAS0B,OAAYnO,EAAW2C,EAC1C,KAEG8J,CACX,CAcA,MAAM2B,EAA2B,IAAInF,QAC/BoF,EAA4C,IAAIhB,sBAAsBC,IACxE,MAAM,KAAErO,EAAI,qBAAEqP,GAAyBhB,EACjCiB,EAAmCH,EAAyBvM,IAAI5C,GACtE,GAAIsP,EAAkC,CAClC,MAAM,2BAAEC,GAA+BD,EACvCC,EAA2BrI,OAAOqI,EAA2BxG,QAAQsG,GAAuB,EAChG,KAEEG,EAAgC,IAAIzF,GAAqB/B,IAC3D,IAAIyH,EAAQ,KACZ/D,MAAMqC,KAAK/F,EAAQpC,UAAUc,SAASoE,IAClC,MAAM,OAAEvG,GAAWuG,EACb9K,EAAOuE,GACL/D,OAAQkP,GAAe1P,GACzB,2BAAEuP,GAA+BJ,EAAyBvM,IAAI5C,GACpEuP,EAA2B7I,SAASiJ,IAChC,MAAM,UAAEC,EAAS,QAAEC,EAAO,YAAEC,GAAgBH,EACtCI,EAASH,EAAUd,QACzB,GAAIiB,EAAQ,CACR,MAAM,WAAEC,EAAU,SAAE1C,GAAayC,GACzBvP,OAAQyP,GAAkB3C,EAC9BwC,GAAeJ,EAAa,GAAKM,GAAcF,GAC/CC,EAAOG,YAAYJ,GAEvB,MAAM,WAAEtL,EAAU,YAAEc,EAAW,YAAED,EAAW,UAAEE,GAAcuF,EAC5D,OAAQtG,GACJ,KAAKc,EAAa,CACd,MAAM,cAAER,EAAa,cAAEC,GAAkB+F,EACnCqF,EAAqBzE,MAAMqC,KAAKhJ,EAAca,UAAUzF,IAAI0P,IAC1DrP,OAAQyP,GAAkB3C,EAC9BxI,EAAgBmL,EAChB3C,EAASxI,GAAesL,UAAUD,GAGlCJ,EAAOvG,UAAU2G,GAErB,KACJ,CACA,KAAK9K,EAAa,CACd,MAAM,aAAET,EAAY,aAAEC,GAAiBiG,GAC/BtK,OAAQ6P,GAAiBxL,EACjC4K,EAAQA,GAAS3L,SAASwM,cAC1B,MAAMC,EAAiB3L,GAAgByL,EAAe,GAClDE,EAAiBN,IACjBR,EAAMe,eAAelD,EAAS1I,IAC9B6K,EAAMgB,YAAYnD,EAASiD,IAC3Bd,EAAMiB,kBAEV,KACJ,CACA,KAAKnL,EAAW,CACZ,MAAM,cAAEP,GAAkB8F,EACpB6F,EAAgBjF,MAAMqC,KAAKT,GACjCyC,EAAOvG,UAAUxE,EAAc6F,QAAO+F,GAAWA,EAAUX,IAAe9P,KAAIyQ,GAAWD,EAAcC,MACvG,KACJ,EAEc,GAAdlB,GAAmBI,GACnBC,EAAOvG,OAAOsG,EAEtB,IACF,GACJ,IAEN,SAASe,EAAsB7Q,EAAM6P,EAASC,GAC1C,OAAQC,IACJ,MAAMH,EAAY,IAAIb,QAAQgB,GACxBe,EAAgC3B,EAAyBvM,IAAI5C,GAC7DqP,EAAuB,CAAEO,YAAWC,UAASC,eAEnD,GADAV,EAA0CJ,SAASe,EAAQ,CAAE/P,OAAMqP,yBAC9DyB,EAOA,CACD,MAAM,2BAAEvB,GAA+BuB,EACvCvB,EAA2B7P,KAAK2P,EACpC,KAVoC,CAChC,MAAME,EAA6B,CAACF,GACpCF,EAAyBrI,IAAI9G,EAAM,CAAEuP,+BACrCC,EAA8BvF,QAAQjK,EAAM,CACxC2K,WAAW,GAEnB,CAKA,MAAM2C,EAA0B,GAAftN,EAAKQ,QAAesP,EACjC,CAACA,GAAepE,MAAMqC,KAAK/N,EAAK4F,UAAUzF,IAAI0P,GAClDE,EAAOgB,mBAAmBzD,EAAS,CAE3C,CC/XA,MAAM0D,UAAiBC,YACnB,GACAhM,cACIqC,QACApH,MAAK,EAAS,IAClB,CACIoO,YACA,OAAOpO,MAAK,CAChB,CACAgR,SAAS5C,GACDA,IAAUpO,MAAK,IACfA,MAAK,EAASoO,EAEtB,CACA6C,cAEA,CACAC,eAEA,CACAC,SACI,MAAM,WAAEvE,GAAe5M,KACvB,GAAmB,OAAf4M,EAAqB,CACrB,MAAMwE,EAASpR,KAAKkR,eAChBE,GACAxE,EAAWiE,gBAAgBO,EAEnC,CACA,MAAMC,EAAQrR,KAAKiR,cACfI,GACArR,KAAK6Q,gBAAgBQ,EAE7B,EAEJ,IAAIC,EAAOR,E,2vBCnCX,IAAIS,EAA0C,SAAUC,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAkBA,MAEMyO,EAAmC,6CACnCC,EAAmC,6CAEnCC,EAAoC,6CACpCC,EAAqC,6CACrCC,EAAsC,6CAC5C,MAAMC,UAAczJ,EAChB0J,WACAC,SACI,OAAO,IAAIhM,IAAI,CACX,CAAC,eAAgBrG,KAAKsS,cACtB,CAAC,kBAAmBtS,KAAKuS,iBACzB,CAAC,qBAAsBvS,KAAKwS,oBAC5B,CAAC,mBAAoBxS,KAAKyS,mBAElC,CACA1N,cACIqC,QACApH,KAAKoS,WAAa,IAAIM,cACtB1S,KAAKoS,WAAWlO,QAAgB,yJAGM4N,mDACAC,gJAECC,qDACCC,sDACCC,4FAGA,0DACG,wDACF,mDACL,4iBAalB,gVAanBlS,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK2S,KA9Dc,IA+DnB3S,KAAKuS,gBAAkB,EACvBvS,KAAKwS,mBAAqB,EAC1BxS,KAAKyS,iBAAmB,EACxBzS,KAAKsS,aAAe,CACxB,CACA,KACI,MAAM,WAAEF,GAAepS,KACjB4S,EAAeR,EAAWS,SAAS,GAAGC,SAC5B9S,KAAK4H,aACbpB,SAASuB,IACb,MAAM,aAAExD,EAAY,SAAEE,GAAasD,EACnC,OAAQxD,GACJ,IAAK,OACDqO,EAAahM,IAAI,eAAgBsE,OAAOzG,IACxC,MAEJ,IAAK,eACDmO,EAAahM,IAAI,wBAAyB,OAAOsE,OAAOzG,OACxD,MAEJ,IAAK,kBACDmO,EAAahM,IAAI,4BAA6B,OAAOsE,OAAOzG,OAC5D,MAEJ,IAAK,gBACDmO,EAAahM,IAAI,+BAAgC,OAAOsE,OAAOzG,OAC/D,MAEJ,IAAK,cACDmO,EAAahM,IAAI,6BAA8B,OAAOsE,OAAOzG,OAGrE,GAER,EAEJ8M,EAAW,CACPlJ,KACD8J,EAAMjP,UAAW,YAAQ,GAC5BqO,EAAW,CACPlJ,KACD8J,EAAMjP,UAAW,oBAAgB,GACpCqO,EAAW,CACPlJ,KACD8J,EAAMjP,UAAW,uBAAmB,GACvCqO,EAAW,CACPlJ,KACD8J,EAAMjP,UAAW,0BAAsB,GAC1CqO,EAAW,CACPlJ,KACD8J,EAAMjP,UAAW,wBAAoB,GACxC,MAAM6P,EAAQ,IAAIZ,ECvIZa,EAAkB,IAAIN,cAC5BM,EAAgB9O,QAAgB,kVAqBJ8N,+jCAmEgCF,qJAKAC,6UChG5D,IASIkB,EATA,EAA0C,SAAUzB,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAKA,IAAI6P,EAA6B,cAAyCnC,YAClE1M,aACA,OAAOrE,MAAK,CAChB,QAEIiT,EAAgB,8HAG6CjB,6SAUjE,CACA,GACA,GACA,GACA,GACAjN,cACIqC,QACApH,MAAK,EAAU,KACfA,MAAK,EAAyB,KAC9BA,MAAK,EAAmB,EACxBA,MAAK,GAAa,EAClB,MAAM4M,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ+O,GAC1BrG,EAAW0G,mBAAqB,CAACD,GACjCrT,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,YAAa1G,MAAK,EAAsBoK,KAAKpK,MACvE,CACA,KACI,MAAMqE,EAASrE,MAAK,EACpB,GAAe,OAAXqE,EAAiB,CACjB,MAAMkP,EAAsBxQ,OAAOyQ,iBAAiBnP,IAC9C,MAAE4O,GAAU5O,GACZ,QAAEoP,GAAYzT,KACd0T,EAAY1T,MAAK,EACjB2T,EAASxH,WAAWoH,EAAoBK,iBAAiB,WACzDC,EAAYrK,KAAKsK,MAAMH,GAAqB,OAAXF,GAAoB,EAAI,GAAKC,GACpET,EAAMzK,YAAY,SAAU,GAAGqL,OAC/B,MAAME,EAAoB5H,WAAWoH,EAAoBK,iBAAiB,WAC1EX,EAAMzK,YAAY,SAAU,GAAGuL,OAC/B/T,KAAKkH,cAAc,IAAI8M,MAAM,UACjC,CACAhU,MAAK,EAAyB,IAClC,CACA,GAAwBgG,GACpB,MAAM,UAAEiO,GAAcjO,GAChB,SAAEkO,GAAalU,KACfmU,EAAWnU,KAAKoU,cACtBpU,MAAK,EAAUmU,EAASE,eAAeH,GACvClU,KAAKsU,kBAAkBL,GACvBjU,MAAK,GAAa,CACtB,CACA,GAAwBgG,GAChBhG,MAAK,IAC8B,MAA/BA,MAAK,GACLA,MAAK,EAAmBgG,EAAM0N,UAC9B1T,MAAK,EAAyBA,MAAK,EAAqBoK,KAAKpK,MAC7DuU,sBAAsBvU,MAAK,IAG3BA,MAAK,GAAoBgG,EAAM0N,UAG3C,CACA,GAAsB1N,GAClB,MAAM,UAAEiO,GAAcjO,EACtBhG,KAAKwU,sBAAsBP,GAC3BjU,MAAK,GAAa,CACtB,GAEJ,EAAW,CACPiL,EAAkB,CAAErF,KAAMsF,UAC3BgI,EAA2BhQ,UAAW,gBAAY,GACrD,EAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQC,aAAc,SACjD+H,EAA2BhQ,UAAW,eAAW,GACpDgQ,EAA6B,EAAW,CACpC9G,EAAc,CACVf,KAAM,aAEX6H,GACH,IC3FI,EATA,EAA0C,SAAU1B,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAKA,IAAIoR,EAA4B,cAAwC1D,YAChE1M,aACA,OAAOrE,MAAK,CAChB,CACA,GACA,GACA,GACA,UAEI,EAAgB,8HAG6CgS,4SAUjE,CACAjN,cACIqC,QACApH,MAAK,EAAU,KACfA,MAAK,EAAyB,KAC9BA,MAAK,EAAmB,EACxBA,MAAK,GAAa,EAClB,MAAM4M,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,GAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCrT,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,YAAa1G,MAAK,EAAsBoK,KAAKpK,MACvE,CACA0U,SAASC,GACL,MAAMtQ,EAASrE,MAAK,EACpB,GAAe,OAAXqE,EAAiB,CACjB,MAAM,IAAEuQ,GAAQ5U,MACV,MAAEiT,GAAU5O,EAClB4O,EAAMzK,YAAY,QAAS,GAAGmM,OAC1BC,GACA3B,EAAMzK,YAAY,YAAa,GAAGmM,MAE1C,CACJ,CACA,KACI,MAAMtQ,EAASrE,MAAK,EACpB,GAAe,OAAXqE,EAAiB,CACjB,MAAMkP,EAAsBxQ,OAAOyQ,iBAAiBnP,IAC9C,QAAEoP,GAAYzT,KACd6U,EAAY7U,MAAK,EAEjB8U,EADQ3I,WAAWoH,EAAoBK,iBAAiB,WACzB,SAAXH,EAAqB,GAAK,GAAKoB,EACzD7U,KAAK0U,SAASI,GACd9U,KAAKkH,cAAc,IAAI8M,MAAM,UACjC,CACAhU,MAAK,EAAmB,EACxBA,MAAK,EAAyB,IAClC,CACA,GAAwBgG,GACpB,MAAM,UAAEiO,GAAcjO,GAChB,SAAEkO,GAAalU,KACfmU,EAAWnU,KAAKoU,cACtBpU,MAAK,EAAUmU,EAASE,eAAeH,GACvClU,KAAKsU,kBAAkBL,GACvBjU,MAAK,GAAa,CACtB,CACA,GAAwBgG,GAChBhG,MAAK,IAC8B,MAA/BA,MAAK,IACLA,MAAK,EAAyBA,MAAK,EAAqBoK,KAAKpK,MAC7DuU,sBAAsBvU,MAAK,IAE/BA,MAAK,GAAoBgG,EAAM6O,UAEvC,CACA,GAAsB7O,GAClB,MAAM,UAAEiO,GAAcjO,EACtBhG,KAAKwU,sBAAsBP,GAC3BjU,MAAK,GAAa,CACtB,GAEJ,EAAW,CACPiL,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7CqJ,EAA0BvR,UAAW,gBAAY,GACpD,EAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQC,aAAc,WACjDsJ,EAA0BvR,UAAW,eAAW,GACnD,EAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3B8I,EAA0BvR,UAAW,WAAO,GAC/CuR,EAA4B,EAAW,CACnCrI,EAAc,CACVf,KAAM,aAEXoJ,GACH,ICpGIM,GACA,GAVA,GAA0C,SAAUvD,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAMA,IAAI2R,GAA2B,cAAuCjE,oBAE9DgE,GAAiB,EAAQ,aACV5U,QAAQmJ,OAAO,EAAQ,SACtC,GAAgB,oPAO4CwI,iMAIAA,2JAIAC,ueASCC,8BAGjE,CACAjN,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAOyL,GAAe5U,QAAQ8U,WAAU,GACvD,CACAC,yBAAyB7J,EAAM7G,EAAUC,GAE5B,aADD4G,GAEArL,KAAKkH,cAAc,IAAI8M,MAAM,SAAU,CAAEmB,SAAS,IAI9D,GAEJ,GAAW,CACPlK,EAAkB,CAAErF,KAAMsF,UAC3B8J,GAAyB9R,UAAW,YAAQ,GAC/C,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3B8J,GAAyB9R,UAAW,eAAW,GAClD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3B8J,GAAyB9R,UAAW,YAAQ,GAC/C,GAAW,CACP+H,EAAkB,CAAErF,KAAMsG,UAC3B8I,GAAyB9R,UAAW,gBAAY,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BqJ,GAAyB9R,UAAW,kBAAc,GACrD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BqJ,GAAyB9R,UAAW,cAAU,GACjD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9C4J,GAAyB9R,UAAW,gBAAY,GACnD8R,GAA2B,GAAW,CAClC5I,EAAc,CACVf,KAAM,gBAEX2J,IACH,IC3EI,GACA,GD0EAI,GAAuBJ,GCtFvB,GAA0C,SAAUxD,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAQA,IAAIgS,GAA0B,cAAsCtE,YAChEuE,QACI,OAAO9J,MAAMqC,KAAK7N,KAAKuV,iBAAiB,cAC5C,SAEI,GAAiB,EAAQ,aACVpV,QAAQmJ,OAAO,EAAQ,SACtC,GAAgB,qOAM4CwI,icASCE,8BAGjE,CACAjN,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDrI,EAAWlG,iBAAiB,aAAc1G,MAAK,EAAuBoK,KAAKpK,MAC/E,CACAkV,yBAAyB7J,EAAM7G,EAAUC,GAE5B,aADD4G,GAEArL,KAAKkH,cAAc,IAAI8M,MAAM,SAAU,CAAEmB,SAAS,IAI9D,CACA,GAAuBnP,GACnB,MAAM,OAAE3B,GAAW2B,EACG3B,EACjBmR,mBACA7K,QAAO8K,GAAaA,aAAqBL,KAChC5O,SAAQ,CAACkP,EAAQ/V,KAC3B+V,EAAOC,SAAWhW,CAAC,GAE3B,GAEJ,GAAW,CACPsL,EAAkB,CAAErF,KAAMsF,UAC3BmK,GAAwBnS,UAAW,YAAQ,GAC9C,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3B0J,GAAwBnS,UAAW,cAAU,GAChD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3B0J,GAAwBnS,UAAW,gBAAY,GAClD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsG,UAC3BmJ,GAAwBnS,UAAW,gBAAY,GAClDmS,GAA0B,GAAW,CACjCjJ,EAAc,CACVf,KAAM,eAEXgK,IACH,ICxEI,GDwEAO,GAAsBP,GCtE1B,IAAIQ,GAA2B,cAAuC9E,YAClEuE,QACI,OAAO9J,MAAMqC,KAAK7N,KAAKuV,iBAAiB,cAC5C,CACAO,OACI,OAAOtK,MAAMqC,KAAK7N,KAAKuV,iBAAiB,aAC5C,SAEI,GAAiB,EAAQ,aACVpV,QAAQmJ,OAAO,EAAQ,QAM1C,CACAvE,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAVF,6FAWhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDrI,EAAWlG,iBAAiB,aAAc1G,MAAK,EAAuBoK,KAAKpK,MAC/E,CACA,GAAuBgG,GACnB,MAAM,OAAE3B,GAAW2B,EACG3B,EACjBmR,mBACA7K,QAAO8K,GAAaA,aAAqBL,KAChC5O,SAAQ,CAACoC,EAAQjJ,KAC3BiJ,EAAO+M,SAAWhW,CAAC,GAE3B,GAEJkW,GAhD8C,SAAUrE,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,CA2C2B,CAAW,CAClC+I,EAAc,CACVf,KAAM,gBAEXwK,IACH,IC1CI,GD0CAE,GAAuBF,GCxC3B,IAAIG,GAA2B,cAAuCjF,YAClEuE,QACI,OAAO9J,MAAMqC,KAAK7N,KAAKuV,iBAAiB,cAC5C,CACAO,OACI,OAAOtK,MAAMqC,KAAK7N,KAAKuV,iBAAiB,aAC5C,SAEI,GAAiB,EAAQ,aACVpV,QAAQmJ,OAAO,EAAQ,QAM1C,CACAvE,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAVF,gGAWhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDrI,EAAWlG,iBAAiB,aAAc1G,MAAK,EAAuBoK,KAAKpK,MAC/E,CACA,GAAuBgG,GACnB,MAAM,OAAE3B,GAAW2B,EACG3B,EACjBmR,mBACA7K,QAAO8K,GAAaA,aAAqBL,KAChC5O,SAAQ,CAACoC,EAAQjJ,KAC3BiJ,EAAO+M,SAAWhW,CAAC,GAE3B,GAEJqW,GAhD8C,SAAUxE,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,CA2C2B,CAAW,CAClC+I,EAAc,CACVf,KAAM,gBAEX2K,IACH,IC3CI,GAEJ,IAAIC,GAA+B,cAA2ClF,oBAEtE,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,QAM1C,CACAvE,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAVF,6FAWhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDrI,EAAWlG,iBAAiB,aAAc1G,MAAK,EAAuBoK,KAAKpK,MAC/E,CACA,GAAuBgG,GACnB,MAAM,OAAE3B,GAAW2B,EACG3B,EACjBmR,mBACA7K,QAAO8K,GAAaA,aAAqBG,KAChCpP,SAAQ,CAACoC,EAAQjJ,KAC3BiJ,EAAO+M,SAAWhW,CAAC,GAE3B,GAEJsW,GAzC8C,SAAUzE,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,CAoC+B,CAAW,CACtC+I,EAAc,CACVf,KAAM,oBAEX4K,IACH,ICzBI,GDyBAC,GAA2BD,GC9C3B,GAA0C,SAAUzE,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAkBA,IAAI8S,GAAuB,cAAmCpF,YAC1DuE,QACI,OAAO9J,MAAMqC,KAAK7N,KAAKuV,iBAAiB,cAC5C,CACAO,OACI,OAAOtK,MAAMqC,KAAK7N,KAAKuV,iBAAiB,aAC5C,CACIa,iBACA,OAAOpW,KAAK6M,cAAc,qBAC9B,CACIwJ,gBACA,OAAOrW,KAAK6M,cAAc,oBAC9B,CACIyJ,WACA,OAAOtW,KAAK6M,cAAc,sBAC9B,CACI0J,WACA,OAAOvW,KAAK6M,cAAc,sBAC9B,CACA,GACA,GACA,GACA,WAEI,GAAiB,EAAQ,aACV1M,QAAQmJ,OAAO,EAAQ,QAa1C,CACAvE,cACIqC,QACApH,MAAK,EAAe4D,SAAS4S,iBAAiBxW,KAAMyW,WAAWC,aAAc1W,MAAK,EAAuBoK,KAAKpK,OAC9GA,MAAK,EAAc4D,SAAS4S,iBAAiBxW,KAAMyW,WAAWC,aAAc1W,MAAK,EAAsBoK,KAAKpK,OAC5GA,MAAK,GAAe,EACpBA,MAAK,GAAuB,EAC5B,MAAM4M,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QArBF,gXAsBhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,WAAY1G,MAAK,EAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,SAAU1G,MAAK,EAAmBoK,KAAKpK,OAC7D4M,EAAWlG,iBAAiB,aAAc1G,MAAK,EAAuBoK,KAAKpK,MAC/E,CACA2W,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,CACpB,CACAC,iBACI7W,MAAK,GAAe,CACxB,CACA8W,eACI9W,MAAK,GAAe,EAChBA,MAAK,IACLA,KAAKkH,cAAc,IAAI8M,MAAM,kBAAmB,CAAEmB,SAAS,KAC3DnV,MAAK,GAAuB,EAEpC,CACA+W,iBACI/W,MAAK,IACLA,MAAK,GACT,CACAgX,gBACI,OAAOxL,MAAMqC,KAAK7N,KAAKuV,iBAAiB,wBAC5C,CACA0B,eACI,OAAOzL,MAAMqC,KAAK7N,KAAKuV,iBAAiB,uBAC5C,CACA,GAAuBtN,GACnB,OAAIA,aAAgBmN,KAAyBnN,EAAKiP,OACvCT,WAAWU,cAElBlP,aAAgB8N,IAAwB9N,aAAgBiO,IAA4BjO,aAAgB2N,GAC7Fa,WAAWW,YAEfX,WAAWY,aACtB,CACA,GAAsBpP,GAClB,OAAIA,aAAgB2N,KAAwB3N,EAAKiP,OACtCT,WAAWU,cAElBlP,aAAgB8N,IAAwB9N,aAAgBiO,GACjDO,WAAWW,YAEfX,WAAWY,aACtB,CACA,GAAexJ,EAAMyJ,GACjB,MAAMhC,EAAQ9J,MAAMqC,KAAK7N,KAAKsV,SACxBiC,EAAYjC,EAAMzM,QAAQgF,GAC1B2J,EAAUlC,EAAMzM,QAAQyO,GAC9B,OAAIC,GAAa,GAAKC,GAAW,EACzB3J,GAAQyJ,EACD,CAACzJ,GAELyH,EAAM9P,MAAMgE,KAAKiO,IAAIF,EAAWC,GAAUhO,KAAKoL,IAAI2C,EAAWC,GAAW,GAE7E,EACX,CACA,GAAc3J,EAAMyJ,GAChB,GAAIzJ,GAAQyJ,EACR,MAAO,CAACzJ,GAEZ,MAAM6J,EAAW7J,EAAK8J,wBAAwBL,GAC9C,GAAII,EAAWE,KAAKC,4BAA6B,CAC7C,MAAMtI,EAAQ,CAAC1B,GACf,IAAIiK,EAAiB9X,MAAK,EAAS6N,GACnC,KAAOiK,GAAkBA,IAAmBR,GACxC/H,EAAM/P,KAAKsY,GACXA,EAAiB9X,MAAK,EAAS8X,GAGnC,OADAvI,EAAM/P,KAAK8X,GACJ/H,CACX,CACK,GAAImI,EAAWE,KAAKG,4BAA6B,CAClD,MAAMxI,EAAQ,CAAC1B,GACf,IAAImK,EAAqBhY,MAAK,EAAa6N,GAC3C,KAAOmK,GAAsBA,IAAuBV,GAChD/H,EAAM/P,KAAKwY,GACXA,EAAqBhY,MAAK,EAAagY,GAG3C,OADAzI,EAAM/P,KAAK8X,GACJ/H,CACX,CACA,MAAO,EACX,CACA,MAAsB+F,GAClBtV,KAAK6W,iBACiB7W,KAAKgX,gBACbxQ,SAASyR,IACd3C,EAAMzK,SAASoN,KAChBA,EAAeC,UAAW,EAC9B,IAEJ5C,EAAM9O,SAASkP,IACNA,EAAOwC,WACRxC,EAAOwC,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,MAAqBhB,GACjB9V,KAAK6W,iBACgB7W,KAAKiX,eACbzQ,SAAS2R,IACbrC,EAAKjL,SAASsN,KACfA,EAAcD,UAAW,EAC7B,IAEJpC,EAAKtP,SAAS4R,IACLA,EAAMF,WACPE,EAAMF,UAAW,EACrB,IAEJlY,KAAK8W,cACT,CACA,MAAwBxB,GACpBtV,KAAK6W,iBACLvB,EAAM9O,SAASkP,IACNA,EAAOwC,WACRxC,EAAOwC,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,MAAuBhB,GACnB9V,KAAK6W,iBACLf,EAAKtP,SAAS4R,IACLA,EAAMF,WACPE,EAAMF,UAAW,EACrB,IAEJlY,KAAK8W,cACT,CACA,MAA6BxB,GACzBtV,KAAK6W,iBACL,MAAMG,EAAgBhX,KAAKgX,gBAC3B1B,EAAM9O,SAASkP,IACPsB,EAAcnM,SAAS6K,KACvBA,EAAOwC,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,MAA4BhB,GACxB9V,KAAK6W,iBACL,MAAMI,EAAejX,KAAKiX,eAC1BnB,EAAKtP,SAAS4R,IACNnB,EAAapM,SAASuN,KACtBA,EAAMF,UAAW,EACrB,IAEJlY,KAAK8W,cACT,CACA,KACI9W,KAAK6W,iBACiB7W,KAAKgX,gBACbxQ,SAASkP,IACfA,EAAOwC,WACPxC,EAAOwC,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,KACI9W,KAAK6W,iBACgB7W,KAAKiX,eACbzQ,SAAS4R,IACdA,EAAMF,WACNE,EAAMF,UAAW,EACrB,IAEJlY,KAAK8W,cACT,CACA,GAAeuB,GACX,MAAM,WAAEjC,GAAepW,KACJ,OAAfoW,GAAuBA,IAAeiC,IACtCjC,EAAWkC,QAAS,EACpBlC,EAAWQ,UAAY,GAEd,OAATyB,IACoBrY,MAAK,EACbuY,YAAcF,EAC1BA,EAAKC,QAAS,EACdD,EAAKzB,SAAW,EAExB,CACA,GAAc4B,GACV,MAAM,UAAEnC,GAAcrW,KACJ,OAAdqW,GAAsBA,IAAcmC,IACpCnC,EAAUiC,QAAS,EACnBjC,EAAUO,UAAY,GAEd,OAAR4B,IACmBxY,MAAK,EACbuY,YAAcC,EACzBA,EAAIF,QAAS,EACbE,EAAI5B,SAAW,EAEvB,CACA,GAAW4B,GACP,MAAMC,EAAczY,MAAK,EAEzB,OADAyY,EAAYF,YAAcC,EACnBC,EAAY3I,YACvB,CACA,GAAU0I,GACN,MAAMC,EAAczY,MAAK,EAEzB,OADAyY,EAAYF,YAAcC,EACnBC,EAAYC,WACvB,CACA,IAAcL,GACV,MAAMI,EAAczY,MAAK,EAEzB,OADAyY,EAAYF,YAAcF,EACnBI,EAAYE,cACvB,CACA,IAAUN,GACN,MAAMI,EAAczY,MAAK,EAEzB,OADAyY,EAAYF,YAAcF,EACnBI,EAAYG,UACvB,CACA,IAAYP,GACR,MAAMQ,EAAa7Y,MAAK,EAExB,OADA6Y,EAAWN,YAAcF,EAClBQ,EAAWxR,YACtB,CACA,MACI,MAAMwR,EAAa7Y,MAAK,GAClB,KAAE8Y,GAASD,EAEjB,OADAA,EAAWN,YAAcO,EAClBD,EAAW/I,YACtB,CACA,MACI,MAAM+I,EAAa7Y,MAAK,GAClB,KAAE8Y,GAASD,EAEjB,OADAA,EAAWN,YAAcO,EAClBD,EAAWH,WACtB,CACA,GAAaF,GACT,MAAMK,EAAa7Y,MAAK,EAExB,OADA6Y,EAAWN,YAAcC,EAClBK,EAAWF,cACtB,CACA,GAASH,GACL,MAAMK,EAAa7Y,MAAK,EAExB,OADA6Y,EAAWN,YAAcC,EAClBK,EAAWD,UACtB,CACA,IAASP,GACL,MAAMU,EAAa/Y,MAAK,GAAYqY,GACpC,GAAIU,EAAY,CACZ,MACMC,EADkBD,EAAWzD,QACDzM,QAAQwP,GACpCY,EAAcjZ,MAAK,EAAa+Y,GACtC,GAAIE,EAAa,CACb,MAAMC,EAAmBD,EAAY3D,QACrC,OAAO4D,EAAiB1P,KAAKiO,IAAIuB,EAAWE,EAAiB5Y,QACjE,CACJ,CACA,OAAO,IACX,CACA,IAAY+X,GACR,MAAMU,EAAa/Y,MAAK,GAAYqY,GACpC,GAAIU,EAAY,CACZ,MACMC,EADkBD,EAAWzD,QACDzM,QAAQwP,GACpCc,EAAUnZ,MAAK,EAAS+Y,GAC9B,GAAII,EAAS,CACT,MAAMC,EAAeD,EAAQ7D,QAC7B,OAAO8D,EAAa5P,KAAKiO,IAAIuB,EAAWI,EAAa9Y,QACzD,CACJ,CACA,OAAO,IACX,CACA,GAAkB0F,GACd,MAAM,QAAEqT,EAAO,SAAEC,GAAatT,GACxB,SAAEuT,GAAavZ,KACrB,OAAQuZ,GACJ,IAAK,OAAQ,CACT,MAAMC,EAAexT,EAAMwT,eACrBC,EAAaD,EAAaE,MAAKC,GAAYA,aAAoB5D,KAAwByD,EAAaE,MAAKC,GAAYA,aAAoBvE,KAAwB,KACjK4B,EAAgBhX,KAAKgX,gBAC3B,GAAIyC,aAAsBrE,GACtB,GAAKkE,GAAaD,GAGb,GAAIA,EACJI,EAAWvB,SAERlY,MAAK,EAA0ByZ,GAD/BzZ,MAAK,EAAqByZ,QAG7B,GAAIH,EAAU,CACf,MAAMM,EAAmB5C,EAAcA,EAAc1W,OAAS,GAC9D,GAAIsZ,EAAkB,CAClB,MAAMrK,EAAQvP,MAAK,EAAe4Z,EAAkBH,GAChDlK,IACAyH,EAAcnM,SAAS4O,GACnBzZ,MAAK,KAA6BuP,GAClCvP,MAAK,KAAwBuP,GAEzC,MAEIvP,MAAK,EAAmByZ,EAEhC,OApBIzZ,MAAK,EAAmByZ,GAsBhC,KACJ,CACA,IAAK,MAAO,CACR,MAAMxC,EAAejX,KAAKiX,eACpBuC,EAAexT,EAAMwT,eACrBK,EAAYL,EAAaE,MAAKC,GAAYA,aAAoB5D,KAAwByD,EAAaE,MAAKC,GAAYA,aAAoB/D,KAAuB,KACrK,GAAIiE,aAAqBjE,GACrB,GAAK0D,GAAaD,GAGb,GAAIA,EACJQ,EAAU3B,SAEPlY,MAAK,EAAyB6Z,GAD9B7Z,MAAK,EAAoB6Z,QAG5B,GAAIP,EAAU,CACf,MAAMQ,EAAkB7C,EAAaA,EAAa3W,OAAS,GAC3D,GAAIwZ,EAAiB,CACjB,MAAMvK,EAAQvP,MAAK,EAAc8Z,EAAiBD,GAC9CtK,IACA0H,EAAapM,SAASgP,GAClB7Z,MAAK,KAA4BuP,GACjCvP,MAAK,KAAuBuP,GAExC,MAEIvP,MAAK,EAAkB6Z,EAE/B,OApBI7Z,MAAK,EAAkB6Z,GAsB/B,KACJ,EAEJ7T,EAAM+T,iBACV,CACA,GAAwB/T,GACpBA,EAAM+T,iBACV,CACA,GAAqB/T,GACjBA,EAAM+T,iBACV,CACA,GAAoB/T,GAChB,MAAM,IAAE3D,GAAQ2D,GACV,SAAEuT,EAAQ,WAAEnD,EAAU,UAAEC,GAAcrW,KAC5C,OAAQqC,GACJ,IAAK,IAAK,CACN,MAAM,QAAEgX,GAAYrT,EACpB,GAAIqT,EACA,OAAQE,GACJ,IAAK,OAAQ,CACT,MAAMS,EAAWha,MAAK,KAChBia,EAAYD,EAAWha,MAAK,EAAWga,GAAY,KACnDE,EAAUla,MAAK,KACfma,EAAWD,EAAUla,MAAK,EAAUka,GAAW,KACrD,GAAID,GAAaE,EAAU,CACvB,MAAM5K,EAAQvP,MAAK,EAAeia,EAAWE,GACzC5K,GACAvP,MAAK,KAAsBuP,EAEnC,CACA,KACJ,CACA,IAAK,MAAO,CACR,MAAMyK,EAAWha,MAAK,KAChBka,EAAUla,MAAK,KACrB,GAAIga,GAAYE,EAAS,CACrB,MAAM3K,EAAQvP,MAAK,EAAcga,EAAUE,GACvC3K,GACAvP,MAAK,KAAqBuP,EAElC,CACA,KACJ,EAGRvJ,EAAMoU,iBACN,KACJ,CACA,IAAK,YACD,GAAgB,QAAZb,GACInD,EAAY,CACZ,MAAMiE,EAAera,MAAK,GAAcoW,GACxC,GAAIiE,EAAc,CACdA,EAAaC,MAAM,CAAEC,eAAe,IACpC,MAAM,SAAEjB,GAAatT,EACjBsT,IACAe,EAAanC,SACTlY,MAAK,EAA0Bqa,GAC/Bra,MAAK,EAAqBqa,GAEtC,CACJ,CAEJrU,EAAM+T,kBACN,MAEJ,IAAK,aACD,GAAgB,QAAZR,GACInD,EAAY,CACZ,MAAMoE,EAAWxa,MAAK,GAAUoW,GAChC,GAAIoE,EAAU,CACVA,EAASF,MAAM,CAAEC,eAAe,IAChC,MAAM,SAAEjB,GAAatT,EACjBsT,IACAkB,EAAStC,SACLlY,MAAK,EAA0Bwa,GAC/Bxa,MAAK,EAAqBwa,GAEtC,CACJ,CAEJxU,EAAM+T,kBACN,MAEJ,IAAK,UACD,OAAQR,GACJ,IAAK,OAAQ,CACT,MAAMS,EAAW3D,GAAarW,MAAK,KAC7Bya,EAAUrE,EACZpW,MAAK,GAASoW,GACd4D,EACIha,MAAK,EAAWga,GAChB,KACR,GAAIS,EAAS,CACTA,EAAQH,MAAM,CAAEC,eAAe,IAC/B,MAAM,SAAEjB,GAAatT,EACjBsT,IACAmB,EAAQvC,SACJlY,MAAK,EAA0Bya,GAC/Bza,MAAK,EAAqBya,GAEtC,CACA,KACJ,CACA,IAAK,MAAO,CACR,MAAMxB,EAAc5C,EAChBrW,MAAK,EAAaqW,GAClBrW,MAAK,KACT,GAAIiZ,EAAa,CACbA,EAAYqB,MAAM,CAAEC,eAAe,IACnC,MAAM,SAAEjB,GAAatT,EACjBsT,IACAL,EAAYf,SACRlY,MAAK,EAAyBiZ,GAC9BjZ,MAAK,EAAoBiZ,GAErC,CACA,KACJ,EAEJjT,EAAM+T,kBACN,MAEJ,IAAK,YACD,OAAQR,GACJ,IAAK,OACD,CACI,MAAMW,EAAU7D,GAAarW,MAAK,KAC5B0a,EAAatE,EACfpW,MAAK,GAAYoW,GACjB8D,EACIla,MAAK,EAAUka,GACf,KACR,GAAIQ,EAAY,CACZA,EAAWJ,MAAM,CAAEC,eAAe,IAClC,MAAM,SAAEjB,GAAatT,EACjBsT,IACAoB,EAAWxC,SACPlY,MAAK,EAA0B0a,GAC/B1a,MAAK,EAAqB0a,GAEtC,CACJ,CACA,MACJ,IAAK,MAAO,CACR,MAAMvB,EAAU9C,EACZrW,MAAK,EAASqW,GACdrW,MAAK,KACT,GAAImZ,EAAS,CACTA,EAAQmB,MAAM,CAAEC,eAAe,IAC/B,MAAM,SAAEjB,GAAatT,EACjBsT,IACAH,EAAQjB,SACJlY,MAAK,EAAyBmZ,GAC9BnZ,MAAK,EAAoBmZ,GAErC,CACA,KACJ,EAEJnT,EAAM+T,kBACN,MAEJ,IAAK,OACD,OAAQR,GACJ,IAAK,OACD,GAAIlD,EAAW,CACX,MAAM4D,EAAYja,MAAK,EAAWqW,GAC9B4D,GACAA,EAAUK,MAAM,CAAEC,eAAe,GAEzC,CACA,MAEJ,IAAK,MAAO,CACR,MAAMP,EAAWha,MAAK,KAClBga,GACAA,EAASM,MAAM,CAAEC,eAAe,IAEpC,KACJ,EAEJvU,EAAM+T,kBACN,MAEJ,IAAK,MACD,OAAQR,GACJ,IAAK,OACD,GAAIlD,EAAW,CACX,MAAM8D,EAAWna,MAAK,EAAUqW,GAC5B8D,GACAA,EAASG,MAAM,CAAEC,eAAe,GAExC,CACA,MAEJ,IAAK,MAAO,CACR,MAAML,EAAUla,MAAK,KACjBka,GACAA,EAAQI,MAAM,CAAEC,eAAe,IAEnC,KACJ,EAEJvU,EAAM+T,kBACN,MAEJ,IAAK,QACD,OAAQR,GACJ,IAAK,OACGnD,IACApW,MAAK,EAAmBoW,GACxBA,EAAWuE,SAEf,MAEJ,IAAK,MACGtE,IACArW,MAAK,EAAkBqW,GACvBA,EAAUsE,SAKtB3U,EAAM+T,kBACN,MAEJ,IAAK,SACD,OAAQR,GACJ,IAAK,OACDvZ,MAAK,IACLA,MAAK,EAAe,MACpB,MAEJ,IAAK,MACDA,MAAK,IACLA,MAAK,EAAc,MAI3BA,KAAKsa,QACLtU,EAAM+T,kBAIlB,CACA,GAAkB/T,GACd,MAAM,cAAE4U,GAAkB5U,GACpB,SAAEuT,GAAavZ,KACrB,OAAQuZ,GACJ,IAAK,OAAQ,CACT,MAAM,WAAEnD,GAAepW,KACnBoW,GAAcwE,IAAkBxE,GAChCA,EAAWkE,QAEf,KACJ,CACA,IAAK,MAAO,CACR,MAAM,UAAEjE,GAAcrW,KAClBqW,GAAauE,IAAkBvE,GAC/BA,EAAUiE,QAEd,KACJ,EAER,CACA,GAAoBtU,GAChB,MAAM,OAAE3B,GAAW2B,GACb,SAAEuT,GAAavZ,KACrB,OAAQuZ,GACJ,IAAK,OAAQ,CACT,MAAME,EAAapV,EAAOwW,QAAQ,cAC9BpB,GACAzZ,MAAK,EAAeyZ,GAExB,KACJ,CACA,IAAK,MAAO,CACR,MAAMI,EAAYxV,EAAOwW,QAAQ,aAC7BhB,GACA7Z,MAAK,EAAc6Z,GAEvB,KACJ,EAER,CACA,KACQ7Z,MAAK,EACLA,MAAK,GAAuB,EAG5BA,KAAKkH,cAAc,IAAI8M,MAAM,kBAAmB,CAAEmB,SAAS,IAEnE,CACA,GAAuBnP,GACnB,MAAM,OAAE3B,GAAW2B,EACE3B,EAChBmR,mBACA7K,QAAO8K,GAAaA,aAAqBG,KACjCpP,SAAQ,CAAC4R,EAAOzY,KACzByY,EAAMzC,SAAWhW,CAAC,GAE1B,GAEJ,GAAW,CACPsL,EAAkB,CAAErF,KAAMsF,UAC3BiL,GAAqBjT,UAAW,YAAQ,GAC3C,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQC,aAAc,UACjDgL,GAAqBjT,UAAW,gBAAY,GAC/C,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BwK,GAAqBjT,UAAW,uBAAmB,GACtDiT,GAAuB,GAAW,CAC9B/J,EAAc,CACVf,KAAM,YAEX8K,IACH,IChtBI,GACA,GAXA,GAA0C,SAAU3E,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAOA,IAAIyX,GAA2B,cAAuC/J,YAClEgK,kBAEI,GAAiB,EAAQ,aACV5a,QAAQmJ,OAAO,EAAQ,OAAQ,CAC1C4D,WAAY,CACR8N,KAAM,UAEV,EAAQ,OAAQ,CAChB9N,WAAY,CACR8N,KAAM,SAEV5N,SAAU,CACN,EAAQ,WAEZ,EAAQ,OAAQ,CAChBF,WAAY,CACR8N,KAAM,WAEV,EAAQ,OAAQ,CAChB9N,WAAY,CACR7B,KAAM,WAGd,GAAgB,qZAcY0G,s9BA2BoC,uEACR,oNAKS,wEACR,s6BA6BKE,u1CAwCFH,8BAGhE,CACA/M,cACIqC,QACA,MAAM2T,EAAY/a,KAAKib,kBACvBjb,KAAK+a,UAAYA,EACjBA,EAAUG,KAAO,WACjB,MAAMtO,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,GACvD,CACA0B,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,CACpB,CACA1B,yBAAyBzH,EAAejJ,EAAUC,GAC9C,MAAM,UAAEsW,GAAc/a,KACtB,OAAQyN,GACJ,IAAK,OACD,OAAQhJ,GACJ,IAAK,WACL,IAAK,QACDsW,EAAUG,KAAO,WAAWzW,IAC5B,MAEJ,QACIsW,EAAUG,KAAO,WAIzB,MAEJ,IAAK,UACDH,EAAUI,YAAcjQ,OAAoB,OAAbzG,GAC/B,MAEJ,IAAK,WACDsW,EAAUK,aAAelQ,OAAoB,OAAbzG,GAChC,MAEJ,IAAK,WACDsW,EAAUM,aAAenQ,OAAoB,OAAbzG,GAChC,MAEJ,IAAK,QACDsW,EAAUO,UAAY7W,EAIlC,CACA8W,OAAOC,GACH,MAAM,KAAE5V,EAAI,SAAE6V,GAAazb,KAC3B,OAAQ4F,GACJ,IAAK,OACL,IAAK,UAAW,CACZ,MAAM8V,EAASF,IAAUC,EACzBzb,KAAKyb,SAAWC,EACZA,GACA1b,MAAK,KAETA,KAAKkH,cAAc,IAAI8M,MAAM,SAAU,CAAEmB,SAAS,KAClD,KACJ,EAER,CACAuG,SACI,MAAM,KAAE9V,EAAI,SAAE6V,GAAazb,KAC3B,OAAQ4F,GACJ,IAAK,OACL,IAAK,UACI6V,IACDzb,KAAKyb,UAAW,EAChBzb,MAAK,MAKrB,CACA2b,WACI,MAAM,KAAE/V,EAAI,SAAE6V,GAAazb,KAC3B,OAAQ4F,GACJ,IAAK,OACL,IAAK,UACG6V,IACAzb,KAAKyb,UAAW,GAKhC,CACA,MACI,MAAM,KAAEG,GAAS5b,KACjB,GAAa,OAAT4b,EAAe,CACf,MAAM,MAAEjH,EAAK,OAAEhB,GAAW3T,KAAK6b,yBACvB5I,MAAO6I,GAAcF,GACrBjH,MAAOoH,EAAWpI,OAAQqI,GAAeJ,EAAKC,yBAChD,YAAEI,EAAW,aAAEC,GAAiBtY,SAAS0S,MACzC,KAAE1Q,EAAI,WAAEuW,EAAU,UAAEC,GAAcpc,KAClCqc,EAAYF,EAAaxH,EAAQoH,EAAYE,EAC7CK,EAAYF,EAAYJ,EAAaE,EAC9B,SAATtW,GACAkW,EAAUtT,YAAY,OAAQ,GAAG6T,EAAY,EACzCF,EAAaxH,EAAQoH,EACrBI,OACJL,EAAUtT,YAAY,MAAO,GAAG8T,EAAY,EACxCF,EAAYJ,EACZI,EAAYzI,SAGhBmI,EAAUtT,YAAY,OAAQ,GAAG6T,EAAY,EACzCF,EAAaJ,EACbI,EAAaxH,OACjBmH,EAAUtT,YAAY,MAAO,GAAG8T,EAAY,EACxCF,EAAYzI,EAASqI,EACrBI,OAEZ,CACJ,GAEJ,GAAW,CACP5P,EAAc,CAAEE,SAAU,gCAC3BoO,GAAyB5X,UAAW,YAAQ,GAC/C,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3B4P,GAAyB5X,UAAW,YAAQ,GAC/C,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7C0P,GAAyB5X,UAAW,aAAS,GAChD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3B4P,GAAyB5X,UAAW,aAAS,GAChD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3B4P,GAAyB5X,UAAW,cAAU,GACjD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9C0P,GAAyB5X,UAAW,gBAAY,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9C0P,GAAyB5X,UAAW,eAAW,GAClD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9C0P,GAAyB5X,UAAW,gBAAY,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BmP,GAAyB5X,UAAW,iBAAa,GACpD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQC,aAAc,SAAUC,UAAU,KACrE0P,GAAyB5X,UAAW,YAAQ,GAC/C4X,GAA2B,GAAW,CAClC1O,EAAc,CACVf,KAAM,gBAEXyP,IACH,IC5SI,GD4SAyB,GAAuBzB,GACvB0B,GAAYja,OAAOka,QAAO,SAAUzX,GACpC,MAAM,MAAE0X,EAAK,KAAErR,EAAI,KAAEzF,EAAI,MAAEpC,EAAK,QAAEmZ,EAAO,KAAEf,GAAS5W,EAIpD,OAHI4W,IACAA,EAAKgB,KAAO,QAET,EAAQ,aAAc,CACzB1P,WAAY,CACR2P,UAAW,EACXC,MAAOJ,EACPrR,KAAMA,EACN7H,MAAOA,EACPoC,KAAMA,GAEVwH,SAAUwO,EAAO,CACbc,EACAd,GACA,CACAc,GAEJrP,UAAW,CACPsN,MAAOgC,IAGnB,GAAG,CACCzZ,UAAWqZ,GAAqBrZ,UAChC6Z,OAAO/X,GACI,IAAIwX,GAAU,IACdxX,EAAMY,KAAM,WAGvBoX,SAAShY,GACE,IAAIwX,GAAU,IACdxX,EAAMY,KAAM,aAGvBqX,MAAMjY,GACK,IAAIwX,GAAU,IACdxX,EAAMY,KAAM,UAGvBgW,KAAK5W,GACM,IAAIwX,GAAU,IACdxX,EAAMY,KAAM,SAGvBsX,QAAQlY,GACG,IAAIwX,GAAU,IACdxX,EAAMY,KAAM,cCvWvB,GAA0C,SAAU4L,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAQA,IAAI8Z,GAAgC,cAA4CpM,YAC5EgK,kBAEI,GAAiB,EAAQ,aACV5a,QAAQmJ,OAAO,EAAQ,OAAQ,CAC1C4D,WAAY,CACR8N,KAAM,WAEV,EAAQ,QAehB,CACAjW,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAnBF,0UAoBhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnD,MAAM8F,EAAY/a,KAAKib,kBACvBF,EAAUG,KAAO,QACjBlb,KAAK+a,UAAYA,CACrB,CACA7F,yBAAyB7J,EAAM7G,EAAUC,GACrC,MAAM,UAAEsW,GAAc/a,KAEb,UADDqL,IAEA0P,EAAUO,UAAY7W,EAGlC,GAEJ,GAAW,CACPwG,EAAkB,CAAErF,KAAMsF,UAC3BiS,GAA8Bja,UAAW,YAAQ,GACpD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7C+R,GAA8Bja,UAAW,aAAS,GACrDia,GAAgC,GAAW,CACvC/Q,EAAc,CACVf,KAAM,qBAEX8R,IACH,IC9DIC,GAQA,GAEAC,GDoDAC,GAA4BH,GCpE5B,IDqEiB5a,OAAOka,QAAO,SAAUzX,GACzC,MAAM,KAAEqG,EAAI,MAAE9F,GAAUP,EACxB,OAAO,EAAQ,kBAAmB,CAC9BkI,WAAY,CACR7B,KAAMA,GAEV+B,SAAU7H,GAElB,GAAG,CACCrC,UAAWoa,GAA0Bpa,UACrCqa,OAASvY,IACL,MAAM,KAAEqG,EAAI,MAAE9F,GAAUP,EACxB,OAAO,EAAQ,kBAAmB,CAC9BkI,WAAY,CACR7B,KAAMA,GAEV+B,SAAU7H,EAAMtF,KAAI,EAAGyc,QAAOlZ,WAAY,IAAIgZ,GAAU,CAAEnR,OAAMqR,QAAO9W,KAAM,QAASpC,aACxF,ICtFoC,SAAUgO,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,GAcA,IAAIma,GAAuBJ,GAAyB,cAAmCrM,YACnFxL,QACI,OAAOiG,MAAMqC,KAAK7N,KAAKuV,iBAAiB,sDAC5C,CACIkI,kBACA,OAAOzd,MAAK,EAChB,CACI0d,iBACA,MAAM,YAAED,GAAgBzd,KACxB,OAAQA,KAAK6M,cAAc,oEAAsE4Q,GAAe,EAAKzd,KAAKuF,QAAQkY,IAAgB,KAAO,IAC7J,CACA,IACA,YAEI,GAAiB,EAAQ,aACVtd,QAAQmJ,OAAO,EAAQ,SAoBtC+T,GAAmB,IAAIvT,OAC3B,CACA/E,cACIqC,QACApH,MAAK,IAAgB,EACrBA,MAAK,GAAU4D,SAAS4S,iBAAiBxW,KAAMyW,WAAWC,aAAc1W,MAAK,GAAkBoK,KAAKpK,OACpG,MAAM4M,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QA3BF,8iBA4BhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,MACnE,CACA2W,oBACI,MAAMkG,EAAW7c,KAAKgM,aAAa,YACnChM,KAAK4W,SAAwB,OAAbiG,EAAoBc,SAASd,IAAa,CAC9D,CACAe,mBAAmBC,EAAGC,GAClB,MAAM,MAAE7K,GAAUjT,MACV2U,MAAOoH,EAAWpI,OAAQqI,GAAehc,KAAK6b,yBAChD,QAAEkC,EAAO,QAAEC,GAAYjb,OACvBkb,EAAOJ,EAAIE,EACXG,EAAMJ,EAAIE,GACV,YAAE/B,EAAW,aAAEC,GAAiBtY,SAAS0S,KACzC+F,EAAY4B,EAAOlC,EAAYE,EAC/BK,EAAY4B,EAAMlC,EAAaE,EACrCjJ,EAAMzK,YAAY,OAAQ,GAAG6T,EAAY,EAAI4B,EAAOlC,EAAYkC,OAChEhL,EAAMzK,YAAY,MAAO,GAAG8T,EAAY,EAAI4B,EAAMlC,EAAakC,MACnE,CACA,MACIle,KAAKuV,iBAAiB,gEACjB/O,SAASoC,IACVA,EAAO+S,UAAU,GAEzB,CACA,IAAatX,GACT,OAAOmH,MAAMqC,KAAK7N,KAAKuV,iBAAiB,uDAAuDmE,MAAK9Q,GAAUA,EAAOuV,SAAS9Z,MAAY,IAC9I,CACA,IAAkB4D,GACd,OAAIA,aAAgBsU,GACT9F,WAAWU,cAElBlP,aAAgBqV,GACT7G,WAAWW,YAEfX,WAAWY,aACtB,CACA+G,YACI,MAAMC,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAOvO,YAClB,CACA,MACI,MAAMuO,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAO3F,WAClB,CACA,IAAcxY,GACV,MAAMme,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAcrY,EACdme,EAAO1F,cAClB,CACA,IAAUzY,GACN,MAAMme,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAcrY,EACdme,EAAOzF,UAClB,CACA,IAAgB1Y,GACZ,MAAM,KAAE0b,GAAS1b,EACjB,OAAO0b,aAAgBwB,GACnBxB,EAAKwC,YACL,IACR,CACA,IAAele,GACE,OAATA,IACAF,MAAK,GAAeA,KAAKuF,QAAQsD,QAAQ3I,GAEjD,CACA,GAAkB8F,GACd,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,cAClC,GAAIyD,EAAY,CACZ,MAAM,KAAE1Y,EAAI,QAAE2Y,GAAYD,EAC1B,OAAQ1Y,GACJ,IAAK,WACD0Y,EAAWC,SAAWA,EACtB,MAEJ,IAAK,QAAS,CACV,MAAM,KAAElT,EAAI,MAAE7H,GAAU8a,EACxBA,EAAWC,SAAU,EACrBve,KAAKuV,iBAAiB,uEAAuElK,MACxF7E,SAASgY,IACVA,EAAQD,QAAUC,EAAQhb,OAASA,CAAK,IAE5C,KACJ,CACA,IAAK,OACL,IAAK,UACD8a,EAAW/C,SAIvB,CACAvV,EAAM+T,iBACV,CACA,GAAoB/T,GAChB,MAAM,OAAE3B,GAAW2B,EACnB,GAAI3B,aAAkBkY,GAAsB,CACxC,MAAMkC,EAAcze,MAAK,GAAaqE,GAClCoa,GACAze,MAAK,GAAeye,EAE5B,CACJ,CACA,IAAqBzY,GACjB,MAAM,cAAE4U,GAAkB5U,EAE1B,IADyBhG,KAAKme,SAASvD,GAClB,CACjB,MAAM,WAAE8D,GAAe1e,KACvB,GAAI0e,EACA,IACI1e,KAAK0J,QAEO,CAAhB,MAAOiV,GAAS,KAGf,CACD,MAAM,WAAEjB,GAAe1d,KACnB0d,GAAYjC,UACZiC,EAAW/B,WAEf3b,MAAK,GAAe,KACxB,CACJ,CACJ,CACA,GAAoBgG,GAChB,MAAM,IAAE3D,GAAQ2D,GACV,WAAE0X,GAAe1d,KACvB,OAAQqC,GACJ,IAAK,WACoBqb,EACjB1d,MAAK,GAAc0d,IAAe1d,MAAK,KACvCA,KAAKoe,cACK9D,MAAM,CAAEC,eAAe,IACrCvU,EAAM+T,kBACN,MAEJ,IAAK,aACgB2D,EACb1d,MAAK,GAAU0d,IAAe1d,KAAKoe,YACnCpe,KAAKoe,cACC9D,MAAM,CAAEC,eAAe,IACjCvU,EAAM+T,kBACN,MAEJ,IAAK,OACiB/Z,KAAKoe,aACZ9D,MAAM,CAAEC,eAAe,IAClCvU,EAAM+T,kBACN,MAEJ,IAAK,MACgB/Z,MAAK,MACZsa,MAAM,CAAEC,eAAe,IACjCvU,EAAM+T,kBACN,MAEJ,IAAK,QACL,IAAK,IACD,GAAI2D,EAAY,CACZ,MAAM,KAAE9X,GAAS8X,EACjB,OAAQ9X,GACJ,IAAK,OACL,IAAK,UACD8X,EAAWhC,SACPgC,EAAWjC,UACYzb,MAAK,GAAgB0d,IAC5BpD,MAAM,CAAEC,eAAe,IAE3C,MAEJ,QACImD,EAAW/C,QAInB3U,EAAM+T,iBACV,CACA,MAEJ,IAAK,SACD,GAAI2D,EAEA,GAD4B1X,EAAMwT,eAAeE,MAAKC,GAAYA,aAAoBiF,MAAqB5e,KAMtG,CACD,MAAM,WAAE0e,GAAe1e,KACnB0e,IACA1e,KAAK6e,OACL7e,KAAKkH,cAAc,IAAI8M,MAAM,QAAS,CAAEmB,SAAS,KACjDnP,EAAM+T,kBAEd,MAXI2D,EAAW/B,WACX+B,EAAWpD,MAAM,CAAEC,eAAe,IAClCvU,EAAM+T,kBAWd,MAEJ,IAAK,YACG2D,IAC4B1X,EAAMwT,eAAeE,MAAKC,GAAYA,aAAoBiF,MAAqB5e,OAEvG0d,EAAW/B,WACX+B,EAAWpD,MAAM,CAAEC,eAAe,IAClCvU,EAAM+T,oBAGd,MAEJ,IAAK,aACD,GAAI2D,EAAY,CACZ,MAAM,KAAE9X,GAAS8X,EAER,YADD9X,IAEK8X,EAAWjC,WACZiC,EAAWhC,SACY1b,MAAK,GAAgB0d,IAC5BpD,MAAM,CAAEC,eAAe,IACvCvU,EAAM+T,mBAKtB,EAIZ,CACA,IAAqB/T,GACjB,MAAM,OAAE3B,EAAM,cAAEuW,GAAkB5U,EAClC,GAAI3B,aAAkBkY,GAAsB,CACxC,MAAMkC,EAAcze,MAAK,GAAaqE,GACtC,GAAoB,OAAhBoa,IACwB,WAApBA,EAAY7Y,MACX6Y,EAAYhD,UACb4B,GAAiB3a,IAAI+b,IAAcK,SAEX9Y,EAAMwT,eAAeE,MAAKC,GAAYA,aAAoBiF,MAAqB5e,MAClF,CACrB,MAAM,WAAE0d,GAAe1d,KACvB,GAAwB,WAApB0d,GAAY9X,MACZ8X,EAAWjC,SAAU,CACrB,IAAIsD,EAAkB1B,GAAiB3a,IAAIgb,GACvCqB,GACAA,EAAgBD,SAEpBC,EAAkBrB,EAAWsB,QAAQ,KAAM,CACvCC,SA7SR,MA+SI5B,GAAiBzW,IAAI8W,EAAYqB,GACjC,MAAM,SAAEG,GAAaH,EACrBG,EACKC,MAAK,KACNzB,EAAW/B,UAAU,IAEpByD,OAAM,KAAe,IACrBC,SAAQ,KACThC,GAAiBpW,OAAOyW,EAAW,GAE3C,CACA,MAAM,KAAEO,EAAI,MAAEqB,EAAK,IAAEpB,EAAG,OAAEqB,GAAW,MACjC,MAAMC,EAAaxf,KAAK6a,QAAQ,cAChC,GAAI2E,IAAeA,EAAW/D,SAAU,CACpC+D,EAAW9D,SACX,MAAM+D,EAAWzf,KAAK6b,wBAEtB,OADA2D,EAAW7D,WACJ8D,CACX,CAEI,OAAOzf,KAAK6b,uBAEnB,EAXoC,IAY/B,QAAE6D,EAAO,QAAEC,GAAY3Z,EACvB4Z,IAAwB3B,EAAOyB,GAAWJ,EAAQI,GAAWxB,EAAMyB,GAAWJ,EAASI,GACvFE,EAAwB7f,KAAKme,SAASvD,GACxCgF,GAAuBC,IACnBjF,aAAyBgE,IAAoBhE,IAAkB5a,KAC/D4a,EAAcN,MAAM,CAAEC,eAAe,KAGrCva,KAAKsa,MAAM,CAAEC,eAAe,IAC5Bva,MAAK,GAAe,QAGvB4f,IACD5f,KAAKsa,MAAM,CAAEC,eAAe,IAC5Bva,MAAK,GAAe,MAE5B,CAER,CACJ,CACA,IAAsBgG,GAClB,MAAM,OAAE3B,GAAW2B,EACnB,GAAI3B,aAAkBkY,GAAsB,CACxC,MAAMkC,EAAcze,MAAK,GAAaqE,GACtC,GAAoB,OAAhBoa,IACyB,YAArBA,EAAY7Y,MAAsB6Y,EAAYhD,UAC9C4B,GAAiB3a,IAAI+b,IAAcK,SAEX9Y,EAAMwT,eAAeE,MAAKC,GAAYA,aAAoBiF,MAAqB5e,MAClF,CACrB,MAAM,WAAE0d,GAAe1d,KACvB,GAAyB,YAArB0d,GAAY9X,MACZ8X,EAAWjC,WACViC,EAAWS,SAAS9Z,GAAS,CAC9B,IAAI0a,EAAkB1B,GAAiB3a,IAAIgb,GACvCqB,GACAA,EAAgBD,SAEpBC,EAAkBrB,EAAWsB,QAAQ,KAAM,CACvCC,SA5WR,MA8WI5B,GAAiBzW,IAAI8W,EAAYqB,GACjC,MAAM,SAAEG,GAAaH,EACrBG,EACKC,MAAK,KACNzB,EAAW/B,UAAU,IAEpByD,OAAM,KAAe,IACrBC,SAAQ,KACThC,GAAiBpW,OAAOyW,EAAW,GAE3C,CAGA,GAFA1d,MAAK,GAAeye,GACpBA,EAAYnE,MAAM,CAAEC,eAAe,IACV,YAArBkE,EAAY7Y,KACZ,GAAK6Y,EAAYhD,SA0BbgD,EAAY7C,MAAMtB,MAAM,CAAEC,eAAe,QA1BlB,CACvB,IAAIwE,EAAkB1B,GAAiB3a,IAAI+b,GACvCM,GACAA,EAAgBD,SAEpBC,EAAkBN,EAAYO,QAAQ,KAAM,CACxCC,SAnYZ,MAqYQ5B,GAAiBzW,IAAI6X,EAAaM,GAClC,MAAM,SAAEG,GAAaH,EACrBG,EACKC,MAAK,KACN,MAAM,WAAEzB,GAAe1d,KACvBA,MAAK,KACD0d,IACAL,GAAiB3a,IAAIgb,IAAaoB,SAClCpB,EAAWhC,SACXgC,EAAW9B,MAAMtB,MAAM,CAAEC,eAAe,IAC5C,IAEC6E,OAAM,KAAe,IACrBC,SAAQ,KACThC,GAAiBpW,OAAOwX,EAAY,GAE5C,CAKR,CAER,CACJ,GAEJ,GAAW,CACPxT,EAAkB,CAAErF,KAAMsF,UAC3BsS,GAAqBta,UAAW,YAAQ,GAC3C,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3B6R,GAAqBta,UAAW,kBAAc,GACjDsa,GAAuBJ,GAAyB,GAAW,CACvDhR,EAAc,CACVf,KAAM,YAEXmS,IACH,IC7aI,GD6aAoB,GAAmBpB,GC3bnB,ID4bQjb,OAAOka,QAAO,SAAUzX,GAChC,MAAM,KAAEqG,EAAI,SAAE+B,GAAapI,EAC3B,OAAO,EAAQ,SAAU,CACrBkI,WAAY,CACR7B,KAAMA,EACNwR,UAAW,GAEfzP,SAAUA,GAElB,GAAG,CACClK,UAAW0b,GAAiB1b,YCtcc,SAAUsO,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,GAWA,IAAIyc,GAA0B,cAAsC/O,YAChE,IACA,YAEI,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,QAc1C,CACAvE,cACIqC,QACApH,MAAK,GAAU4D,SAAS4S,iBAAiBxW,KAAMyW,WAAWC,aAAc1W,MAAK,GAAkBoK,KAAKpK,OACpGA,MAAK,IAAgB,EACrB,MAAM4M,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QApBF,uZAqBhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,MACnE,CACA2W,oBACI,MAAMkG,EAAW7c,KAAKgM,aAAa,YACnChM,KAAK4W,SAAwB,OAAbiG,EAAoBc,SAASd,IAAa,CAC9D,CACAtX,QACI,OAAOiG,MAAMqC,KAAK7N,KAAKuV,iBAAiB,sDAC5C,CACIkI,kBACA,OAAOzd,MAAK,EAChB,CACI0d,iBACA,MAAM,YAAED,GAAgBzd,KACxB,OAAQA,KAAK6M,cAAc,oEAAsE4Q,GAAe,EAAKzd,KAAKuF,QAAQkY,IAAgB,KAAO,IAC7J,CACA,IAAkBxV,GACd,OAAIA,aAAgBsU,KAA0BtU,EAAK8X,WAAY9X,EAAKiP,OACzDT,WAAWU,cAElBlP,aAAgBqV,GACT7G,WAAWW,YAEfX,WAAWY,aACtB,CACA+G,YACI,MAAMC,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAOvO,YAClB,CACA,MACI,MAAMuO,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAO3F,WAClB,CACA,IAAcxY,GACV,MAAMme,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAcrY,EACdme,EAAO2B,iBAClB,CACA,IAAU9f,GACN,MAAMme,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAcrY,EACdme,EAAO4B,aAClB,CACA,IAAgB/f,GACZ,MAAM,KAAE0b,GAAS1b,EACjB,GAAI0b,EAAM,CACN,MAAMyC,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAcqD,EACdyC,EAAOvO,YAClB,CACA,OAAO,IACX,CACA,IAAe5P,GACX,MAAM,WAAEwd,EAAU,SAAEjC,GAAazb,KACd,OAAf0d,GAAuBA,IAAexd,GACtCwd,EAAW/B,WAEF,OAATzb,GACIub,GACAvb,EAAKwb,SAET1b,MAAK,GAAeA,KAAKuF,QAAQsD,QAAQ3I,IAGzCF,MAAK,IAAgB,CAE7B,CACI,QACA,OAAOwL,MAAMqC,KAAK7N,KAAKuV,iBAAiB,sDAC5C,CACA,IAAelR,GACX,OAAOA,EAAOwW,QAAQ,2BAA6B7a,IACvD,CACA,IAAaqE,GACT,OAAOrE,MAAK,EAAO0Z,MAAK9Q,GAAUA,EAAOuV,SAAS9Z,MAAY,IAClE,CACA,GAAkB2B,GACd,MAAM,cAAE4U,GAAkB5U,GACpB,WAAE0X,GAAe1d,KAClBA,KAAKme,SAASvD,KACd8C,GAAc1d,KAAKoe,cAAc9D,OAE1C,CACA,GAAoBtU,GAChB,MAAM,OAAE3B,GAAW2B,EACnB,GAAI3B,aAAkB6b,QAAS,CAC3B,MAAMzB,EAAcze,MAAK,GAAaqE,GACtCrE,MAAK,GAAeye,GACpBze,KAAK4W,UAAY,CACrB,CACJ,CACA,IAAqB5Q,GACjB,MAAM,OAAE3B,EAAM,cAAEuW,GAAkB5U,EAClC,GAAI3B,aAAkB0M,YAAa,CAC/B,MAAM0N,EAAcze,MAAK,GAAaqE,GAClCoa,GACAA,EAAY9C,UAEpB,EACyB3b,KAAKme,SAASvD,KAEnC5a,KAAKyb,UAAW,EAChBzb,KAAK4W,SAAW,EAExB,CACA,IAAsB5Q,GAClB,MAAM,OAAE3B,GAAW2B,GACb,SAAEyV,EAAQ,WAAEiC,GAAe1d,KACjC,GAAIqE,aAAkBkY,IACIvc,MAAK,GAAeqE,IACrBA,IAAWqZ,GAAcjC,EAAU,CACpD,MAAM,KAAEG,GAASvX,EACbuX,IACAvX,EAAOqX,SACPE,EAAKtB,MAAM,CAAEC,eAAe,IAEpC,CAER,CACA,GAAkBvU,GACd,MAAM,OAAE3B,GAAW2B,GACb,SAAEyV,EAAQ,WAAEiC,GAAe1d,KACjC,GAAIqE,aAAkBkY,IACIvc,MAAK,GAAeqE,GACvB,CACf,MAAM8b,GAAc1E,EAEpB,GADAzb,KAAKyb,SAAW0E,EACZA,EAAY,CACRzC,IAAeA,EAAWjC,UAC1BiC,EAAWhC,SAEf,MAAM,KAAEE,GAASvX,EACjBuX,GAAMtB,MAAM,CAAEC,eAAe,GACjC,MAEQmD,IACAA,EAAW/B,WACX+B,EAAWmB,OAGvB,CAER,CACA,GAAoB7Y,GAChB,MAAM,IAAE3D,GAAQ2D,GACV,SAAEyV,GAAazb,KACrB,IAAI,WAAE0d,GAAe1d,KACrB,OAAQqC,GACJ,IAAK,aACoBqb,EACjB1d,MAAK,GAAc0d,IAAe1d,MAAK,KACvCA,KAAKoe,cACK9D,MAAM,CAAEC,eAAe,MAClCmD,cAAe1d,MACdyb,GAAYiC,GACW1d,MAAK,GAAgB0d,IAC5BpD,MAAM,CAAEC,eAAe,IAE3C,MAEJ,IAAK,cACgBmD,EACb1d,MAAK,GAAU0d,IAAe1d,KAAKoe,YACnCpe,MAAK,OACCsa,MAAM,CAAEC,eAAe,MAC9BmD,cAAe1d,MACdyb,GAAYiC,GACW1d,MAAK,GAAgB0d,IAC5BpD,MAAM,CAAEC,eAAe,IAE3C,MAEJ,IAAK,QACL,IAAK,IACGmD,IACA1d,KAAKyb,UAAYA,GACZA,IACsBzb,MAAK,GAAgB0d,IAC5BpD,MAAM,CAAEC,eAAe,IAG/C,MAEJ,IAAK,SACGkB,GACAzb,KAAKyb,UAAW,EACZiC,IACAA,EAAW/B,WACX+B,EAAWpD,MAAM,CAAEC,eAAe,MAItCva,KAAKsa,MAAM,CAAEC,eAAe,IAEhCvU,EAAM+T,kBAIlB,GAEJ,GAAW,CACP9O,EAAkB,CAAErF,KAAMsF,UAC3B4U,GAAwB5c,UAAW,YAAQ,GAC9C,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BmU,GAAwB5c,UAAW,gBAAY,GAClD4c,GAA0B,GAAW,CACjC1T,EAAc,CACVf,KAAM,eAEXyU,IACH,IC1PI,GACA,GAdA,GAA0C,SAAUtO,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAUA,IAAI+c,GAA6B,cAAyCrP,oBAElE,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,QAAS,EAAQ,OAAQ,CAC3D4D,WAAY,CACR7B,KAAM,WAGd,GAAgB,0nBAiB4C0G,uJAIAD,0qBA0BhE,CACA/M,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,MACrE,CACA2W,oBACI,MAAMkG,EAAW7c,KAAKgM,aAAa,YACnChM,KAAK4W,SAAwB,OAAbiG,EAAoBc,SAASd,IAAa,CAC9D,CACAtB,OAAOC,GACH,MAAM,SAAEC,GAAazb,KACNwb,IAAUC,EAChBzb,KAAK0b,SAAW1b,KAAK2b,UAClC,CACAD,SACI,MAAM,SAAED,GAAazb,KAChByb,IACDzb,KAAKyb,UAAW,EAChBzb,MAAK,KAEb,CACA2b,WACI,MAAM,SAAEF,GAAazb,KACjByb,IACAzb,KAAKyb,UAAW,EAExB,CACA,MACI,MAAM,KAAEG,GAAS5b,KACjB,GAAa,OAAT4b,EAAe,CACf,MAAM,MAAEjH,EAAK,OAAEhB,GAAW3T,KAAK6b,yBACvB5I,MAAO6I,GAAcF,GACrBjH,MAAOoH,EAAWpI,OAAQqI,GAAeJ,EAAKC,yBAChD,YAAEI,EAAW,aAAEC,GAAiBtY,SAAS0S,MACzC,WAAE6F,EAAU,UAAEC,GAAcpc,KAC5Bqc,EAAYF,EAAaxH,EAAQoH,EAAYE,EAC7CK,EAAYF,EAAYJ,EAAaE,EAC3CJ,EAAUtT,YAAY,QAAW6T,EAAY,EACzC1H,EAAQoH,EACR,GAF0B,MAG9BD,EAAUtT,YAAY,MAAO,GAAG8T,EAAY,GACvCN,EACDrI,MACR,CACJ,CACA,GAAkB3N,GACd,MAAM,OAAE3B,GAAW2B,GACb,KAAE4V,GAAS5b,KACjB,GAAI4b,IAASA,EAAKuC,SAAS9Z,GAAS,CAChCrE,KAAKub,SACL,MAAM,SAAEE,GAAazb,KACjByb,GACAG,GAAMtB,MAAM,CAAEC,eAAe,GAErC,CACJ,CACA,IAAqBvU,GACjB,MAAM,cAAE4U,GAAkB5U,GACDhG,KAAKme,SAASvD,IAEnC5a,KAAK2b,UAEb,CACA,GAAoB3V,GAChB,MAAM,IAAE3D,GAAQ2D,GACV,SAAEyV,GAAazb,KACrB,OAAQqC,GACJ,IAAK,YACL,IAAK,QACIoZ,IACDzb,KAAK0b,SACL1b,KAAKoe,WAAW9D,MAAM,CAAEC,eAAe,IACvCvU,EAAM+T,mBAEV,MACJ,IAAK,SACG0B,GACAzb,KAAK2b,WAET3b,KAAKsa,MAAM,CAAEC,eAAe,IAC5BvU,EAAM+T,kBAGlB,GAEJ,GAAW,CACPvN,EAAc,CAAEE,SAAU,gCAC3B0T,GAA2Bld,UAAW,YAAQ,GACjD,GAAW,CACPsJ,EAAc,CAAEE,SAAU,2CAC3B0T,GAA2Bld,UAAW,iBAAa,GACtD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3BkV,GAA2Bld,UAAW,YAAQ,GACjD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3ByU,GAA2Bld,UAAW,gBAAY,GACrD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3ByU,GAA2Bld,UAAW,gBAAY,GACrDkd,GAA6B,GAAW,CACpChU,EAAc,CACVf,KAAM,kBAEX+U,IACH,IC9FI,GD8FAC,GAAyBD,GCtLzB,IDuLc7d,OAAOka,QAAO,SAAUzX,GACtC,MAAM,KAAE4W,GAAS5W,EAEjB,OADA4W,EAAKgB,KAAO,OACL,EAAQ,eAAgB,CAC3B1P,WAAY,CACR2P,UAAW,GAEfzP,SAAU,CAACwO,IAEnB,GAAG,CACC1Y,UAAWmd,GAAuBnd,YCjMQ,SAAUsO,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,GAaA,MAAMid,WAAkB5X,EACpBoN,KACAyK,QACAxb,YAAYC,GACRoC,QACA,MAAQ0O,KAAM0K,EAAW,GAAID,QAASE,EAAc,IAAOzb,GAAQ,CAAC,EAC9D8Q,EAAO,IAAInN,EAAU6X,GAC3B1K,EAAKxO,UAAUtH,MACfA,KAAK8V,KAAOA,EACZ,MAAMyK,EAAU,IAAI5X,EAAU8X,GAC9BF,EAAQjZ,UAAUtH,MAClBA,KAAKugB,QAAUA,CACnB,CACAG,gBAAgBrV,GACZ,OAAOG,MAAMqC,KAAK7N,KAAKugB,QAAQ7a,UAAUgU,MAAKiH,GAAYA,EAAStV,MAAQA,KAAS,IACxF,CACAuV,aAAaC,EAAQC,GACjBtV,MAAMqC,KAAK7N,KAAKugB,QAAQ7a,UAAUc,SAASma,IACvCA,EAASI,UAAYJ,IAAaE,EAASC,OAAYjgB,CAAS,IAEpE,MAAMmgB,EAAW,MACb,MAAM,KAAEpb,GAASib,EACjB,OAAQjb,IACCsF,OACM,CAAC+V,EAAOC,KACX,MAAMC,EAASjW,OAAO2V,EAAOO,QAAQH,IAC/BI,EAASnW,OAAO2V,EAAOO,QAAQF,IACrC,OAAOJ,EAAYK,EAAOG,cAAcD,EAAO,EAI5C,CAACJ,EAAOC,KACX,MAAMC,EAASjV,OAAO2U,EAAOO,QAAQH,IAC/BI,EAASnV,OAAO2U,EAAOO,QAAQF,IACrC,OAAO1X,KAAK+X,KAAKT,GAAaK,EAASE,GAAQ,CAI9D,EAlBgB,GAmBjBrhB,KAAK8V,KAAKhN,KAAKkY,EACnB,EAEJ,MAAMQ,WAAwB9Y,EAC1B2C,KACAzF,KACA8W,MACA0E,QACAK,QACAV,UACAhc,YAAYC,GACRoC,QACA,MAAM,KAAEiE,EAAI,KAAEzF,EAAI,MAAE8W,EAAK,QAAE0E,EAAO,QAAEK,EAAU,IAAOzc,EACrDhF,KAAKqL,KAAOA,EACZrL,KAAK4F,KAAOA,EACZ5F,KAAK0c,MAAQA,EACb1c,KAAKohB,QAAUA,EACfphB,KAAKyhB,QAAUA,CACnB,EAEJ,GAAW,CACPpZ,KACDmZ,GAAgBte,UAAW,iBAAa,GAC3C,MAAMwe,WAAqBhZ,EACvBhJ,GACAqF,YAAYC,GACRoC,QACA,MAAM,GAAE1H,GAAOsF,EACfhF,KAAKN,GAAKA,CACd,EAGJ,IAAIiiB,GAAe,cAA2BrQ,EAC1C,IACA,IACA,WAEI,GAAgB,klEAsEkD,yEACR,iQAKU,2EACR,yEAIhE,CACAvM,YAAYqJ,GACRhH,QACApH,MAAK,GAAkB,GACvBA,MAAK,GACD,CAACwY,EAAKqI,IAAW,EAAQ,QAAS,CAC9BzT,SAAUyT,EAAOO,QAAQ5I,KAEjCxY,MAAK,GACA6gB,GAAW,EAAQ,QAAS,CACzBzT,SAAUyT,EAAOnE,QAEzB,MAAM9P,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,EAAmBL,GACpDhT,KAAKgR,SAAS5C,GAAS,IAAIkS,GAC/B,CACApL,yBAAyB7J,EAAM7G,EAAUC,GACrC,OAAQ4G,GACJ,IAAK,YACL,IAAK,WACDrL,KAAKmR,SAIjB,CACIyQ,kBACA,OAAO5hB,KAAK4M,WAAWC,cAAc,SACzC,CACAgV,kBAAkBC,GACd9hB,MAAK,GAAkB8hB,CAC3B,CACAC,gBAAgBD,GACZ9hB,MAAK,GAAgB8hB,CACzB,CACAE,cAAcxJ,GACV,OAAOxY,KAAK4M,WAAWC,cAAc,+CAA+C2L,EAAI9Y,OAC5F,CACAuiB,uBAAuBpB,GACnB,OAAO7gB,KAAK4M,WAAWC,cAAc,uCAAuCgU,EAAOxV,QACvF,CACA6W,uBAAuBrB,GACnB,OAAOrV,MAAMqC,KAAK7N,KAAK4M,WAAW2I,iBAAiB,yDAAyDsL,EAAOxV,SACvH,CACA6F,eACI,MAAM,MAAE9C,GAAUpO,KAClB,OAAO8M,EAAS,EAAQ,SAAU,CAC9BI,WAAY,CACR2P,SAAU,EACVtD,SAAU,MACV4I,eAAe,GAEnB/U,SAAU,CACN,EAAQ,aAAc,CAClBA,SAAUuD,EAAsBvC,EAAMmS,SAASM,GAAU7gB,MAAK,GAA4B6gB,KAC1FxT,UAAW,CACP+U,YAAapiB,MAAK,GAA4BoK,KAAKpK,MACnD2a,MAAO3a,MAAK,GAAsBoK,KAAKpK,SAG/C,EAAQ,aAAc,CAClBoN,SAAUuD,EAAsBvC,EAAM0H,MAAM0C,GAAOxY,MAAK,GAAmBwY,UAI3F,CACA7N,OAAO6N,GACH,MAAM6J,EAAiBriB,MAAK,GAC5B,QAAQqiB,EAAe/hB,OAAS,IAAI+hB,EAAeC,MAAKC,GAAYA,EAAS5X,OAAO6N,IACxF,CACAgK,iBAAiB7X,GACb,MAAM,MAAEyD,EAAK,YAAEwT,GAAgB5hB,MACzB,KAAE8V,GAAS1H,EACXiU,EAAiBriB,MAAK,GACvBqiB,EAAexX,SAASF,KACzB0X,EAAe7iB,KAAKmL,GACpBa,MAAMqC,KAAKiI,EAAKpQ,UAAUc,SAAS4R,IAC/B,MAAMqK,EAAaziB,KAAKgiB,cAAc5J,GAClCqK,IACAA,EAAWvL,QAAUlX,KAAK2K,OAAOyN,GACrC,KAGRwJ,EAAY7K,gBAChB,CACA2L,oBAAoB/X,GAChB,MAAM,MAAEyD,EAAK,YAAEwT,GAAgB5hB,MACzB,KAAE8V,GAAS1H,EACXiU,EAAiBriB,MAAK,GACtB2iB,EAAcN,EAAexZ,QAAQ8B,GACvCgY,GAAe,IACfN,EAAerb,OAAO2b,EAAa,GACnCnX,MAAMqC,KAAKiI,EAAKpQ,UAAUc,SAAS4R,IAC/B,MAAMqK,EAAaziB,KAAKgiB,cAAc5J,GAClCqK,IACAA,EAAWvL,QAAUlX,KAAK2K,OAAOyN,GACrC,KAGRwJ,EAAY7K,gBAChB,CACA6L,0BACI,MAAM,MAAExU,EAAK,YAAEwT,GAAgB5hB,MACzB,KAAE8V,GAAS1H,EACXiU,EAAiBriB,MAAK,GAC5BqiB,EAAerb,OAAO,EAAGqb,EAAe/hB,QACxCkL,MAAMqC,KAAKiI,EAAKpQ,UAAUc,SAAS4R,IAC/B,MAAMqK,EAAaziB,KAAKgiB,cAAc5J,GAClCqK,IACAA,EAAWvL,QAAUlX,KAAK2K,OAAOyN,GACrC,IAEJwJ,EAAY7K,gBAChB,CACA,IAA4B8J,GA6CxB,OA5C0BxS,EAAgBwS,EAAQ,EAAQ,aAAc,CACpE3T,WAAY,CACRtH,KAAM,eACNlG,GAAImhB,EAAOxV,MAEf+B,SAAU,CACN,EAAQ,OAAQ,CACZF,WAAY,CACR2V,MAAO,sBAEXzV,SAAU,CACN,EAAQ,OAAQ,CACZF,WAAY,CACR2V,MAAO,oBAEXzV,SAAUpN,MAAK,GAAgB6gB,KAEnC,EAAQ,OAAQ,CACZ3T,WAAY,CACR2V,MAAO,+BAGf,EAAQ,UAAW,CACf3V,WAAY,CACRgH,SAAU2M,EAAOxV,cAMrC,CAAC,cAAc,CAACgN,EAAMxQ,EAAUrD,EAAUC,KAC1C,OAAQoD,GACJ,IAAK,YAAa,CACd,MAAM,QAAEsF,GAAYkL,OACI,IAAb5T,EACP0I,EAAQ4T,UAAYtc,EAAS1E,kBAGtBoN,EAAQ4T,UAEnB,KACJ,EACJ,GAGR,CACA,IAAmBvI,GACf,MAAM,MAAEpK,GAAUpO,KAUlB,OATuB,EAAQ,YAAa,CACxCkN,WAAY,CACR2P,UAAW,GAEf1P,QAAS,CACL1H,MAAO+S,EAAI9Y,IAEf0N,SAAUuD,EAAsBvC,EAAMmS,SAASM,GAAU7gB,MAAK,GAAoBwY,EAAKqI,MAG/F,CACA,IAAoBrI,EAAKqI,GAoBrB,OAnBwB,EAAQ,aAAc,CAC1C3T,WAAY,CACRtH,KAAM,WACNkd,QAASjC,EAAOxV,MAEpB+B,SAAU,EAAQ,OAAQ,CACtBF,WAAY,CACR2V,MAAO,oBAEXzV,SAAU,CACN,EAAQ,OAAQ,CACZF,WAAY,CACR2V,MAAO,kBAEXzV,SAAUpN,MAAK,GAAcwY,EAAKqI,SAMtD,CACA,IAA4B7a,GACxB,MAAM,QAAE0Z,EAAO,QAAEC,EAAO,cAAE9Z,EAAa,OAAExB,GAAW2B,GAC9C,YAAE4b,GAAgB5hB,KAClB+iB,EAAald,EACbmd,EAAe3e,EAAOwW,QAAQ,eAC9B,MAAEzM,GAAUpO,KAClB,GAAIgjB,EAAc,CACd,MAAMnC,EAASzS,EAAMsS,gBAAgBsC,EAAatjB,KAC5C,UAAEqhB,EAAS,QAAEU,GAAYZ,EACzBoC,EAAc,EAAQ,SAAU,CAClC/V,WAAY,CACRwR,YAAY,GAEhBtR,SAAU,CACN,EAAQ,aAAc,CAClBF,WAAY,CACRwP,MAAO,eAEXtP,SAAU,cACVC,UAAW,CACPsN,MAAO,KACH,MAAMuI,EAAsBljB,KAAKiiB,uBAAuBpB,GACxD,GAAIqC,EAAqB,CACrB,MAAM,MAAEjQ,GAAUiQ,EAEZC,EADSnjB,KAAKkiB,uBAAuBrB,GAAQ5gB,KAAIyV,GAAUA,EAAO7I,cAAc,qBAC9DuW,QAAO,CAACD,EAAUzG,IAAUlT,KAAKoL,IAAIuO,EAAUzG,EAAMb,wBAAwBlH,QAAQ,GAC7G1B,EAAMzK,YAAY,QAAS,GAAG2a,MAClC,CACAvB,EAAYtH,OAAO,KAI/B,EAAQ,aAAc,CAClBpN,WAAY,CACRwP,MAAO,qBAEXtP,SAAU,oBACVC,UAAW,CACPsN,MAAO,KACH,MAAMuI,EAAsBljB,KAAKiiB,uBAAuBpB,GACxD,GAAIqC,EAAqB,CACrB,MAAM,MAAEjQ,GAAUiQ,EAClBjQ,EAAMoQ,eAAe,QACzB,CACAzB,EAAYtH,OAAO,KAI/B,EAAQ,aAAc,CAClBpN,WAAY,CACRtH,KAAM,UACN8W,MAAO,QAEXtP,SAAU,CACN,OACA,EAAQ,SAAU,CACdF,WAAY,CACR0P,KAAM,QAEVxP,SAAU,CACN,EAAQ,aAAc,CAClBF,WAAY,CACRtH,KAAM,QACNyF,KAAM,OACN7H,MAAO,IACPkZ,MAAO,YACP6B,QAAuB,IAAdwC,GAEb3T,SAAU,cAEd,EAAQ,aAAc,CAClBF,WAAY,CACRtH,KAAM,QACNyF,KAAM,OACN7H,MAAO,KACPkZ,MAAO,aACP6B,SAAwB,IAAfwC,GAEb3T,SAAU,gBAGlBC,UAAW,CACPsN,MAAQ3U,IACJ,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,cAC9ByD,GACAlQ,EAAMwS,aAAaC,EAAQ3U,OAAOoS,EAAW9a,QAEjDoe,EAAYtH,OAAO,QAMvC,EAAQ,aAAc,CAClBpN,WAAY,CACRtH,KAAM,UACN8W,MAAO,UAEXtP,SAAU,CACN,SACA,EAAQ,SAAU,CACdF,WAAY,CACR0P,KAAM,QAEVxP,SAAUqU,EAAQxhB,KAAI0K,IAClB,MAAM,KAAEU,GAASV,EACjB,OAAO,EAAQ,aAAc,CACzBuC,WAAY,CACRtH,KAAM,WACN2Y,QAASve,MAAK,GAAgB6K,SAASF,GACvC+R,MAAOrR,GAEX+B,SAAU/B,GACZ,IACHhL,OAAO,EAAQ,aAAc,CAC5B6M,WAAY,CACRtH,KAAM,SACN8W,MAAO,kBAEXtP,SAAU,oBAEdC,UAAW,CACPsN,MAAQ3U,IACJ,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,cAClC,GAAIyD,EAAY,CACZ,MAAM,QAAEC,EAAO,MAAE7B,GAAU4B,EACrB3T,EAAS8W,EAAQ/H,MAAK/O,GAAUA,EAAOU,OAASqR,IAClD/R,EACI4T,EACAve,KAAKwiB,iBAAiB7X,GAGtB3K,KAAK0iB,oBAAoB/X,GAI7B3K,KAAK4iB,yBAEb,CACAhB,EAAYtH,OAAO,WAQ/CyI,EAAWzZ,OAAO2Z,GAClBA,EAAYrF,mBAAmB8B,EAASC,GACxCsD,EAAY3I,MAAM,CAAEC,eAAe,IACnCvU,EAAMoU,gBACV,CACJ,CACA,IAAsBpU,GAClB,MAAM,OAAE3B,GAAW2B,EAEnB,GAD8B3B,EAAOif,QAAQ,qDAClB,CACvB,MAAMN,EAAe3e,EAAOwW,QAAQ,eAC9B,MAAEzM,GAAUpO,MACZ,QAAEugB,GAAYnS,EACpB,GAAI4U,EAAc,CACd,MAAMO,EAAe/X,MAAMqC,KAAK0S,EAAQ7a,UAAUgU,MAAKiH,GAAYA,EAAStV,MAAQ2X,EAAatjB,KACjG,GAAI6jB,EAAc,CACd,MAAM,UAAExC,GAAY,GAAOwC,EAC3BnV,EAAMwS,aAAa2C,GAAexC,EACtC,CACJ,CACJ,CACJ,GAEJY,GAAe,GAAW,CACtBvV,EAAc,CACVf,KAAM,gBAEXsW,IACH,IC3hBI,GD2hBA6B,GAAW7B,G,UCriBX,GAA0C,SAAUnQ,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAOA,IAAIogB,GAA2B,cAAuC1S,oBAE9D,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,MAAO,CACzC4D,WAAY,CACR8N,KAAM,WAEV5N,SAAU,CACN,EAAQ,OAAQ,CACZF,WAAY,CACR8N,KAAM,WAGd,EAAQ,WAEZ,EAAQ,OAAQ,CAChB9N,WAAY,CACR7B,KAAM,WAGlB,CACAtG,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,UACnB,IAAIV,eACZxO,aA1BtB,GA2BI0I,EAAW0G,mBAAqB,CAACP,EAAMX,cAAe5G,MAAMqC,KAAK,MAAY5N,KAAKC,IAC1E,MAAOwjB,EAAOC,GAAUzjB,EAClBkS,EAAa,IAAIM,cAEvB,OADAN,EAAWlO,QAAQyf,GACZvR,CAAU,KAEzBxF,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,GACvD,CACA0B,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,EAChBgN,QAAQC,IAAI,QAChB,CACA3O,yBAAyB7J,EAAM7G,EAAUC,GACrC,OAAQ4G,GACJ,IAAK,WACDrL,KAAKkH,cAAc,IAAI8M,MAAM,SAAU,CAAEmB,SAAS,KAClD,MAEJ,IAAK,WACDnV,KAAKkH,cAAc,IAAI8M,MAAM,SAAU,CAAEmB,SAAS,KAClD,MAEJ,IAAK,QAAS,CACV,MAAM2O,EAAY9jB,KAAK4M,WAAWC,cAAc,gBAC5CiX,IACAA,EAAUC,YAActf,GAE5B,KACJ,CACA,IAAK,QACDzE,KAAK4M,WAAW0G,mBAAmB,GAAGT,SAAS,GAAGC,SAASlM,IAAI,eAAmB,GAAKsF,OAAOzH,GAAf,MAI3F,CACA8W,OAAOC,GACH,MAAM,SAAEC,GAAazb,KACrBA,KAAKyb,SAAWD,IAAUC,CAC9B,GAEJ,GAAW,CACPxQ,EAAkB,CAAErF,KAAMsF,UAC3BuY,GAAyBvgB,UAAW,YAAQ,GAC/C,GAAW,CACP+H,EAAkB,CAAErF,KAAMsG,UAC3BuX,GAAyBvgB,UAAW,gBAAY,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7CqY,GAAyBvgB,UAAW,aAAS,GAChD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9CqY,GAAyBvgB,UAAW,gBAAY,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3B8X,GAAyBvgB,UAAW,kBAAc,GACrD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3B8X,GAAyBvgB,UAAW,cAAU,GACjD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9CqY,GAAyBvgB,UAAW,gBAAY,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsG,OAAQd,UAAU,KAC7CqY,GAAyBvgB,UAAW,aAAS,GAChD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQC,aAAc,UACjDsY,GAAyBvgB,UAAW,YAAQ,GAC/C,GAAW,CACPsJ,EAAc,CAAEE,SAAU,0CAC3B+W,GAAyBvgB,UAAW,aAAS,GAChDugB,GAA2B,GAAW,CAClCrX,EAAc,CACVf,KAAM,gBAEXoY,IACH,ICzGI,GDyGAO,GAAuBP,GCvG3B,IAAIQ,GAAgC,cAA4ClT,oBAExE,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,QAM1C,CACAvE,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAVF,mFAWhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,GACvD,GAEJgP,GA9B8C,SAAUzS,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,CAyBgC,CAAW,CACvC+I,EAAc,CACVf,KAAM,qBAEX4Y,IACH,ICtBI,GDsBAC,GAA4BD,GCnC5B,GAA0C,SAAUzS,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAUA,IAAI8gB,GAAuB,cAAmCpT,YAC1DxL,MACImY,iBACA,OAAO1d,KAAK6M,cAAc,qBAC9B,CACIuX,qBACA,OAAOpkB,KAAK6M,cAAc,yBAC9B,CACA,GACA,GACA,YAEI,GAAiB,EAAQ,aACV1M,QAAQmJ,OAAO,EAAQ,QAW1C,CACAvE,cACIqC,QACApH,MAAK,GAAU4D,SAAS4S,iBAAiBxW,KAAMyW,WAAWC,aAAc1W,MAAK,GAAYoK,KAAKpK,OAC9FA,MAAK,GAAe,EACpBA,MAAK,GAAuB,EAC5BA,KAAKuF,MAAQvF,KAAKgE,qBAAqB,cACvC,MAAM4I,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAnBF,wSAoBhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,WAAY1G,MAAK,EAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,UAAW1G,MAAK,GAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,OAAQ1G,MAAK,GAAiBoK,KAAKpK,OACzDA,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,SAAU1G,MAAK,EAAmBoK,KAAKpK,MACjE,CACA2W,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,CACpB,CACAyN,gBACI,MAAMA,EAAgB,GAChBhG,EAASre,MAAK,GACpBqe,EAAO9F,YAAc8F,EAAOvF,KAC5B,IAAI5Y,EAAOF,KAAKoe,YAChB,KAAgB,OAATle,GACCA,EAAKgY,UACLmM,EAAc7kB,KAAKU,GAEvBA,EAAOF,MAAK,GAAUE,GAE1B,OAAOmkB,CACX,CACAxN,iBACI7W,MAAK,GAAe,CACxB,CACA8W,eACI9W,MAAK,GAAe,EAChBA,MAAK,IACLA,KAAKkH,cAAc,IAAI8M,MAAM,kBAAmB,CAAEmB,SAAS,KAC3DnV,MAAK,GAAuB,EAEpC,CACA,IAAYiI,GACR,OAAIA,aAAgB+b,GACTvN,WAAWU,cAElBlP,aAAgBic,GACTzN,WAAWW,YAEfX,WAAWY,aACtB,CACA,IAAexJ,EAAMyJ,GACjB,GAAIzJ,GAAQyJ,EACR,MAAO,CAACzJ,GAEZ,MAAM6J,EAAW7J,EAAK8J,wBAAwBL,GAC9C,GAAII,EAAWE,KAAKC,4BAA6B,CAC7C,MAAMtI,EAAQ,CAAC1B,GACf,IAAIyW,EAAkBtkB,MAAK,GAAU6N,GACrC,KAAOyW,GAAmBA,IAAoBhN,GAC1C/H,EAAM/P,KAAK8kB,GACXA,EAAkBtkB,MAAK,GAAUskB,GAGrC,OADA/U,EAAM/P,KAAK8X,GACJ/H,CACX,CACK,GAAImI,EAAWE,KAAKG,4BAA6B,CAClD,MAAMxI,EAAQ,CAAC1B,GACf,IAAI0W,EAAsBvkB,MAAK,GAAc6N,GAC7C,KAAO0W,GAAuBA,IAAwBjN,GAClD/H,EAAM/P,KAAK+kB,GACXA,EAAsBvkB,MAAK,GAAcukB,GAG7C,OADAhV,EAAM/P,KAAK8X,GACJ/H,CACX,CACA,MAAO,EACX,CACA,OAAiBhK,GACb,MAAM8e,EAAgBrkB,KAAKqkB,gBAC3BrkB,KAAK6W,iBACLwN,EAAc7d,SAASge,IACdjf,EAAMsF,SAAS2Z,KAChBA,EAAetM,UAAW,EAC9B,IAEJ3S,EAAMiB,SAASoC,IACP5I,KAAKme,SAASvV,KAAYA,EAAOsP,WACjCtP,EAAOsP,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,OAAmBvR,GACfvF,KAAK6W,iBACLtR,EAAMiB,SAASoC,IACNA,EAAOsP,WACRtP,EAAOsP,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,OAAwBvR,GACpB,MAAM8e,EAAgBrkB,KAAKqkB,gBAC3BrkB,KAAK6W,iBACLtR,EAAMiB,SAASoC,IACPyb,EAAcxZ,SAASjC,KACvBA,EAAOsP,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,MACI,MAAMuN,EAAgBrkB,KAAKqkB,gBAC3BrkB,KAAK6W,iBACLwN,EAAc7d,SAASoC,IACnBA,EAAOsP,UAAW,CAAK,IAE3BlY,KAAK8W,cACT,CACA,IAAe5W,GACX,MAAM,WAAEwd,GAAe1d,KACJ,OAAf0d,GAAuBA,IAAexd,IACtCwd,EAAWpF,QAAS,EACpBoF,EAAW9G,UAAY,GAEd,OAAT1W,IACeF,MAAK,GACbuY,YAAcrY,EACrBA,EAAKoY,QAAS,EACdpY,EAAK0W,SAAW,EAExB,CACA,IAAmB1W,GACf,MAAM,eAAEkkB,GAAmBpkB,KACJ,OAAnBokB,GAA2BA,IAAmBlkB,IAC9CkkB,EAAeK,YAAa,GAEnB,OAATvkB,GACAF,KAAKykB,YAAa,EAClBvkB,EAAKukB,YAAa,GAGlBzkB,KAAKykB,YAAa,CAE1B,CACArG,YACI,MAAMC,EAASre,MAAK,IACd,KAAE8Y,GAASuF,EAEjB,OADAA,EAAO9F,YAAcO,EACduF,EAAOvO,YAClB,CACA,MACI,MAAMuO,EAASre,MAAK,IACd,KAAE8Y,GAASuF,EAEjB,OADAA,EAAO9F,YAAcO,EACduF,EAAO3F,WAClB,CACA,IAAcxY,GACV,MAAMme,EAASre,MAAK,GACpBqe,EAAO9F,YAAcrY,EACrB,MAAM8f,EAAkB3B,EAAO2B,kBAC/B,OAAOA,EACHhgB,MAAK,GAAaggB,GAClB3B,EAAOhX,YACf,CACA,IAAUnH,GACN,MAAMme,EAASre,MAAK,GACpBqe,EAAO9F,YAAcrY,EACrB,MAAM,KAAE0F,EAAI,SAAE6V,GAAavb,EAC3B,MAAiB,SAAT0F,GAEJ6V,EADA4C,EAAOzF,WAGHyF,EAAO4B,gBACF5B,EAAOhX,aAAcgX,EAAO4B,cAC7C,CACA,IAAa/f,GACT,GAAIA,EAAKub,SAAU,CACf,MACMiJ,EADS1kB,MAAK,GACI0Y,YACxB,GAAIgM,EACA,OAAO1kB,MAAK,GAAa0kB,EAEjC,CACA,OAAOxkB,CACX,CACA,GAAkB8F,GACd,MAAM,OAAE3B,EAAM,SAAEiV,EAAQ,QAAED,GAAYrT,EAChCsY,EAAaja,EAAOwW,QAAQ,cAClC,GAAIyD,IACKhF,IAAaD,EAAS,CACvBrZ,MAAK,GAAcse,GACnB,MAAM,KAAE1Y,GAAS0Y,EACL,UAAR1Y,GACA0Y,EAAW/C,QAEnB,CAEJvV,EAAM+T,iBACV,CACA,GAAwB/T,GACpBA,EAAM+T,iBACV,CACA,GAAqB/T,GACjBA,EAAM+T,iBACV,CACA,MACI/Z,MAAK,GAAmB,KAC5B,CACA,IAAsBgG,GAClB,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,cAClC,GAAIyD,EAAY,CACZ,MAAM,KAAE1Y,GAAS0Y,EACL,UAAR1Y,GACA0Y,EAAW/C,QAAO,GAEtBvb,MAAK,GAAmBse,EAC5B,CACAtY,EAAMoU,gBACV,CACA,IAAqBpU,GACjBA,EAAMoU,gBACV,CACA,IAAsBpU,GAClB,MAAM,cAAE4U,GAAkB5U,EAC1B,GAAI4U,aAAyBsF,UACNtF,EAAcC,QAAQ,cACxB,CACb,IAAI1G,EAAWyG,EACf,OAASzG,aAAoB6P,IAAwB7P,aAAoBwQ,WACrExQ,EAAWA,EAASC,cAChBD,aAAoByQ,aACpBzQ,EAAWA,EAAS0Q,MAGxB1Q,aAAoBwQ,UACpB3kB,MAAK,GAAmB,KAEhC,CAER,CACA,MACIA,MAAK,GAAmB,KAC5B,CACA,GAAoBgG,GAChB,MAAM,IAAE3D,GAAQ2D,GACV,WAAE0X,GAAe1d,KACvB,OAAQqC,GACJ,IAAK,IAAK,CACN,MAAM,QAAEgX,GAAYrT,EACpB,GAAIqT,GACIqE,EAAY,CACZ,MAAMW,EAASre,MAAK,GACpBqe,EAAO9F,YAAcmF,EACrB,MAAMU,GAAaC,EAAO9F,YAAc8F,EAAOhX,cAAgBrH,KAAMqe,EAAOvO,cACtE4U,GAAYrG,EAAO9F,YAAc8F,EAAOhX,cAAgBrH,KAAMqe,EAAO3F,aAC3E,GAAI0F,GAAasG,EAAU,CACvB,MAAMnV,EAAQvP,MAAK,GAAeoe,EAAWpe,MAAK,GAAa0kB,IAC3DnV,GACAvP,MAAK,MAAiBuP,EAE9B,CACJ,CAEJvJ,EAAMoU,iBACN,KACJ,CACA,IAAK,YACD,GAAIsD,EACA,GAAIA,EAAWjC,SACXiC,EAAWnC,aAEV,CACD,MACMiE,EADSxf,MAAK,GACMqH,aACtBmY,GACAA,EAAWlF,MAAM,CAAEC,eAAe,GAE1C,CAEJvU,EAAM+T,kBACN,MAEJ,IAAK,aACG2D,IACKA,EAAWjC,UACZiC,EAAWnC,UAGnBvV,EAAM+T,kBACN,MAEJ,IAAK,UACD,GAAI2D,EAAY,CACZ,MAAMoH,EAAe9kB,MAAK,GAAc0d,GACxC,GAAIoH,EAAc,CACdA,EAAaxK,MAAM,CAAEC,eAAe,IACpC,MAAM,SAAEjB,GAAatT,EACjBsT,IACAwL,EAAa5M,SACTlY,MAAK,GAAqB8kB,GAC1B9kB,MAAK,GAAgB8kB,GAEjC,CACJ,KACK,CACD,MAAM1G,EAAYpe,KAAKoe,YACnBA,GACAA,EAAU9D,MAAM,CAAEC,eAAe,GAEzC,CACAvU,EAAM+T,kBACN,MAEJ,IAAK,YACD,GAAI2D,EAAY,CACZ,MAAMqH,EAAW/kB,MAAK,GAAU0d,GAChC,GAAIqH,EAAU,CACVA,EAASzK,MAAM,CAAEC,eAAe,IAChC,MAAM,SAAEjB,GAAatT,EACjBsT,IACAyL,EAAS7M,SACLlY,MAAK,GAAqB+kB,GAC1B/kB,MAAK,GAAgB+kB,GAEjC,CACJ,KACK,CACD,MAAML,EAAW1kB,MAAK,KAClB0kB,GACAA,EAASpK,MAAM,CAAEC,eAAe,GAExC,CACAvU,EAAM+T,kBACN,MAEJ,IAAK,OAAQ,CACT,MAAMqE,EAAYpe,KAAKoe,YACnBA,GACAA,EAAU9D,MAAM,CAAEC,eAAe,IAErCvU,EAAM+T,kBACN,KACJ,CACA,IAAK,MAAO,CACR,MAAM2K,EAAW1kB,MAAK,KAClB0kB,GACAA,EAASpK,MAAM,CAAEC,eAAe,IAEpCvU,EAAM+T,kBACN,KACJ,CACA,IAAK,QACG2D,IACA1d,MAAK,GAAc0d,GACnBA,EAAW/C,SAEf3U,EAAM+T,kBACN,MAEJ,IAAK,SACD/Z,MAAK,KACLA,MAAK,GAAe,MACpBA,KAAKsa,QACLtU,EAAM+T,kBAIlB,CACA,GAAkB/T,GACd,MAAM,cAAE4U,GAAkB5U,GACpB,WAAE0X,GAAe1d,KAClBA,KAAKme,SAASvD,KACd8C,GAAc1d,KAAKoe,cAAc9D,OAE1C,CACA,GAAoBtU,GAChB,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,cAC9ByD,IACAte,MAAK,GAAese,GACpBte,KAAK4W,UAAY,EAEzB,CACA,IAAqB5Q,GACjB,MAAM,cAAE4U,GAAkB5U,GACDhG,KAAKme,SAASvD,KAEnC5a,KAAK4W,SAAW,EAExB,CACA,IAAsB5Q,GAClB,MAAM,OAAE3B,EAAM,QAAEgV,EAAO,SAAEC,EAAQ,OAAEyD,GAAW/W,EAC9C,GAAI3B,aAAkB2f,GAAsB,CACxC,MAAM,SAAE9L,GAAa7T,EACrB,OAAQ0Y,GACJ,KAAK,EAEG,GAAKzD,GAAaD,GAAYnB,GAGzB,GAAImB,EACDnB,GACA7T,EAAOwa,OAET3G,EAEElY,MAAK,GAAqBqE,GAD1BrE,MAAK,GAAgBqE,GAEzB2B,EAAM+T,uBAEL,GAAIT,EAAU,CACf,MAAM,WAAEoE,GAAe1d,KACvB,GAAI0d,EAAY,CACZ,MAAMnO,EAAQvP,MAAK,GAAe0d,EAAYrZ,GAC1CkL,GACAvP,MAAK,MAAiBuP,EAE9B,CACAvJ,EAAM+T,iBACV,OApBI/Z,MAAK,GAAcqE,GAsB3B,MACJ,KAAK,EACI6T,GACDlY,MAAK,GAAcqE,GAKnC,CACJ,CACA,KACQrE,MAAK,EACLA,MAAK,GAAuB,EAG5BA,KAAKkH,cAAc,IAAI8M,MAAM,kBAAmB,CAAEmB,SAAS,IAEnE,GAEJ,GAAW,CACPlK,EAAkB,CAAErF,KAAM+F,WAC3BwY,GAAqBjhB,UAAW,kBAAc,GACjD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3BiZ,GAAqBjhB,UAAW,YAAQ,GAC3CihB,GAAuB,GAAW,CAC9B/X,EAAc,CACVf,KAAM,YAEX8Y,IACH,ICxfI,GAA0C,SAAU3S,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAWA,MAAM2hB,WAAkBtc,EACpBnD,MACA0f,WACAC,aACAngB,YAAYC,GACRoC,QACA,MAAM,MAAE7B,EAAQ,GAAE,aAAE2f,GAAiBlgB,GAAQ,CAAC,EAC9CO,EAAMiB,SAAQ,CAACoC,EAAQjJ,IAAMiJ,EAAOnD,MAAQ9F,IAC5C,MAAMslB,EAAa,IAAItc,EAAUpD,GACjC0f,EAAW3d,UAAUtH,MACrBA,KAAKilB,WAAaA,EAClBjlB,KAAKuF,MAAQ,IAAIoD,EAAU3I,KAAKmlB,gBAChCnlB,KAAKklB,aAAeA,GAChB,SAAUE,EAAQC,GACd,OAAOD,EAAO1lB,GAAG4hB,cAAc+D,EAAO3lB,GAC1C,EACJM,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,MAC3E,CACA,GAAwBgG,GACpB,MAAM,OAAE3B,GAAW2B,GACb,MAAET,EAAK,aAAE2f,EAAY,aAAEC,GAAiBnlB,KAC1CqE,aAAkBsE,IACFtE,EAAOuD,aACfpB,SAASoE,IACb,MAAM,cAAE/F,EAAa,aAAEF,GAAiBiG,EAClC0a,EAAyB9Z,MAAMqC,KAAKhJ,EAAca,UAAU6f,SAAQC,GAAkBha,MAAMia,GAAGD,KAAmBL,EAAa/hB,KAAKoiB,MACpIE,EAAwBla,MAAMqC,KAAKlJ,EAAae,UAAU6f,SAAQ3b,GAAiB4B,MAAMia,GAAG7b,KAAkBub,EAAa/hB,KAAKwG,MACtIrE,EAAMmC,eACNnC,EAAM+D,UAAUgc,GAChBI,EAAsBlf,SAASoD,GAAkBrE,EAAMmE,OAAOE,KAC1Dsb,GACA3f,EAAMuD,KAAKoc,GACf3f,EAAMoC,YAAY,IAEtB6D,MAAMqC,KAAKxJ,EAAOqB,UAAUc,SAAQ,CAACoC,EAAQjJ,KACzCiJ,EAAOnD,MAAQ9F,CAAC,IAG5B,CACAwlB,eACI,MAAM,WAAEF,GAAejlB,KACvB,OAAOwL,MAAMqC,KAAKoX,EAAWvf,UAAU6f,SAAQI,GAAcna,MAAMia,GAAGE,KAAeA,EAAWR,iBACpG,CACAS,aAAaC,GACT,MAAM,WAAEZ,GAAejlB,MACfM,OAAQwlB,GAAeb,GACvB3kB,OAAQylB,GAAcF,EAC9B,IAAK,IAAIlmB,EAAI,EAAGA,EAAImmB,EAAYnmB,IAAK,CACjC,MAAMiJ,EAASqc,EAAWviB,IAAI/C,IACtBkmB,IAAKG,GAAYpd,GACjBtI,OAAQ2lB,GAAkBD,EAClC,GAAIH,EAAIK,WAAWF,GACf,OAAIC,IAAkBF,EACXnd,EAEJoc,GAAU9hB,UAAU0iB,aAAaxiB,KAAKwF,EAAQid,EAE7D,CACA,OAAO,IACX,EAEJ,MAAMM,GACF5gB,MACAR,YAAYQ,GACRvF,KAAKuF,MAAQA,CACjB,CACIme,YACA,OAAO1jB,KAAKuF,MAAMjF,MACtB,CACAoJ,SACI,MAAM,MAAEnE,GAAUvF,KACZomB,EAAqB7gB,EAAM6d,QAAO,CAACnjB,EAAK2I,KAC1C,MAAM,WAAEvB,GAAeuB,EACvB,GAAIvB,aAAsBgf,IAAiBhf,aAAsB2d,GAAW,CACxE,MAAM,WAAEC,GAAe5d,EACjBif,EAAQrmB,EAAIyC,IAAIuiB,GAClBqB,EACAA,EAAM9mB,KAAKoJ,GAEX3I,EAAI2G,IAAIqe,EAAY,CAACrc,GAC7B,CACA,OAAO3I,CAAG,GACX,IAAIoG,KACPmF,MAAMqC,KAAKuY,EAAmB5Y,WAAWhH,SAAQ,EAAE+f,EAAQC,MACvDD,EAAO7e,eACP8e,EAAWhgB,SAASigB,IAChBF,EAAO7c,OAAO+c,EAAQ,IAE1BF,EAAO5e,YAAY,GAE3B,EAEJ,MAAM0e,WAAsB3d,EACxBuc,WACAvlB,GACAkG,KACAH,MACIihB,YACA,MAAM,WAAErf,GAAerH,KACvB,OAAIqH,aAAsBgf,GACfhf,EAAWqf,MAAQ,EAGnB,CAEf,CACIb,UACA,MAAM,WAAExe,EAAU,GAAE3H,GAAOM,KAC3B,OAAIqH,aAAsBgf,GACf,GAAGhf,EAAWwe,MAAMnmB,KAExB,GAAGA,IACd,CACI8f,iBACA,MAAM,WAAEnY,GAAerH,KACvB,OAAIqH,aAAsBgf,GACfhf,EAEJ,IACX,CACAtC,YAAYC,GACRoC,QACA,MAAM,GAAE1H,EAAE,KAAEkG,EAAI,MAAEL,EAAQ,IAAOP,EACjCO,EAAMiB,SAAQ,CAACoC,EAAQjJ,IAAMiJ,EAAOnD,MAAQ9F,IAC5C,MAAMslB,EAAa,IAAItc,EAAUpD,GACjC0f,EAAW3d,UAAUtH,MACrBA,KAAKN,GAAKA,EACVM,KAAKilB,WAAaA,EAClBjlB,KAAK4F,KAAOA,EACZ5F,KAAKyF,OAAS,CAClB,CACA0f,eACI,MAAM,WAAEF,GAAejlB,KACvB,OAAOwL,MAAMqC,KAAKoX,EAAWvf,UAAU6f,SAAQI,GAAcna,MAAMia,GAAGE,KAAeA,EAAWR,iBACpG,CACAzb,SACI,MAAM,WAAErC,GAAerH,KACvB,GAAIqH,aAAsBgf,IAAiBhf,aAAsB2d,GAAW,CACxE,MAAM,WAAEC,GAAe5d,EACnB4d,GACAA,EAAWvb,OAAO1J,KAE1B,CACJ,EAEJ,GAAW,CACPqI,KACDge,GAAcnjB,UAAW,UAAM,GAClC,GAAW,CACPmF,KACDge,GAAcnjB,UAAW,YAAQ,GACpC,GAAW,CACPmF,KACDge,GAAcnjB,UAAW,aAAS,GAErC,IAAIyjB,GAAe,cAA2BrV,EAC1C,WA0BA,CACAvM,YAAYqJ,GACRhH,QACApH,MAAK,GAAc,IAAI8J,QACvB,MAAM8C,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QA9BF,guBA+BhB0I,EAAW0G,mBAAqB,CAACD,EAAmBL,GACpDhT,KAAKgR,SAAS5C,GAAS,IAAI4W,GAC/B,CACA9P,yBAAyB7J,EAAM7G,EAAUC,GACrC,OAAQ4G,GACJ,IAAK,YAAa,CACd,MAAM,YAAEub,GAAgB5mB,KACpB4mB,GACApb,MAAMqC,KAAK+Y,EAAYrhB,OAAOiB,SAAQoC,GAAUA,EAAOie,UAAyB,OAAbpiB,IAEvE,KACJ,EAER,CACImiB,kBACA,OAAO5mB,KAAK4M,WAAWC,cAAc,SACzC,CACAia,gBAAgB5mB,GACZ,OAAOF,KAAK4M,WAAWC,cAAc,kBAAkB3M,EAAK2lB,OAChE,CACA,IAAuB3lB,GACnB,IAAI2lB,EAAM,GACNkB,EAAc7mB,EAClB,KAAuB,OAAhB6mB,GAAsB,CACzB,MAAM,QAAE5Z,EAAO,cAAE6Z,GAAkBD,EACnClB,EAAM,GAAG1Y,EAAQzN,MAAQmmB,EACzBkB,EAAcC,GAAenM,QAAQ,eAAiB,IAC1D,CACA,OAAOgL,CACX,CACAoB,SAAS3Z,GACL,OAAOtN,KAAKoO,MAAMwX,aAAa5lB,MAAK,GAAuBsN,GAC/D,CACA4D,eACI,MAAM,MAAE9C,GAAUpO,KAelB,OAAO8M,EAda,EAAQ,SAAU,CAClCI,WAAY,CACR2P,SAAU,GAEdzP,SAAUuD,EAAsBvC,EAAM6W,YAAY/kB,GAAQF,MAAK,GAAgBE,KAC/EmN,UAAW,CACP6Z,UAAWlnB,MAAK,GAAsBoK,KAAKpK,MAC3CmnB,KAAMnnB,MAAK,GAAiBoK,KAAKpK,MACjCoiB,YAAapiB,MAAK,EAAwBoK,KAAKpK,MAC/Csa,MAAOta,MAAK,EAAkBoK,KAAKpK,MACnConB,QAASpnB,MAAK,EAAoBoK,KAAKpK,MACvCqnB,SAAUrnB,MAAK,GAAqBoK,KAAKpK,SAGpB,EAAQ,MAAO,CACxCkN,WAAY,CACR2V,MAAO,YACP3L,QAAQ,GAEZ9J,SAAUuD,EAAsBvC,EAAM7I,OAAOrF,GAAQF,MAAK,GAAyBE,OAE3F,CACAonB,oBAAoBpnB,GAChB,OAAOmO,EAAgBnO,EAAM,EAAQ,QAAS,CAAC,SAAS,CAACwc,EAAO7U,EAAUrD,EAAUC,KAChFiY,EAAMqH,YAActf,CAAQ,GAEpC,CACA8iB,oBAAoBrnB,GAChB,OAAO,IACX,CACAsnB,mBACI,OAAO,IACX,CACAnD,gBACI,MAAM,YAAEuC,GAAgB5mB,KACxB,OAAI4mB,EACyBA,EAAYvC,gBACbpkB,KAAI2I,GAAU5I,KAAKinB,SAASre,KAEjD,EACX,CACA8U,aACI,MAAM,YAAEkJ,GAAgB5mB,KACxB,GAAI4mB,EAAa,CACb,MAAM,WAAElJ,GAAekJ,EACvB,OAAOlJ,EACH1d,KAAKinB,SAASvJ,GACd,IACR,CACA,OAAO,IACX,CACA,IAActP,GACV,OAAOpO,MAAK,GAAY0C,IAAI0L,IAAQQ,SAAW,IACnD,CACA,IAAgB1O,GACZ,MAAM,UAAE2mB,GAAc7mB,MAChB,MAAEyF,EAAK,MAAEihB,EAAK,GAAEhnB,GAAOQ,EACvBunB,EAAUznB,KAAKunB,oBAAoBrnB,GACnCC,EAAUH,KAAKsnB,oBAAoBpnB,GACnC4mB,EAAkBzY,EAAgBnO,EAAM,EAAQ,aAAc,CAChEgN,WAAY,CACR2Z,UAAW3b,OAAO2b,GAClBlR,SAAUlQ,EACVihB,MAAOA,GAEXvZ,QAAS,CACLzN,GAAIA,GAER0N,SAAU,IACFjN,EAAU,CAACA,GAAW,MACtBsnB,EAAU,CAACA,GAAW,MAE9B,CAAC,QAAS,KAAM,SAAS,CAACC,EAAUnjB,EAAcC,EAAUC,KAC5D,OAAQF,GACJ,IAAK,QACDmjB,EAAS/R,SAAWlR,EACpB,MAEJ,IAAK,KAAM,CACP,MAAM,QAAE0I,GAAYua,EACpBva,EAAQzN,GAAK+E,EACb,KACJ,CACA,IAAK,OAED,OADAijB,EAAS9hB,KAAOnB,EACRA,GACJ,IAAK,SACDijB,EAASpe,OAAO,EAAQ,kBAAmB,CACvC4D,WAAY,CACR0P,KAAM,SAEVxP,SAAUuD,EAAsBzQ,EAAK+kB,YAAY/kB,GAAQF,MAAK,GAAgBE,QAElF,MAEJ,IAAK,OAAQ,CACT,MAAM,MAAEomB,GAAUoB,EACdpB,GACAA,EAAM5c,SAEV,KACJ,GAIZ,IAEJ,OAAOod,CACX,CACA,IAAyB5mB,GACrB,MAAMynB,EAAmBtZ,EAAgBnO,EAAM,EAAQ,OAAQ,CAC3DgN,WAAY,CACR2V,MAAO,eAEX,CAAC,SAAS,CAAC+E,EAAM/f,EAAUrD,EAAUC,KACrCmjB,EAAK7D,YAActf,CAAQ,IAG/B,OADAzE,MAAK,GAAY4G,IAAI1G,EAAM,IAAI2O,QAAQ8Y,IAChCA,CACX,CACA,IAAsB3hB,GAClB,MAAM,cAAEH,EAAa,OAAExB,GAAW2B,EAC5B6hB,EAAahiB,EACbyY,EAAaja,EAAOwW,QAAQ,eAC5B,MAAEzM,GAAUpO,KAClB,GAAIse,EAAY,CACZ,MAAM,aAAEwJ,GAAiB9hB,EACnB+hB,EAAmBF,EAAWxD,iBAC5B/jB,OAAQ0nB,GAAkBD,EAClC,GAAIC,EAAgB,EAAG,CACnB,MAAMC,EAAeF,EAChB9nB,KAAIwV,GAAazV,MAAK,GAAuByV,KAC7C9K,QAAO,CAACud,EAAOC,EAAGC,KAAUA,EAAK9F,MAAK+F,GAASH,EAAMhC,WAAW,GAAGmC,UAClEC,EAAqBL,EAAa1nB,KAAK,MACvCgoB,EAAUN,EAAaA,EAAa3nB,OAAS,GAC7CokB,EAAWtW,EAAMwX,aAAa2C,GACpC,GAAI7D,GAAYoD,EAAc,CAC1BA,EAAaU,WAAa,OAC1BV,EAAaW,QAAQ,aAAcH,GACnC,MAAMI,EAAY1oB,MAAK,GAAc0kB,GACjCgE,GACAZ,EAAaa,aAAaD,GAAY,GAAI,EAElD,CACJ,CACJ,CACJ,CACA,IAAiB1iB,GACb,MAAM,cAAEH,EAAa,OAAExB,GAAW2B,EAC5B6hB,EAAahiB,EACbyY,EAAaja,EAAOwW,QAAQ,eAC5B,MAAEzM,GAAUpO,MACZ,aAAEklB,GAAiB9W,EACzB,GAAIkQ,EAAY,CACZ,MAAM,aAAEwJ,GAAiB9hB,EACzB,GAAI8hB,EAAc,CACd,MAAMc,EAAY5oB,MAAK,GAAuBse,GACxCuK,EAAkBza,EAAMwX,aAAagD,GACrCE,EAAiBhB,EAAaiB,QAAQ,cAAcC,MAAM,MAEhE,IADuBF,EAAexG,MAAK4F,GAASU,EAAU1C,WAAW,GAAGgC,OAAaA,IAAUU,IAC9E,CACjB,MAAMK,EAAmBH,EAAe7oB,KAAIioB,GAAS9Z,EAAMwX,aAAasC,KAAQvd,QAAO/B,GAAqB,OAAXA,KACzFhD,KAAMsjB,EAAY1J,WAAY2J,GAAqBN,GACnD5D,WAAYmE,GAA8B,WAAfF,EAA0BL,EACzDM,GAAsC/a,EACtB5C,MAAMqC,KAAKub,EAAW1jB,UAC9Bc,SAASoC,IACjB,MAAMygB,EAAiBJ,EAAgBliB,WAAUuiB,GAAUA,EAAO5pB,KAAOkJ,EAAOlJ,KAC5E2pB,GAAkB,IACAE,QAAQ,WAAW3gB,EAAOlJ,OAExC0pB,EAAW1f,OAAOd,IAGlBqgB,EAAgBO,WAAWH,EAAgBA,EAAiB,GAC5DJ,EAAgB3oB,UAExB,IAE6B,IAAI6lB,GAAkB8C,GAC9Bvf,SACrBwb,GACAkE,EAAW1hB,eACX0hB,EAAW9f,UAAU2f,GACrBG,EAAWtgB,KAAKoc,GAChBkE,EAAWzhB,cAGXyhB,EAAW7f,OAAO+U,EAAW3I,YAAasT,GAE9C,MAAMQ,EAAc5B,EAAWtS,iBAAiB,iBAAiB0T,EAAgBhpB,KAAI2I,GAAU,cAAcA,EAAOid,UAAStlB,KAAK,SAClIsnB,EAAWhR,iBACX4S,EAAYjjB,SAAQiP,GAAaA,EAAUyC,UAAW,IACtD2P,EAAW/Q,cACf,CACJ,CACJ,CACJ,CACA,GAAwB9Q,GACpB,MAAM,QAAE0Z,EAAO,QAAEC,EAAO,cAAE9Z,EAAa,OAAExB,GAAW2B,EAC9C6hB,EAAahiB,EACbyY,EAAaja,EAAOwW,QAAQ,cAClC,GAAIyD,EAAY,CACZ,MAAM2E,EAAcjjB,KAAKwnB,mBACL,OAAhBvE,IACAA,EAAYvE,YAAa,EACzBuE,EAAYvc,iBAAiB,SAAS,KAClC4X,EAAWhE,MAAM,CAAEC,eAAe,GAAO,IAE7CsN,EAAWve,OAAO2Z,GAClBA,EAAYrF,mBAAmB8B,EAASC,GACxCsD,EAAY3I,MAAM,CAAEC,eAAe,IAE3C,CACAvU,EAAMoU,gBACV,CACA,GAAkBpU,GACd,MAAM,cAAEH,EAAa,cAAE+U,GAAkB5U,EACnC6hB,EAAahiB,EACnB,GAAsB,OAAlB+U,IAA2B5a,KAAKme,SAASvD,GAAgB,CACzD,MAAM8O,EAAkB9O,EAAcjD,wBAAwB3X,MAC9D,KAAM0pB,EAAkB9R,KAAK+R,iCAAoCD,EAAkB9R,KAAKG,4BAA8B,CAClH,MAAM,WAAE2F,GAAemK,EACvB,GAAInK,EAAY,CACZ,MAAMkM,EAAclM,EAAW7Q,cAAc,aACzC+c,IACA5jB,EAAMoU,iBACNwP,EAAYtP,QAEpB,CACJ,CACJ,CACJ,CACA,GAAoBtU,GAChB,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,cAClC,GAAIyD,EAAY,CACZ,MAAMsL,EAActL,EAAWzR,cAAc,aACzC+c,IACAA,EAAYhT,SAAWgT,EAAYzL,SAAS9Z,IAAW,EAAI,EAEnE,CACJ,CACA,IAAqB2B,GACjB,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,cAClC,GAAIyD,EAAY,CACZ,MAAMsL,EAActL,EAAWzR,cAAc,aACzC+c,IACAA,EAAYhT,SAAWgT,EAAYzL,SAAS9Z,GAAU,GAAK,EAEnE,CACJ,GAEJ,GAAW,CACP4G,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9Cub,GAAazjB,UAAW,iBAAa,GACxCyjB,GAAe,GAAW,CACtBva,EAAc,CACVf,KAAM,gBAEXsb,IACH,IAAIkD,GAAWlD,G,uUC1ef,MAAMmD,WAAwBzD,GAG1B0D,WAGAC,WAEAjlB,YAAYC,GACRoC,MAAMpC,GACNhF,KAAK+pB,WAAa/pB,KAAKilB,WAAW3kB,OAClCN,KAAKgqB,YAAa,EAClBhqB,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,MAC3E,CAEAiqB,OACIjqB,KAAKgqB,YAAa,CACtB,CAEAE,OACIlqB,KAAKgqB,YAAa,CACtB,CAEAG,UACIvG,QAAQC,IAAI7jB,KAAKN,GACrB,CAEA,GAAwBsG,GACpB,MAAM,OAAC3B,GAAU2B,GACX,WAACif,GAAcjlB,KACjBqE,GAAU4gB,IACVjlB,KAAK+pB,WAAa9E,EAAW3kB,OAErC,EA9BA,IADC+H,K,kCAID,IADCA,K,kCA+BL,MAAM+hB,WAA4BjE,GAG9BphB,YAAYQ,GACR6B,MAAM7B,EACV,CAEIme,YACA,OAAO1jB,KAAKuF,MAAMjF,MACtB,CAEA2pB,OACIjqB,KAAKuF,MAAMiB,SAAQoC,GAAUA,EAAOqhB,QACxC,CAEAC,OACIlqB,KAAKuF,MAAMiB,SAAQoC,GAAUA,EAAOshB,QACxC,CAEAC,UACI,MAAME,EAASrqB,KAAKuF,MAAMtF,KAAI2I,GAAUA,EAAOlJ,KAAIa,KAAK,KACxDqjB,QAAQC,IAAIwG,EAChB,EAMJ,IAAMC,GAAN,cAAyBT,GAEZ1Y,SACL/J,MAAM+J,SACN,MAAM,WAACvE,EAAU,YAAEga,GAAe5mB,KAClC4M,EAAWxD,QACP,EAAQ,OAAQ,CACZ8D,WAAY,CACRqd,IAAK,aACLC,KAAM,4BAIlB5D,EAAalgB,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,MAC3E,CAESsnB,oBAAoBpnB,GACzB,OAAO4M,EACHuB,EACInO,EACA,EAAQ,OAAQ,CACZgN,WAAY,CACR2V,MAAO,WAGf,CAAC,OACD,CAACnG,EAAO7U,EAAUrD,EAAUC,KACxBiY,EAAMqH,YAActf,CAAQ,IAGpC4J,EACInO,EACA,EAAQ,OAAQ,CACZgN,WAAY,CACR2V,MAAO,WAGf,CAAC,aAAc,SACf,CAAC4H,EAAO5iB,EAAUrD,EAAUC,KACxB,OAAQoD,GACJ,IAAK,OACgB,SAAbpD,GACAgmB,EAAM1G,YAAc,KACpB0G,EAAMvT,QAAS,IAGfuT,EAAM1G,YAAc,IAAI7jB,EAAK6pB,cAC7BU,EAAMvT,QAAS,GAEnB,MAEJ,IAAK,aACDuT,EAAM1G,YAAc,IAAItf,K,IAOhD,CAES8iB,oBAAsCrnB,GAC3C,OAAOmO,EACHnO,EACA,EAAQ,YAAa,CACjBkN,SAAU,CACN,EAAQ,gBAAiB,CACrBF,WAAY,CACR7B,KAAM,OACNzF,KAAM,UAEVwH,SAAU,CACN,EAAQ,WAAY,CAChBF,WAAY,CACR0P,KAAM,UAEVxP,SAAU,CAAC,SAAU,QAAQnN,KACzB2F,GAAQ,EAAQ,WAAY,CACxBsH,WAAY,CACRwP,MAAO9W,EACPpC,MAAOoC,OAInByH,UAAW,CACPsN,MAAQ3U,IACJ,MAAM,cAACH,GAAiBG,EAClB0kB,EAA6B7kB,GAC7B,eAAC8kB,GAAkBD,EACzB,GAAIC,EAAgB,CAChB,MAAM,MAACnnB,GAASmnB,EAChBzqB,EAAK0F,KAA0BpC,C,SAOvD,EAAQ,gBAAiB,CACrB0J,WAAY,CACR7B,KAAM,OACNzF,KAAM,SACN8W,MAAO,OACPkO,QAAQ,GAEZvd,UAAW,CACPsN,MAAO,KACH3a,KAAK6qB,mBAAmB3qB,EAAK,KAIzC,EAAQ,gBAAiB,CACrBgN,WAAY,CACR7B,KAAM,aACNzF,KAAM,WACN8W,MAAO,aACPkO,QAAQ,GAEZvd,UAAW,CACPsN,MAAQ3U,IACJ9F,EAAK8pB,WACD9pB,EAAKgqB,OACLhqB,EAAK+pB,OACTjkB,EAAM+T,iBAAiB,QAM3C,CAAC,aAAc,SACf,CAAC0N,EAAS5f,EAAUrD,EAAUC,KAC1B,OAAQoD,GACJ,IAAK,aAAc,CACf,MAAMijB,EAAiBrD,EAClB5a,cAAuC,kCAC5C,GAAIie,EAAgB,CAChB,MAAMpO,EAAQjY,EAAW,OAAS,OAClCqmB,EAAepO,MAAQA,EACvBoO,EAAehO,MAAQJ,EACvBoO,EAAeC,QAAUtmB,C,CAE7B,K,CAEJ,IAAK,OAAQ,CACT,MAAMumB,EAAavD,EACd5a,cAAkC,qCACnCme,IACAA,EACKne,cAAkC,mBAAmBpI,OACrDyT,UAAW,GAEpB,K,KAKpB,CAESsP,mBACL5D,QAAQC,IAAI,QACZ,MAAM,YAAC+C,GAAe5mB,MACf0d,WAAYuN,GAAqBrE,EAClCvC,EAAmCrkB,KAAKqkB,gBACxC3G,EAA8B1d,KAAK0d,aACzC,OAAO,EAAQ,SAAU,CACrBxQ,WAAY,CACRwR,YAAY,GAEhBtR,SAAU,CACN,EAAQ,kBAAmB,CACvBA,SAAU,CACN,EAAQ,aAAc,CAClBF,WAAY,CACRtH,KAAM,SACN8W,MAAO,QAEXtP,SAAU,OACVC,UAAW,CACPsN,MAAsB,WAEd0J,EAAc7d,SAAS0kB,IACnBlrB,KAAK6qB,mBAAmBK,EAAW,GAE1C,EACH9gB,KAAKpK,SAGf,EAAQ,aAAc,CAClBkN,WAAY,CACRtH,KAAM,WACN8W,MAAOgB,EAAWsM,WAAa,OAAS,QAE5C5c,SAAUsQ,EAAWsM,WAAa,OAAS,OAC3C3c,UAAW,CACPsN,MAAO,KACH,MAAMwQ,EAAoB9G,EAAcxZ,SAAS6S,GAC7C,IAAI0M,GAAoB/F,GAAiB,IAAI+F,GAAoB,CAAC1M,IACtEA,EAAWsM,WACPmB,EAAkBjB,OAClBiB,EAAkBlB,OACtBgB,EAAmB3Q,OAAO,QAM9C,EAAQ,eACR,EAAQ,kBAAmB,CACvBlN,SAAU,CACN,EAAQ,aAAc,CAClBF,WAAY,CACRwP,MAAO,UAEXtP,SAAU,SACVC,UAAW,CACPsN,MAAO,KACH,MAAMwQ,EAAoB9G,EAAcxZ,SAAS6S,GAC7C,IAAI0M,GAAoB/F,GAAiB,IAAI+F,GAAoB,CAAC1M,KAChE,MAACgG,GAASyH,EACC5B,QAAQ,UAAU7F,aAE/ByH,EAAkBzhB,SAEtBkd,EAAatM,OAAO,UAQpD,CAEA,GAAoBtU,GAChB,MAAM,cAACH,EAAa,IAAExD,GAAO2D,EACvB6hB,EAA+BhiB,GAC/B,WAAC6X,GAAcmK,EACrB,GAAInK,EAAY,CACZ,MAAM0N,EAAmCprB,KAAKinB,SAASvJ,GACvD,OAAQrb,GACJ,IAAK,SAAU,CACX,MAAMgiB,EAAgBrkB,KAAKqkB,gBACrB8G,EAAoB9G,EAAcxZ,SAASugB,GAC7C,IAAIjF,GAAkB9B,GAAiB,IAAI8B,GAAkB,CAACiF,KAC5D,MAAC1H,GAASyH,EACC5B,QAAQ,UAAU7F,aAE/ByH,EAAkBzhB,SAEtBme,EAAWvN,QACXtU,EAAMoU,iBACN,K,GAIhB,CAEAyQ,mBAAmB3qB,GACf,MAAM,WAAC0M,GAAc5M,MACf,WAACgqB,EAAU,GAAEtqB,EAAE,KAAEkG,GAAQ1F,EACzBmrB,EAAS,EAAQ,SAAU,CAC7Bje,SAAU,CACN,EAAQ,OAAQ,CACZF,WAAY,CACRoe,OAAQ,UAEZle,SAAU,CACN,EAAQ,YAAa,CACjBF,WAAY,CACR2P,SAAU,GAEdzP,SAAU,CACN,EAAQ,aAAc,CAClBF,WAAY,CACRtH,KAAM,OACN8W,MAAO,UAEXtP,SAAU,CACN,SACA,EAAQ,SAAU,CACdF,WAAY,CACR0P,KAAM,QAEVxP,SAAU,CACN,EAAQ,aAAc,CAClBF,WAAY,CACRtH,KAAM,YAEVwH,SAAU,eAEd,EAAQ,aAAc,CAClBF,WAAY,CACRtH,KAAM,YAEVwH,SAAU,eAEd,EAAQ,aAAc,CAClBF,WAAY,CACRtH,KAAM,WAEVwH,SAAU,CACN,YACA,EAAQ,SAAU,CACdF,WAAY,CACR0P,KAAM,QAEVxP,SAAU,CACN,EAAQ,aAAc,CAClBF,WAAY,CACRwP,MAAO,gBACPrR,KAAM,QACN7H,MAAO0H,OAAO,GACdtF,KAAM,SAEVwH,SAAU,kBAEd,EAAQ,aAAc,CAClBF,WAAY,CACRwP,MAAO,gBACPrR,KAAM,QACN7H,MAAO0H,OAAO,GACdtF,KAAM,SAEVwH,SAAU,kBAEd,EAAQ,aAAc,CAClBF,WAAY,CACRwP,MAAO,gBACPrR,KAAM,QACN7H,MAAO0H,OAAO,GACdtF,KAAM,SAEVwH,SAAU,iCAYtD,EAAQ,YAAa,CACjBF,WAAY,CACR2P,SAAU,GAEdzP,SAAU,CACN,EAAQ,QAAS,CACbF,WAAY,CACRgH,SAAU,cAEd9G,SAAU,kBAItB,EAAQ,aAAc,CAClBF,WAAY,CACRxN,GAAI,cAER0N,SAAU,CACN,EAAQ,WAAY,CAChBA,SAAU,CACN,EAAQ,SAAU,CACdA,SAAU,qBAEd,EAAQ,MAAO,CACXF,WAAY,CACR2V,MAAO,gBAEXzV,SAAU,CACN,EAAQ,QAAS,CACbF,WAAY,CACRqe,IAAK,cAETne,SAAU,eAEd,EAAQ,QAAS,CACbF,WAAY,CACRxN,GAAI,aACJkG,KAAM,WACNyF,KAAM,aACNkT,QAASyL,EACTnN,SAAU,EACV2O,WAAW,KAGnB,EAAQ,QAAS,CACbte,WAAY,CACRqe,IAAK,MAETne,SAAU,OAEd,EAAQ,QAAS,CACbF,WAAY,CACRxN,GAAI,KACJkG,KAAM,OACNyF,KAAM,KACN7H,MAAO9D,EACPmd,SAAU,KAGlB,EAAQ,QAAS,CACb3P,WAAY,CACRqe,IAAK,QAETne,SAAU,SAEd,EAAQ,SAAU,CACdF,WAAY,CACRxN,GAAI,OACJ2L,KAAM,OACNwR,SAAU,GAEdzP,SAAU,CAAC,SAAU,QAAQnN,KACzBwrB,GAAU,EAAQ,SAAU,CACxBve,WAAY,CACRwP,MAAO+O,EACPjoB,MAAOioB,EACPvT,SAAUtS,IAAS6lB,kBAW3D,EAAQ,SAAU,CACdve,WAAY,CACR2V,MAAO,iBAEXzV,SAAU,CACN,EAAQ,SAAU,CACdF,WAAY,CACRtH,KAAM,SACNpC,MAAO,WAEX4J,SAAU,YAEd,EAAQ,SAAU,CACdF,WAAY,CACR1J,MAAO,UAEX4J,SAAU,kBAOlCC,UAAW,CACPqe,MAAQ1lB,IACJ,MAAM,cAACH,GAAiBG,EAClB2lB,EAAkC9lB,EACxC,GAAiC,YAA7B8lB,EAAaC,YAA2B,CACxC,MAAMC,EAAOF,EAAa9e,cAAc,QAClCif,EAAW,IAAIC,SAASF,GAC9B3rB,EAAK8pB,WAAare,QAAQmgB,EAASppB,IAAI,eACvCxC,EAAK0F,KAA0BsF,OAAO4gB,EAASppB,IAAI,SACnDxC,EAAKR,GAAKwL,OAAO4gB,EAASppB,IAAI,M,CAElCipB,EAAajiB,QAAQ,KAIjCkD,EAAWtD,OAAO+hB,GAClBA,EAAOW,WACX,GAvdE1B,GAAU,IAHfle,EAAc,CACXf,KAAM,kBAEJif,I,2UCrEN,MAAM2B,WAAuBvK,GAEzBrW,KAGA6gB,IAGAC,MAEApnB,YAAYC,GAMRoC,MAAMpC,GACN,MAAM,KAACqG,EAAI,IAAE6gB,EAAG,MAAEC,GAASnnB,EAC3BhF,KAAKqL,KAAOA,EACZrL,KAAKksB,IAAMA,EACXlsB,KAAKmsB,MAAQA,CACjB,EAnBA,IADC9jB,K,4BAID,IADCA,K,2BAID,IADCA,K,6BAsBL,IAAM+jB,GAAN,cAAyB5I,GAErB,WAQA,CAEAze,cACIqC,QACApH,MAAK,GAAgB,KACrB,MAAM,WAAC4M,GAAc5M,KACfqT,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAZH,0GAaf0I,EAAW0G,mBAAqB,IACzB1G,EAAW0G,mBAAoBD,EAE1C,CAESnC,eACL,MAAMmb,EAAajlB,MAAM8J,eAczB,OAbAmb,EAAWC,aACP,EAAQ,MAAO,CACXlf,SAAU,EAAQ,QAAS,CACvBF,WAAY,CACRtH,KAAM,UAEVyH,UAAW,CACPkf,MAAsBvsB,MAAK,GAAwBoK,KAAKpK,WAIpEqsB,EAAWvc,YAERuc,CACX,CAEA1hB,OAAO6N,GACH,MAAMgU,EAAexsB,MAAK,GAC1B,OAAOoH,MAAMuD,OAAO6N,MACnBgU,GAAeA,EAAa7hB,OAAO6N,GACxC,CAEAiU,gBAAgB9hB,GACZ,MAAM,MAACyD,EAAK,YAAEwT,GAAe5hB,MACvB,KAAC8V,GAAQ1H,EACfpO,MAAK,GAAgB2K,EACrBa,MAAMqC,KAAKiI,EAAKpQ,UAAUc,SAAS4R,IAC/B,MAAMqK,EAAaziB,KAAKgiB,cAAc5J,GAClCqK,IACAA,EAAWvL,QAAUlX,KAAK2K,OAAOyN,G,IAGzCwJ,EAAY7K,gBAChB,CAEA,IAAwB/Q,GACpB,MAAM,OAAC3B,GAAU2B,EACjB,GAAI3B,aAAkBqoB,iBAAkB,CACpC,MAAM,MAAClpB,GAASa,EACF,KAAVb,EACAxD,KAAKysB,gBAAgB,CACjB9hB,OAAS6N,GAAyBA,EAAKnN,KAAKL,cAAcH,SAASrH,EAAMwH,iBAI7EhL,KAAKysB,gBAAgB,K,CAGjC,GAzEEL,GAAU,IAHfhgB,EAAc,CACXf,KAAM,kBAEJ+gB,ICpCN,IAUI,GACA,GACAO,GAZA,GAA0C,SAAUnb,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAQA,IAAIupB,GAA8B,cAA0C7b,oBAEpE,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,QAAS,EAAQ,OAAQ,CAC3D4D,WAAY,CACR7B,KAAM,YAEV,EAAQ,OAAQ,CAChB6B,WAAY,CACR7B,KAAM,iBAGdshB,GAAmB,EAAQ,OAAQ,CAC/Bzf,WAAY,CACR8N,KAAM,UAGd,GAAgB,2cAe4ClJ,sKAKEG,+oCAsClE,CACAlN,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,GACvD,CACA0B,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,CACpB,CACA1B,yBAAyB7J,EAAM7G,EAAUC,GACrC,OAAQ4G,GACJ,IAAK,QAED,MAEJ,IAAK,SAAU,CACX,MAAM,WAAEuB,GAAe5M,KACvB,GAAiB,OAAbyE,EACAmI,EAAWxD,QAAQujB,GAAiB1X,WAAU,QAE7C,CACD,MAAM4X,EAAW7sB,MAAK,KAClB6sB,GACAA,EAASnjB,QAEjB,CACA,KACJ,EAER,CACA,MACI,OAAO1J,KAAK4M,WAAWC,cAAc,cACzC,GAEJ,GAAW,CACPL,EAAc,CAAEE,SAAU,4CAC3BkgB,GAA4B1pB,UAAW,kBAAc,GACxD,GAAW,CACPsJ,EAAc,CAAEE,SAAU,oCAC3BkgB,GAA4B1pB,UAAW,cAAU,GACpD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BihB,GAA4B1pB,UAAW,cAAU,GACpD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BihB,GAA4B1pB,UAAW,eAAW,GACrD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BihB,GAA4B1pB,UAAW,gBAAY,GACtD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9CwhB,GAA4B1pB,UAAW,cAAU,GACpD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7CwhB,GAA4B1pB,UAAW,aAAS,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3B0hB,GAA4B1pB,UAAW,YAAQ,GAClD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7CwhB,GAA4B1pB,UAAW,aAAS,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3B0hB,GAA4B1pB,UAAW,YAAQ,GAClD0pB,GAA8B,GAAW,CACrCxgB,EAAc,CACVf,KAAM,mBAEXuhB,IACH,ICxJI,GDwJAE,GAA0BF,GAC1BG,GAAexqB,OAAOka,QAAO,SAAUzX,GACvC,MAAM,MAAE0X,EAAK,KAAErR,EAAI,KAAEzF,EAAI,MAAEpC,EAAK,QAAEmZ,EAAO,WAAEqQ,EAAU,OAAEtC,GAAW1lB,EAOlE,OANIgoB,IACAA,EAAWpQ,KAAO,cAElB8N,IACAA,EAAO9N,KAAO,UAEX,EAAQ,gBAAiB,CAC5B1P,WAAY,CACR2P,UAAW,EACXC,MAAOJ,EACPrR,KAAMA,EACN7H,MAAOA,EACPoC,KAAMA,GAEVwH,SAAU4f,EAAa,CAACA,GAActC,EAAS,CAACA,QAAU7pB,EAC1DwM,UAAW,CACPsN,MAAOgC,IAGnB,GAAG,CACCzZ,UAAW4pB,GAAwB5pB,UACnC6Z,OAAO/X,GACI,IAAI+nB,GAAa,IACjB/nB,EAAMY,KAAM,WAGvBoX,SAAShY,GACE,IAAI+nB,GAAa,IACjB/nB,EAAMY,KAAM,aAGvBqX,MAAMjY,GACK,IAAI+nB,GAAa,IACjB/nB,EAAMY,KAAM,UAGvBonB,WAAWhoB,GACA,IAAI+nB,GAAa,IACjB/nB,EAAMY,KAAM,eAGvB8kB,OAAO1lB,GACI,IAAI+nB,GAAa,IACjB/nB,EAAMY,KAAM,aC/MvB,GAA0C,SAAU4L,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAMA,IAAI4pB,GAAmC,cAA+Clc,oBAE9E,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,QAQ1C,CACAvE,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAZF,6JAahB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,GACvD,CACAC,yBAAyB7J,EAAM7G,EAAUC,GACrC,OAAQ4G,GACJ,IAAK,QAAS,CACV,MAAMqR,EAAQ1c,KAAK4M,WAAWC,cAAc,kBACxC6P,IACAA,EAAMqH,YAActf,GAExB,KACJ,EAER,GAEJ,GAAW,CACPwG,EAAkB,CAAErF,KAAMsF,UAC3B+hB,GAAiC/pB,UAAW,YAAQ,GACvD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7C6hB,GAAiC/pB,UAAW,aAAS,GACxD+pB,GAAmC,GAAW,CAC1C7gB,EAAc,CACVf,KAAM,wBAEX4hB,IACH,IC1CI,GAEAC,GDwCAC,GAA+BF,GCtD/B,GAA0C,SAAUzb,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAUA,IAAI+pB,GAA0B,cAAsCrc,YAC5D2M,iBACA,OAAO1d,KAAK6M,cAAc,wBAC9B,CACAtH,QACI,OAAOiG,MAAMqC,KAAK7N,KAAKuV,iBAAiB,4DAC5C,CACA,YAEI,GAAiB,EAAQ,aACVpV,QAAQmJ,OAAO,EAAQ,SACtC4jB,GAAyB,IAAIpjB,OAOjC,CACA/E,cACIqC,QACApH,MAAK,GAAU4D,SAAS4S,iBAAiBxW,KAAMyW,WAAWC,aAAc1W,MAAK,GAAYoK,KAAKpK,OAC9F,MAAM4M,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAZF,wHAahB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,WAAY1G,MAAK,EAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,MACnE,CACA2W,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,CACpB,CACA,IAAY3O,GACR,OAAIA,aAAgB6kB,GACTrW,WAAWU,cAElBlP,aAAgBklB,GACT1W,WAAWW,YAEfX,WAAWY,aACtB,CACA+G,YACI,MAAMC,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAOvO,YAClB,CACA,MACI,MAAMuO,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAO3F,WAClB,CACA,IAAcxY,GACV,MAAMme,EAASre,MAAK,GAGpB,OAFAqe,EAAO9F,YAAcrY,EACAme,EAAO2B,iBAEhC,CACA,IAAU9f,GACN,MAAMme,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAcrY,EACdme,EAAO4B,aAClB,CACA,IAAe/f,GACX,MAAM,WAAEwd,GAAe1d,KACJ,OAAf0d,GAAuBA,IAAexd,IACtCwd,EAAWpF,QAAS,GAEX,OAATpY,IACAA,EAAKoY,QAAS,EAEtB,CACA,GAAkBtS,GACd,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,iBAClC,GAAIyD,EAAY,CACZ,MAAM,KAAE1Y,EAAI,QAAEmlB,GAAYzM,EAC1B,OAAQ1Y,GACJ,IAAK,WACD0Y,EAAWyM,SAAWA,EACtB,MAEJ,IAAK,QACDzM,EAAWyM,SAAU,EACrB,MAEJ,IAAK,aAAc,CACf,MAAM,WAAEiC,GAAe1O,EACvB,GAAI0O,IAAeA,EAAW7O,SAAS9Z,GAAS,CAC5C,MAAMqX,GAAUwR,GAAuBxqB,IAAI4b,GAC3C0O,EAAWzR,OAAOG,GACdA,GACAsR,EAAW5O,WAAW9D,MAAM,CAAEC,eAAe,GAErD,CACA,KACJ,CACA,IAAK,SAAU,CACX,MAAM,OAAEmQ,GAAWpM,EACnB,GAAIoM,IAAWA,EAAOvM,SAAS9Z,GAAS,CACpC,MAAMqX,GAAUwR,GAAuBxqB,IAAI4b,GAC3CoM,EAAOnP,OAAOG,EAClB,CACA,KACJ,EAER,CACA1V,EAAM+T,iBACV,CACA,GAAwB/T,GACpBA,EAAM+T,iBACV,CACA,GAAqB/T,GACjBA,EAAM+T,iBACV,CACA,GAAkB/T,GACd,MAAM,cAAE4U,GAAkB5U,GACpB,WAAE0X,GAAe1d,KAClBA,KAAKme,SAASvD,KACd8C,GAAc1d,KAAKoe,cAAc9D,OAE1C,CACA,GAAoBtU,GAChB,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,iBAC9ByD,IACAte,MAAK,GAAese,GACpBte,KAAK4W,UAAY,EAEzB,CACA,IAAqB5Q,GACjB,MAAM,cAAE4U,GAAkB5U,GACDhG,KAAKme,SAASvD,KAEnC5a,KAAK4W,SAAW,EAExB,CACA,IAAsB5Q,GAClB,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,iBAClC,GAAIyD,EAAY,CACZ,MAAM,KAAE1Y,GAAS0Y,EACjB,OAAQ1Y,GACJ,IAAK,aAAc,CACf,MAAM,WAAEonB,GAAe1O,EACnB0O,IAAeA,EAAW7O,SAAS9Z,IACnC6oB,GAAuBtmB,IAAI0X,EAAY0O,EAAWvR,UAEtD,KACJ,CACA,IAAK,SAAU,CACX,MAAM,OAAEiP,GAAWpM,EACfoM,IAAWA,EAAOvM,SAAS9Z,IAC3B6oB,GAAuBtmB,IAAI0X,EAAYoM,EAAOjP,UAElD,KACJ,EAER,CACJ,CACA,GAAoBzV,GAChB,MAAM,IAAE3D,GAAQ2D,GACV,WAAE0X,GAAe1d,KACvB,OAAQqC,GACJ,IAAK,QACL,IAAK,IACD,GAAIqb,EAAY,CACZ,MAAM,KAAE9X,GAAS8X,EACjB,OAAQ9X,GACJ,IAAK,aAAc,CACf,MAAM,WAAEonB,GAAetP,EACnBsP,IACAA,EAAWtR,SACXsR,EAAW5O,WAAW9D,MAAM,CAAEC,eAAe,KAEjD,KACJ,CACA,IAAK,SAAU,CACX,MAAM,OAAEmQ,GAAWhN,EACfgN,GACAA,EAAOhP,SAEX,KACJ,CACA,QACIgC,EAAW/C,QAInB3U,EAAM+T,iBACV,CACA,MAEJ,IAAK,YACD,GAAI2D,EAAY,CACZ,MAAMoH,EAAe9kB,MAAK,GAAc0d,GACpCoH,GACAA,EAAaxK,MAAM,CAAEC,eAAe,GAE5C,KACK,CACD,MAAM6D,EAAYpe,KAAKoe,YACnBA,GACAA,EAAU9D,MAAM,CAAEC,eAAe,GAEzC,CACAvU,EAAM+T,kBACN,MAEJ,IAAK,aACD,GAAI2D,EAAY,CACZ,MAAMqH,EAAW/kB,MAAK,GAAU0d,GAC5BqH,GACAA,EAASzK,MAAM,CAAEC,eAAe,GAExC,KACK,CACD,MAAMmK,EAAW1kB,MAAK,KAClB0kB,GACAA,EAASpK,MAAM,CAAEC,eAAe,GAExC,CACAvU,EAAM+T,kBACN,MAEJ,IAAK,YACD,GAAI2D,EAAY,CACZ,MAAM,KAAE9X,GAAS8X,EAER,WADD9X,IAEA8X,EAAWgN,QAAQhP,SACnB1V,EAAM+T,kBAIlB,CACA,MAEJ,IAAK,OAAQ,CACT,MAAMqE,EAAYpe,KAAKoe,YACnBA,GACAA,EAAU9D,MAAM,CAAEC,eAAe,IAErCvU,EAAM+T,kBACN,KACJ,CACA,IAAK,MAAO,CACR,MAAM2K,EAAW1kB,MAAK,KAClB0kB,GACAA,EAASpK,MAAM,CAAEC,eAAe,IAEpCvU,EAAM+T,kBACN,KACJ,EAER,GAEJ,GAAW,CACP9O,EAAkB,CAAErF,KAAMsF,UAC3BkiB,GAAwBlqB,UAAW,YAAQ,GAC9C,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3BkiB,GAAwBlqB,UAAW,mBAAe,GACrDkqB,GAA0B,GAAW,CACjChhB,EAAc,CACVf,KAAM,eAEX+hB,IACH,ICvRI,GACA,GDsRAC,GAAsBD,GClStB,GAA0C,SAAU5b,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAQA,IAAIiqB,GAA2B,cAAuCvc,YAC9D0Z,YACA,OAAOzqB,MAAK,EAChB,CACIynB,cACA,OAAOznB,MAAK,EAChB,CACI4b,WACA,OAAO5b,MAAK,EAChB,CACA,IACA,IACA,YAEI,GAAiB,EAAQ,aACVG,QAAQmJ,OAAO,EAAQ,SACtC,GAAgB,uQAQ+C4I,oIAIHJ,2VASAC,yIAICC,8BAGjE,CACAjN,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,MAAK,GAAS,KACdA,MAAK,GAAQ,KACbA,MAAK,GAAW,KAChB4M,EAAWlG,iBAAiB,aAAc1G,MAAK,EAAuBoK,KAAKpK,MAC/E,CACA2W,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,CACpB,CACA1B,yBAAyB7J,EAAM7G,EAAUC,GACrC,OAAQ4G,GACJ,IAAK,WACDrL,KAAKkH,cAAc,IAAI8M,MAAM,SAAU,CAAEmB,SAAS,KAClD,MAEJ,IAAK,QAAS,CACV,MAAM,WAAEvI,GAAe5M,KACjB8jB,EAAYlX,EAAWC,cAAc,gBACvCiX,IACAA,EAAUC,YAActf,GAE5B,KACJ,EAER,CACA,GAAuBuB,GACnB,MAAM,OAAE3B,GAAW2B,GACXqF,KAAMkiB,GAAalpB,EAC3B,OAAQkpB,GACJ,IAAK,UAAW,CACZ,MAAMjgB,EAAUjJ,EAAOmR,mBAAmB,GAC1CxV,MAAK,GAAWsN,aAAmB+f,GAAsB/f,EAAU,KACnE,KACJ,CACA,IAAK,QAAS,CACV,MAAMA,EAAUjJ,EAAOmR,mBAAmB,GAC1CxV,MAAK,GAASsN,aAAmBkgB,gBAAkBlgB,EAAU,KAC7D,KACJ,CACA,IAAK,OAAQ,CACT,MAAMA,EAAUjJ,EAAOmR,mBAAmB,GAC1CxV,MAAK,GAAQsN,aAAmBsR,GAAmBtR,EAAU,KAC7D,KACJ,EAER,GAEJ,GAAW,CACPrC,EAAkB,CAAErF,KAAMsF,UAC3BoiB,GAAyBpqB,UAAW,YAAQ,GAC/C,GAAW,CACP+H,EAAkB,CAAErF,KAAMsG,UAC3BohB,GAAyBpqB,UAAW,gBAAY,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7CkiB,GAAyBpqB,UAAW,aAAS,GAChD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3B2hB,GAAyBpqB,UAAW,kBAAc,GACrD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3B2hB,GAAyBpqB,UAAW,cAAU,GACjD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9CkiB,GAAyBpqB,UAAW,gBAAY,GACnDoqB,GAA2B,GAAW,CAClClhB,EAAc,CACVf,KAAM,gBAEXiiB,IACH,IC7HI,GD6HAG,GAAuBH,GC3H3B,IAAII,GAAgC,cAA4C3c,oBAExE,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,QAM1C,CACAvE,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAVF,mFAWhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDrI,EAAWlG,iBAAiB,aAAc1G,MAAK,EAAuBoK,KAAKpK,MAC/E,CACA,GAAuBgG,GACnB,MAAM,OAAE3B,GAAW2B,EACG3B,EACjBmR,mBACA7K,QAAO8K,GAAaA,aAAqBgY,KAChCjnB,SAAQ,CAACoC,EAAQjJ,KAC3BiJ,EAAO+M,SAAWhW,CAAC,GAE3B,GAEJ+tB,GAzC8C,SAAUlc,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,CAoCgC,CAAW,CACvC+I,EAAc,CACVf,KAAM,qBAEXqiB,IACH,ICjCI,GDiCAC,GAA4BD,GC9C5B,GAA0C,SAAUlc,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAUA,IAAIuqB,GAAuB,cAAmC7c,YACtD2M,iBACA,OAAO1d,KAAK6M,cAAc,qBAC9B,CACIuX,qBACA,OAAOpkB,KAAK6M,cAAc,yBAC9B,CACA,GACA,GACA,YAEI,GAAiB,EAAQ,aACV1M,QAAQmJ,OAAO,EAAQ,QAAS,CAC3C8D,SAAU,CACE,8BAIZ,EAAQ,OAAQ,CAChBA,SAAU,CACN,EAAQ,WAapB,CACA7H,QACI,OAAOiG,MAAMqC,KAAK7N,KAAKuV,iBAAiB,sDAC5C,CACAxQ,cACIqC,QACApH,MAAK,GAAU4D,SAAS4S,iBAAiBxW,KAAMyW,WAAWC,aAAc1W,MAAK,GAAkBoK,KAAKpK,OACpGA,MAAK,GAAe,EACpBA,MAAK,GAAuB,EAC5B,MAAM4M,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QArBF,wSAsBhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,UAAW1G,MAAK,GAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,OAAQ1G,MAAK,GAAiBoK,KAAKpK,OACzDA,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,YAAa1G,MAAK,GAAsBoK,KAAKpK,OACnEA,KAAK0G,iBAAiB,SAAU1G,MAAK,EAAmBoK,KAAKpK,OAC7D4M,EAAWlG,iBAAiB,aAAc1G,MAAK,EAAuBoK,KAAKpK,MAC/E,CACA2W,oBACI,MAAMC,EAAW5W,KAAKgM,aAAa,YACnChM,KAAK4W,SAAwB,OAAbA,EAAoB,EAAI+G,SAAS/G,EACrD,CACAC,iBACI7W,MAAK,GAAe,CACxB,CACA8W,eACI9W,MAAK,GAAe,EAChBA,MAAK,IACLA,KAAKkH,cAAc,IAAI8M,MAAM,kBAAmB,CAAEmB,SAAS,KAC3DnV,MAAK,GAAuB,EAEpC,CACAqkB,gBACI,MAAMA,EAAgB,GAChBhG,EAASre,MAAK,GACpBqe,EAAO9F,YAAc8F,EAAOvF,KAC5B,IAAI5Y,EAAOF,MAAK,KAChB,KAAgB,OAATE,GACCA,EAAKgY,UACLmM,EAAc7kB,KAAKU,GAEvBA,EAAOF,MAAK,GAAUE,GAE1B,OAAOmkB,CACX,CACA,IAAkBpc,GACd,OAAIA,aAAgBwlB,GACThX,WAAWU,cAElBlP,aAAgB0lB,GACTlX,WAAWW,YAEfX,WAAWY,aACtB,CACA,IAAexJ,EAAMyJ,GACjB,MAAM/R,EAAQvF,KAAKuF,QACbgS,EAAYhS,EAAMsD,QAAQgF,GAC1B2J,EAAUjS,EAAMsD,QAAQyO,GAC9B,OAAIC,GAAa,GAAKC,GAAW,EACzB3J,GAAQyJ,EACD,CAACzJ,GAELtI,EAAMC,MAAMgE,KAAKiO,IAAIF,EAAWC,GAAUhO,KAAKoL,IAAI2C,EAAWC,GAAW,GAE7E,EACX,CACA,OAAiBjS,GACbvF,KAAK6W,iBACiB7W,KAAKqkB,gBACb7d,SAASge,IACdjf,EAAMsF,SAAS2Z,KAChBA,EAAetM,UAAW,EAC9B,IAEJ3S,EAAMiB,SAASoC,IACP5I,KAAKme,SAASvV,KAAYA,EAAOsP,WACjCtP,EAAOsP,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,OAAmBvR,GACfvF,KAAK6W,iBACLtR,EAAMiB,SAASoC,IACNA,EAAOsP,WACRtP,EAAOsP,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,OAAwBvR,GACpBvF,KAAK6W,iBACL,MAAMwN,EAAgBrkB,KAAKqkB,gBAC3B9e,EAAMiB,SAASoC,IACPyb,EAAcxZ,SAASjC,KACvBA,EAAOsP,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,MACI9W,KAAK6W,iBACiB7W,KAAKqkB,gBACb7d,SAASoC,IACfA,EAAOsP,WACPtP,EAAOsP,UAAW,EACtB,IAEJlY,KAAK8W,cACT,CACA,IAAe5W,GACX,MAAM,WAAEwd,EAAU,MAAEnY,GAAUvF,KACX,OAAf0d,GAAuBA,IAAexd,IACtCwd,EAAWpF,QAAS,EACpBoF,EAAW9G,UAAY,GAEd,OAAT1W,IACAA,EAAKoY,QAAS,EACdpY,EAAK0W,SAAW,EAExB,CACA,IAAmB1W,GACf,MAAM,eAAEkkB,GAAmBpkB,KACJ,OAAnBokB,GAA2BA,IAAmBlkB,IAC9CkkB,EAAeK,YAAa,GAEnB,OAATvkB,GACAF,KAAKykB,YAAa,EAClBvkB,EAAKukB,YAAa,GAGlBzkB,KAAKykB,YAAa,CAE1B,CACA,MACI,MAAMpG,EAASre,MAAK,IACd,KAAE8Y,GAASuF,EAEjB,OADAA,EAAO9F,YAAcO,EACduF,EAAOvO,YAClB,CACA,MACI,MAAMuO,EAASre,MAAK,IACd,KAAE8Y,GAASuF,EAEjB,OADAA,EAAO9F,YAAcO,EACduF,EAAO3F,WAClB,CACA,IAAcxY,GACV,MAAMme,EAASre,MAAK,GAGpB,OAFAqe,EAAO9F,YAAcrY,EACAme,EAAO1F,cAEhC,CACA,IAAUzY,GACN,MAAMme,EAASre,MAAK,GAGpB,OAFAqe,EAAO9F,YAAcrY,EACJme,EAAOzF,UAE5B,CACA,GAAwB5S,GACpB,MAAM,OAAE3B,GAAW2B,EACf3B,aAAkBopB,KACIztB,KAAKqkB,gBACRxZ,SAASxG,IACxBrE,MAAK,GAAcqE,GAEvBA,EAAOiW,MAAM,CAAEC,eAAe,IAC9BvU,EAAMoU,iBAEd,CACA,MACIpa,MAAK,GAAmB,KAC5B,CACA,IAAsBgG,GAClB,MAAM,OAAE3B,GAAW2B,EACf3B,aAAkBopB,IAClBztB,MAAK,GAAmBqE,GAE5B2B,EAAMoU,gBACV,CACA,IAAqBpU,GACjBA,EAAMoU,gBACV,CACA,IAAsBpU,GAClB,MAAM,cAAE4U,GAAkB5U,EAC1B,GAAI4U,aAAyBsF,UACNtF,EAAcC,QAAQ,cACxB,CACb,IAAI1G,EAAWyG,EACf,OAASzG,aAAoBsZ,IAAwBtZ,aAAoBwQ,WACrExQ,EAAWA,EAASC,cAChBD,aAAoByQ,aACpBzQ,EAAWA,EAAS0Q,MAGxB1Q,aAAoBwQ,UACpB3kB,MAAK,GAAmB,KAEhC,CAER,CACA,IAAsBgG,GAClB,MAAM,OAAE3B,GAAW2B,EACf3B,aAAkBopB,KACIztB,KAAKqkB,gBACRxZ,SAASxG,IACxBrE,MAAK,GAAcqE,GAG/B,CACA,MACIrE,MAAK,GAAmB,KAC5B,CACA,GAAkBgG,GACd,MAAM,cAAE4U,GAAkB5U,GACpB,WAAE0X,GAAe1d,KACnB0d,GAAc9C,IAAkB8C,GAChCA,EAAWpD,OAEnB,CACA,GAAoBtU,GAChB,MAAM,OAAE3B,GAAW2B,EACf3B,aAAkBopB,IAClBztB,MAAK,GAAeqE,EAE5B,CACA,GAAoB2B,GAChB,MAAM,IAAE3D,GAAQ2D,GACV,WAAE0X,GAAe1d,KACvB,OAAQqC,GACJ,IAAK,IAAK,CACN,MAAM,QAAEgX,GAAYrT,EACpB,GAAIqT,EAAS,CACT,MAAMgF,EAASre,MAAK,IACd,KAAE8Y,GAASuF,EACXD,GAAaC,EAAO9F,YAAc8F,EAAOhX,cAAgByR,EAAMuF,EAAOvO,cACtE4U,GAAYrG,EAAO9F,YAAc8F,EAAOhX,cAAgByR,EAAMuF,EAAO3F,aACrEnJ,EAAQvP,MAAK,GAAeoe,EAAWsG,GACzCnV,GACAvP,MAAK,MAAiBuP,EAE9B,CACAvJ,EAAMoU,iBACN,KACJ,CACA,IAAK,UACD,GAAIsD,EAAY,CACZ,MAAMoH,EAAe9kB,MAAK,GAAc0d,GACxC,GAAIoH,EAAc,CACdA,EAAaxK,MAAM,CAAEC,eAAe,IACpC,MAAM,SAAEjB,GAAatT,EACjBsT,IACAwL,EAAa5M,SACTlY,MAAK,GAAqB8kB,GAC1B9kB,MAAK,GAAgB8kB,GAEjC,CACJ,KACK,CACD,MAAM1G,EAAYpe,MAAK,KACnBoe,GACAA,EAAU9D,MAAM,CAAEC,eAAe,GAEzC,CACAvU,EAAM+T,kBACN,MAEJ,IAAK,YACD,GAAI2D,EAAY,CACZ,MAAMqH,EAAW/kB,MAAK,GAAU0d,GAChC,GAAIqH,EAAU,CACVA,EAASzK,MAAM,CAAEC,eAAe,IAChC,MAAM,SAAEjB,GAAatT,EACjBsT,IACAyL,EAAS7M,SACLlY,MAAK,GAAqB+kB,GAC1B/kB,MAAK,GAAgB+kB,GAEjC,CACJ,KACK,CACD,MAAML,EAAW1kB,MAAK,KAClB0kB,GACAA,EAASpK,MAAM,CAAEC,eAAe,GAExC,CACAvU,EAAM+T,kBACN,MAEJ,IAAK,OAAQ,CACT,MAAMqE,EAAYpe,MAAK,KACnBoe,GACAA,EAAU9D,MAAM,CAAEC,eAAe,IAErCvU,EAAM+T,kBACN,KACJ,CACA,IAAK,MAAO,CACR,MAAM2K,EAAW1kB,MAAK,KAClB0kB,GACAA,EAASpK,MAAM,CAAEC,eAAe,IAEpCvU,EAAM+T,kBACN,KACJ,CACA,IAAK,QAAS,CACV,MAAM,WAAE2D,GAAe1d,KACnB0d,IACA1d,MAAK,GAAc0d,GACnBA,EAAW/C,SAEf3U,EAAM+T,kBACN,KACJ,CACA,IAAK,SACD/Z,MAAK,KACLA,MAAK,GAAe,MACpBA,KAAKsa,QACLtU,EAAM+T,kBAIlB,CACA,IAAsB/T,GAClB,MAAM,OAAE3B,EAAM,QAAEgV,EAAO,SAAEC,GAAatT,EAChCqe,EAAgBrkB,KAAKqkB,gBAC3B,GAAIhgB,aAAkBopB,GAClB,GAAKnU,GAAaD,GAGb,GAAIA,EACHhV,EAAO6T,SAELlY,MAAK,GAAqBqE,GAD1BrE,MAAK,GAAgBqE,GAEzB2B,EAAM+T,uBAEL,GAAIT,EAAU,CACf,MAAMuU,EAAmBxJ,EAAcA,EAAc/jB,OAAS,GAC9D,GAAIutB,EAAkB,CAClB,MAAMte,EAAQvP,MAAK,GAAe6tB,EAAkBxpB,GAChDkL,IACI8U,EAAcxZ,SAASxG,GACvBrE,MAAK,MAAwBuP,GAG7BvP,MAAK,MAAmBuP,GAGpC,MAEIvP,MAAK,GAAcqE,GAEvB2B,EAAM+T,iBACV,OAzBI/Z,MAAK,GAAcqE,EA2B/B,CACA,KACSrE,MAAK,GACNA,KAAKkH,cAAc,IAAI8M,MAAM,kBAAmB,CAAEmB,SAAS,IAEnE,CACA,GAAuBnP,GACnB,MAAM,OAAE3B,GAAW2B,EACG3B,EACjBmR,mBACA7K,QAAO8K,GAAaA,aAAqBgY,KAChCjnB,SAAQ,CAACoC,EAAQjJ,KAC3BiJ,EAAO+M,SAAWhW,CAAC,GAE3B,GAEJ,GAAW,CACPsL,EAAkB,CAAErF,KAAMsF,UAC3B0iB,GAAqB1qB,UAAW,YAAQ,GAC3C,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BiiB,GAAqB1qB,UAAW,kBAAc,GACjD0qB,GAAuB,GAAW,CAC9BxhB,EAAc,CACVf,KAAM,YAEXuiB,IACH,IC/aI,GAEJ,IAAIE,GAA2B,cAAuC/c,YAC9Dgd,UACA,MAAM,GAAEruB,GAAOM,KACf,OAAOA,KAAKoU,cAAcvH,cAAc,kBAAkBnN,KAC9D,SAEI,GAAiB,EAAQ,aACVS,QAAQmJ,OAAO,EAAQ,QAW1C,CACAvE,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAfF,8MAgBhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,GACvD,CACA0B,oBACI,MAAM,IAAEoX,GAAQ/tB,KAChB,GAAI+tB,EAAK,CACLzhB,eAAe0hB,QAAQD,GACvB,MAAM,SAAE7V,GAAa6V,EACrB/tB,KAAKkX,QAAUgB,CACnB,CACJ,GAEJ4V,GA9C8C,SAAUtc,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,CAyC2B,CAAW,CAClC+I,EAAc,CACVf,KAAM,gBAEXyiB,IACH,ICzCI,GACA,GAXA,GAA0C,SAAUtc,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAOA,IAAI4qB,GAAsB,cAAkCld,YACpDmd,YACA,MAAM,SAAEha,GAAalU,KACfmU,EAAWnU,KAAKoU,cACtB,OAAID,aAAoBwQ,UAAYxQ,aAAoByQ,WAC7CzQ,EAAStH,cAAc,kBAAkBqH,OAE7C,IACX,SAEI,GAAiB,EAAQ,aACV/T,QAAQmJ,OAAO,EAAQ,SACtC,GAAgB,4aAc4CwI,8BAGhE,CACA/M,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,GACvD,CACA0B,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,CACpB,CACA1B,yBAAyB7J,EAAM7G,EAAUC,GAE5B,aADD4G,GAEArL,KAAKkH,cAAc,IAAI8M,MAAM,SAAU,CAAEmB,SAAS,IAI9D,CACAuV,SACI1qB,KAAKkY,UAAW,CACpB,GAEJ,GAAW,CACPjN,EAAkB,CAAErF,KAAMsF,UAC3B+iB,GAAoB/qB,UAAW,YAAQ,GAC1C,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BsiB,GAAoB/qB,UAAW,gBAAY,GAC9C,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7C6iB,GAAoB/qB,UAAW,gBAAY,GAC9C,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BsiB,GAAoB/qB,UAAW,cAAU,GAC5C,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,QAASP,UAAU,KAC9C6iB,GAAoB/qB,UAAW,gBAAY,GAC9C+qB,GAAsB,GAAW,CAC7B7hB,EAAc,CACVf,KAAM,WAEX4iB,IACH,IC1EI,GD0EAE,GAAkBF,GCvEtB,IAAIG,GAA0B,cAAsCrd,YAChE,IACIsd,WACA,OAAO7iB,MAAMqC,KAAK7N,KAAKuV,iBAAiB,SAC5C,CACI+Y,gBACA,OAAOtuB,KAAK6M,cAAc,gBAC9B,CACI0hB,kBACA,OAAOvuB,KAAK6M,cAAc,kBAC9B,SAEI,GAAiB,EAAQ,aACV1M,QAAQmJ,OAAO,EAAQ,QAiB1C,CACAvE,cACIqC,QACApH,MAAK,GAAU4D,SAAS4S,iBAAiBxW,KAAMyW,WAAWC,aAAc1W,MAAK,GAAkBoK,KAAKpK,OACpG,MAAM4M,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAtBF,4fAuBhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,SAAU1G,MAAK,EAAmBoK,KAAKpK,OAC7DA,KAAK0G,iBAAiB,SAAU1G,MAAK,EAAmBoK,KAAKpK,MACjE,CACA2W,oBACI,MAAM,SAAEC,EAAQ,YAAE2X,GAAgBvuB,KAClCA,KAAK4W,SAAWA,EAChBtK,eAAe0hB,QAAQhuB,MACvB,MAAMwuB,EAAcD,GAAevuB,KAAKoe,YACpCoQ,IACAxuB,MAAK,GAAWwuB,GAChBC,YAAW,KACP,MAAQ9Z,MAAO+Z,EAAU/a,OAAQgb,GAAcH,EAAY3S,yBACrD,WAAEM,GAAeqS,EACvBxuB,KAAKgf,QAAQ,CAAC,CACNrK,MAAO,GAAG+Z,MACVzQ,KAAM,GAAG9B,MACT+B,IAAK,GAAGyQ,QACR,CACJ1P,SAAU,EACV2P,KAAM,WACNC,OAAQ,cACRC,cAAe,WACjB,IAGd,CACA,IAAkB7mB,GACd,OAAIA,aAAgBkmB,GACT1X,WAAWU,cAEfV,WAAWY,aACtB,CACA+G,YACI,MAAMC,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAOvO,YAClB,CACA,MACI,MAAMuO,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAO3F,WAClB,CACA,IAAcxY,GACV,MAAMme,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAcrY,EACdme,EAAO1F,cAClB,CACA,IAAUzY,GACN,MAAMme,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAcrY,EACdme,EAAOzF,UAClB,CACA,IAAc1Y,GACV,MAAM,UAAEouB,GAActuB,KACJ,OAAdsuB,GAAsBA,IAAcpuB,IACpCouB,EAAUhW,QAAS,GAEV,OAATpY,IACAA,EAAKoY,QAAS,EAEtB,CACA,IAAWyV,GACP,MAAM,YAAEQ,GAAgBvuB,KACpB+tB,IAAQQ,IACRR,EAAI7V,UAAW,EAEvB,CACA,GAAkBlS,GACd,MAAM,OAAE3B,GAAW2B,EACb+oB,EAAY1qB,EAAOwW,QAAQ,SACjC,GAAIkU,EAAW,CACXA,EAAUrE,SACV,MAAQ/V,MAAO+Z,EAAU/a,OAAQgb,GAAcI,EAAUlT,yBACnD,WAAEM,GAAe4S,EACvB/uB,KAAKgf,QAAQ,CAAC,CACNrK,MAAO,GAAG+Z,MACVzQ,KAAM,GAAG9B,MACT+B,IAAK,GAAGyQ,QACR,CACJ1P,SA5HgB,IA6HhB2P,KAAM,WACNC,OAAQ,cACRC,cAAe,WAEvB,CACJ,CACA,GAAkB9oB,GACd,MAAM,cAAE4U,GAAkB5U,GACpB,YAAEuoB,GAAgBvuB,KACnBA,KAAKme,SAASvD,KACd2T,GAAevuB,KAAKoe,cAAc9D,OAE3C,CACA,GAAoBtU,GAChB,MAAM,OAAE3B,GAAW2B,EACb+oB,EAAY1qB,EAAOwW,QAAQ,SAC7BkU,IACA/uB,MAAK,GAAc+uB,GACnB/uB,KAAK4W,UAAY,EAEzB,CACA,IAAqB5Q,GACjB,MAAM,cAAE4U,GAAkB5U,GACDhG,KAAKme,SAASvD,KAEnC5a,KAAK4W,SAAW,EAExB,CACA,GAAoB5Q,GAChB,MAAM,IAAE3D,GAAQ2D,GACV,UAAEsoB,GAActuB,KACtB,OAAQqC,GACJ,IAAK,aACmBisB,EAChBtuB,MAAK,GAAcsuB,IAActuB,MAAK,KACtCA,KAAKoe,cACI9D,MAAM,CAAEC,eAAe,IACpCvU,EAAM+T,kBACN,MAEJ,IAAK,cACeuU,EACZtuB,MAAK,GAAUsuB,IAActuB,KAAKoe,YAClCpe,MAAK,OACAsa,MAAM,CAAEC,eAAe,IAChCvU,EAAM+T,kBACN,MAEJ,IAAK,OAAQ,CACT,MAAMqE,EAAYpe,KAAKoe,YACnBA,GACAA,EAAU9D,MAAM,CAAEC,eAAe,IAErCvU,EAAM+T,kBACN,KACJ,CACA,IAAK,MAAO,CACR,MAAM2K,EAAW1kB,MAAK,KAClB0kB,GACAA,EAASpK,MAAM,CAAEC,eAAe,IAEpCvU,EAAM+T,kBACN,KACJ,CACA,IAAK,QACDuU,GAAW3T,QACX3U,EAAM+T,kBAIlB,CACA,GAAmB/T,GACf,MAAM,OAAE3B,GAAW2B,EACb+oB,EAAY1qB,EAClB,GAAI0qB,EAAU7W,SAAU,CACpB,MAAM,KAAEmW,GAASruB,KACjBquB,EAAK7nB,SAASwoB,IACV,GAAIA,IAAUD,EAAW,CACrBC,EAAM9W,UAAW,EACjB,MAAM,MAAEgW,GAAUc,EACdd,IACAA,EAAMhX,QAAS,EAEvB,KAEJ,MAAM,MAAEgX,GAAUa,EACdb,IACAA,EAAMhX,QAAS,EAEvB,CACJ,GAEJkX,GAvO8C,SAAU5c,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,CAkO0B,CAAW,CACjC+I,EAAc,CACVf,KAAM,eAEX+iB,IACH,IClOI,GACA,GAXA,GAA0C,SAAU5c,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAOA,IAAI4rB,GAA6B,cAAyCle,oBAElE,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,OAAQ,CAC1C4D,WAAY,CACR8N,KAAM,WAEV5N,SAAU,EAAQ,WAEtB,GAAgB,2cAe4C0E,+XAYhE,CACA/M,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,GACvD,CACA0B,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,CACpB,GAEJ,GAAW,CACP3L,EAAkB,CAAErF,KAAM+F,WAC3BsjB,GAA2B/rB,UAAW,cAAU,GACnD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,UAC3B+jB,GAA2B/rB,UAAW,YAAQ,GACjD+rB,GAA6B,GAAW,CACpC7iB,EAAc,CACVf,KAAM,kBAEX4jB,IACH,IChEI,GDgEAC,GAAyBD,GCzEzB,ID0Ec1sB,OAAOka,QAAO,SAAUzX,GACtC,MAAM,MAAE0X,EAAK,KAAErR,EAAI,QAAE8jB,GAAYnqB,EACjC,OAAO,EAAQ,eAAgB,CAC3BkI,WAAY,CACR4P,MAAOJ,EACPrR,KAAMA,GAEV+B,SAAUsP,EACVrP,UAAW,CACPsN,MAAOwU,IAGnB,GAAG,CACCjsB,UAAWgsB,GAAuBhsB,YCvFQ,SAAUsO,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,GAMA,IAAI+rB,GAAkC,cAA8Cre,oBAE5E,GAAiB,EAAQ,aACV5Q,QAAQmJ,OAAO,EAAQ,QAQ1C,CACAvE,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAZF,6JAahB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,GACvD,CACAC,yBAAyB7J,EAAM7G,EAAUC,GACrC,OAAQ4G,GACJ,IAAK,QAAS,CACV,MAAMqR,EAAQ1c,KAAK4M,WAAWC,cAAc,kBACxC6P,IACAA,EAAMqH,YAActf,GAExB,KACJ,EAER,GAEJ,GAAW,CACPwG,EAAkB,CAAErF,KAAMsF,UAC3BkkB,GAAgClsB,UAAW,YAAQ,GACtDksB,GAAkC,GAAW,CACzChjB,EAAc,CACVf,KAAM,uBAEX+jB,IACH,ICtCI,GDsCAC,GAA8BD,GCpClC,IAAIE,GAA4B,cAAwCve,YAChE2M,iBACA,OAAO1d,KAAK6M,cAAc,uBAC9B,CACAtH,QACI,OAAOiG,MAAMqC,KAAK7N,KAAKuV,iBAAiB,0DAC5C,CACA,YAEI,GAAiB,EAAQ,aACVpV,QAAQmJ,OAAO,EAAQ,QAgB1C,CACAvE,cACIqC,QACApH,MAAK,GAAU4D,SAAS4S,iBAAiBxW,KAAMyW,WAAWC,aAAc1W,MAAK,GAAYoK,KAAKpK,OAC9F,MAAM4M,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QArBF,8aAsBhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,WAAY1G,MAAK,EAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,QAAS1G,MAAK,EAAkBoK,KAAKpK,OAC3DA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,OAC/DA,KAAK0G,iBAAiB,WAAY1G,MAAK,GAAqBoK,KAAKpK,OACjEA,KAAK0G,iBAAiB,UAAW1G,MAAK,EAAoBoK,KAAKpK,MACnE,CACA2W,oBACI,MAAM,SAAEC,GAAa5W,KACrBA,KAAK4W,SAAWA,CACpB,CACA,IAAY3O,GACR,OAAIA,aAAgBinB,GACTzY,WAAWU,cAElBlP,aAAgBonB,GACT5Y,WAAWW,YAEfX,WAAWY,aACtB,CACA+G,YACI,MAAMC,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAOvO,YAClB,CACA,MACI,MAAMuO,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAc8F,EAAOvF,KACrBuF,EAAO3F,WAClB,CACA,IAAcxY,GACV,MAAMme,EAASre,MAAK,GAGpB,OAFAqe,EAAO9F,YAAcrY,EACAme,EAAO2B,iBAEhC,CACA,IAAU9f,GACN,MAAMme,EAASre,MAAK,GAEpB,OADAqe,EAAO9F,YAAcrY,EACdme,EAAO4B,aAClB,CACA,IAAe/f,GACX,MAAM,WAAEwd,GAAe1d,KACJ,OAAf0d,GAAuBA,IAAexd,IACtCwd,EAAWpF,QAAS,GAEX,OAATpY,IACAA,EAAKoY,QAAS,EAEtB,CACA,GAAwBtS,GACpBA,EAAM+T,iBACV,CACA,GAAqB/T,GACjBA,EAAM+T,iBACV,CACA,GAAkB/T,GACd,MAAM,cAAE4U,GAAkB5U,GACpB,WAAE0X,GAAe1d,KAClBA,KAAKme,SAASvD,KACd8C,GAAc1d,KAAKoe,cAAc9D,OAE1C,CACA,GAAoBtU,GAChB,MAAM,OAAE3B,GAAW2B,EACbsY,EAAaja,EAAOwW,QAAQ,gBAC9ByD,IACAte,MAAK,GAAese,GACpBte,KAAK4W,UAAY,EAEzB,CACA,IAAqB5Q,GACjB,MAAM,cAAE4U,GAAkB5U,GACDhG,KAAKme,SAASvD,KAEnC5a,KAAK4W,SAAW,EAExB,CACA,GAAoB5Q,GAChB,MAAM,IAAE3D,GAAQ2D,GACV,WAAE0X,GAAe1d,KACvB,OAAQqC,GACJ,IAAK,QACGqb,IACAA,EAAW/C,QACX3U,EAAM+T,mBAEV,MAEJ,IAAK,YACD,GAAI2D,EAAY,CACZ,MAAMoH,EAAe9kB,MAAK,GAAc0d,GACpCoH,GACAA,EAAaxK,MAAM,CAAEC,eAAe,GAE5C,KACK,CACD,MAAM6D,EAAYpe,KAAKoe,YACnBA,GACAA,EAAU9D,MAAM,CAAEC,eAAe,GAEzC,CACAvU,EAAM+T,kBACN,MAEJ,IAAK,aACD,GAAI2D,EAAY,CACZ,MAAMqH,EAAW/kB,MAAK,GAAU0d,GAC5BqH,GACAA,EAASzK,MAAM,CAAEC,eAAe,GAExC,KACK,CACD,MAAMmK,EAAW1kB,MAAK,KAClB0kB,GACAA,EAASpK,MAAM,CAAEC,eAAe,GAExC,CACAvU,EAAM+T,kBACN,MAEJ,IAAK,OAAQ,CACT,MAAMqE,EAAYpe,KAAKoe,YACnBA,GACAA,EAAU9D,MAAM,CAAEC,eAAe,IAErCvU,EAAM+T,kBACN,KACJ,CACA,IAAK,MAAO,CACR,MAAM2K,EAAW1kB,MAAK,KAClB0kB,GACAA,EAASpK,MAAM,CAAEC,eAAe,IAEpCvU,EAAM+T,kBACN,KACJ,CACA,IAAK,SACD/Z,KAAKsa,MAAM,CAAEC,eAAe,IAC5BvU,EAAM+T,kBAIlB,GAEJuV,GAnM8C,SAAU9d,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,CA8L4B,CAAW,CACnC+I,EAAc,CACVf,KAAM,iBAEXikB,IACH,IC/LI,GATA,GAA0C,SAAU9d,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAKA,IAAIksB,GAAyB,cAAqCxe,YAC9D,GACA,UAEI,GAAgB,2OAO6CiB,yQAUjE,CACAjN,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCrT,MAAK,EAAU,KACfA,MAAK,GAAa,EAClBA,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,cAAe1G,MAAK,EAAwBoK,KAAKpK,OACvEA,KAAK0G,iBAAiB,YAAa1G,MAAK,EAAsBoK,KAAKpK,MACvE,CACAkV,yBAAyB7J,EAAM7G,EAAUC,GACrC,OAAQ4G,GACJ,IAAK,WAAY,CACb,MAAM,SAAE6I,GAAalU,KACrBA,MAAK,EAAU4D,SAASyQ,eAAeH,GACvC,KACJ,EAER,CACA,GAAsBlO,GAClB,MAAM,UAAEiO,GAAcjO,EACtBhG,KAAKwU,sBAAsBP,GAC3BjU,MAAK,GAAa,CACtB,CACA,GAAwBgG,GACpB,MAAM,UAAEiO,GAAcjO,GAChB,SAAEkO,GAAalU,KACrBA,MAAK,EAAU4D,SAASyQ,eAAeH,GACvClU,KAAKsU,kBAAkBL,GACvBjU,MAAK,GAAa,CACtB,CACA,GAAwBgG,GACpB,GAAIhG,MAAK,EAAY,CACjB,MAAMqE,EAASrE,MAAK,EACpB,GAAe,OAAXqE,EAAiB,CACjB,MAAMkP,EAAsBxQ,OAAOyQ,iBAAiBnP,IAC9C,UAAEwQ,EAAS,UAAEnB,GAAc1N,GACzB2O,MAAO6a,EAAW7b,OAAQ8b,GAAeprB,EAAOwX,wBAClD6T,EAAerrB,EAAO2iB,eAAiBpjB,SAAS0S,MAC9C2H,KAAM0R,EAAerQ,MAAOsQ,EAAgB1R,IAAK2R,EAActQ,OAAQuQ,GAAoBJ,EAAa7T,wBAC1GoC,EAAO9R,WAAWoH,EAAoBK,iBAAiB,SACvDmc,EAAUvmB,KAAKoL,IAAI+a,EAAenmB,KAAKiO,IAAIjO,KAAKsK,MAAMmK,EAAOpJ,GAAY+a,EAAiBJ,IAC1FtR,EAAM/R,WAAWoH,EAAoBK,iBAAiB,QACtDoc,EAASxmB,KAAKoL,IAAIib,EAAcrmB,KAAKiO,IAAIjO,KAAKsK,MAAMoK,EAAMxK,GAAYoc,EAAkBL,IAC9FprB,EAAO4O,MAAMzK,YAAY,OAAQ,GAAGunB,OACpC1rB,EAAO4O,MAAMzK,YAAY,MAAO,GAAGwnB,OACnChwB,KAAKkH,cAAc,IAAI+oB,YAAY,QACvC,CACJ,CACJ,GAEJ,GAAW,CACPhlB,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,KAC7CmkB,GAAuBrsB,UAAW,gBAAY,GACjDqsB,GAAyB,GAAW,CAChCnjB,EAAc,CACVf,KAAM,cAEXkkB,IACH,IC7FI,GAA0C,SAAU/d,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAGA,IAAI6sB,GAAyB,cAAqCnf,YAC9D4F,oBACI,MAAM,IAAE7S,GAAQ9D,KACZ8D,GACA9D,MAAK,GAAe8D,EAE5B,CACAqsB,SAAqBrsB,GACjB9D,KAAKowB,gBAAkBC,MAAMvsB,GAAKqb,MAAMmR,IACpC,GAAIA,EAASC,GACT,OAAOD,EAASE,OAGhB,MAAM,IAAIvsB,MAAMqsB,EAASG,WAC7B,IAEJzwB,KAAKkH,cAAc,IAAI8M,MAAM,OAAQ,CAAEmB,SAAS,IACpD,GAEJ,GAAW,CACPlK,EAAkB,CAAErF,KAAMsF,UAC3BglB,GAAuBhtB,UAAW,WAAO,GAC5CgtB,GAAyB,GAAW,CAChC9jB,EAAc,CACVf,KAAM,cAEX6kB,IACH,IC1BIQ,GACAC,GACA,GAXA,GAA0C,SAAUnf,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAOA,IAAIutB,GAAyB,cAAqC7f,oBAE1D2f,GAAoB,EAAQ,aACVvwB,QAAQmJ,OAAO,EAAQ,MAAO,CAC5C4D,WAAY,CACR8N,KAAM,OAEV5N,SAAU,CACN,EAAQ,MAAO,CACXF,WAAY,CACR8N,KAAM,UAEV5N,SAAU,CACN,EAAQ,MAAO,CACXF,WAAY,CACR8N,KAAM,oBAO9B2V,GAAwB,EAAQ,aACVxwB,QAAQmJ,OAAO,EAAQ,MAAO,CAChD4D,WAAY,CACR8N,KAAM,cAGd,GAAgB,4tCAwC8ChJ,2uBAwBQA,+xBA+B1E,CACAjN,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAAQ,IAC1B0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWiE,gBAAgB6f,GAAkBvwB,QAAQ8U,WAAU,GACnE,CACAC,yBAAyB7J,EAAM7G,EAAUC,GAE5B,SADD4G,GAEArL,MAAK,IAIjB,CACA,MACI,MAAM,KAAE4F,EAAI,WAAEgH,GAAe5M,KAC7B,OAAQ4F,GACJ,IAAK,UACDgH,EAAWiE,gBAAgB8f,GAAsBxwB,QAAQ8U,WAAU,IACnE,MAEJ,IAAK,MACDrI,EAAWiE,gBAAgB6f,GAAkBvwB,QAAQ8U,WAAU,IAI3E,GAEJ,GAAW,CACPhK,EAAkB,CAAErF,KAAMsF,OAAQC,aAAc,MAAOC,UAAU,KAClEwlB,GAAuB1tB,UAAW,YAAQ,GAC7C0tB,GAAyB,GAAW,CAChCxkB,EAAc,CACVf,KAAM,cAEXulB,ICpKH,IAAIC,GAA4B,cAAwC9f,YACpE,WAUA,CACAhM,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAC9BW,EAAkBnP,QAbF,+MAchB0I,EAAW0G,mBAAqB,CAACD,GACjCrT,MAAK,GAAaA,KAAKib,kBACvBjb,MAAK,GAAWkb,KAAO,WAC3B,GAEJ2V,GA/B8C,SAAUrf,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,CA0B4B,CAAW,CACnC+I,EAAc,CACVf,KAAM,iBAEXwlB,IACH,IC5BI,GARA,GAA0C,SAAUrf,EAAYnN,EAAQhC,EAAKoP,GAC7E,IAA2HvP,EAAvHwP,EAAIC,UAAUrR,OAAQ+C,EAAIqO,EAAI,EAAIrN,EAAkB,OAAToN,EAAgBA,EAAOlP,OAAOqP,yBAAyBvN,EAAQhC,GAAOoP,EACrH,GAAuB,iBAAZlG,SAAoD,mBAArBA,QAAQsG,SAAyBxO,EAAIkI,QAAQsG,SAASL,EAAYnN,EAAQhC,EAAKoP,QACpH,IAAK,IAAI9R,EAAI6R,EAAWlR,OAAS,EAAGX,GAAK,EAAGA,KAASuC,EAAIsP,EAAW7R,MAAI0D,GAAKqO,EAAI,EAAIxP,EAAEmB,GAAKqO,EAAI,EAAIxP,EAAEmC,EAAQhC,EAAKgB,GAAKnB,EAAEmC,EAAQhC,KAASgB,GAChJ,OAAOqO,EAAI,GAAKrO,GAAKd,OAAOC,eAAe6B,EAAQhC,EAAKgB,GAAIA,CAChE,EAQA,IAAIytB,GAA0B,cAAsC/f,YAC5D1M,aACA,OAAOrE,MAAK,CAChB,CACA,GACA,IACA,IACA,YAEI,GAAiB,EAAQ,aACVG,QAAQmJ,OAAO,EAAQ,MAAO,CACzC4D,WAAY,CACR8N,KAAM,aAEV5N,SAAU,CACN,EAAQ,OAAQ,CACZF,WAAY,CACR8N,KAAM,WAGd,EAAQ,WAoDpB,CACAjW,cACIqC,QACA,MAAMwF,EAAa5M,KAAKmT,aAAa,CAAEC,KAAM,SACvCC,EAAoB,IAAIX,cAMD,IAAWqe,EALxC1d,EAAkBnP,QAtDF,8jDAuDhB0I,EAAW0G,mBAAqB,CAACD,GACjCzG,EAAWtD,OAAO,GAAenJ,QAAQ8U,WAAU,IACnDjV,MAAK,EAAU,KACfA,MAAK,GAAmB,KACxBA,MAAK,IAAmC+wB,EAgBrC/wB,KAfQ,CACHgxB,YAAYhrB,GACR,MAAM,KAAEJ,GAASI,EACjB,OAAQJ,GACJ,IAAK,aACDmrB,GAAQ,KACR,MAEJ,IAAK,aACDA,GAAQ,KAIpB,IAGR/wB,MAAK,GAA0B,SAAW+wB,GACtC,MAAO,CACHC,YAAYhrB,GACR,MAAM,KAAEJ,GAASI,EAER,YADDJ,GAEAmrB,GAAQ,GAA4B/qB,EAIhD,EAEP,CAZ8B,CAY5BhG,KACP,CACA2W,oBACI3W,MAAK,IACT,CACAkV,yBAAyB7J,EAAM7G,EAAUC,GAE5B,QADD4G,GAEArL,MAAK,IAIjB,CACA,MACI,MAAM,QAAEixB,GAAYjxB,KACpB,GAAIixB,EAAS,CACT,MAAM9c,EAAWnU,KAAKoU,cACtB,GAAID,aAAoBwQ,UAAYxQ,aAAoByQ,WAAY,CAChE,MAAMvgB,EAAS8P,EAASE,eAAe4c,GACvC,GAAe,OAAX5sB,EAAiB,CACjB,MAAM6sB,EAAYlxB,MAAK,EACjBmxB,EAAuBnxB,MAAK,GAC9BkxB,IACAA,EAAUrqB,oBAAoB,aAAcsqB,GAC5CD,EAAUrqB,oBAAoB,aAAcsqB,IAEhD9sB,EAAOqC,iBAAiB,aAAcyqB,GACtC9sB,EAAOqC,iBAAiB,aAAcyqB,EAC1C,CACAnxB,MAAK,EAAUqE,CACnB,CACArE,MAAK,IACT,CACJ,CACAiqB,KAAKjgB,GACD,MAAM,UAAEonB,GAAY,GAAUpnB,GAAW,CAAC,EAC1C,IAAI+U,EAAkB/e,MAAK,GAC3B,GAAwB,OAApB+e,EAA0B,CAC1B,MAAM,GAAErf,GAAOqf,EACf,GAAW,SAAPrf,EACAqf,EAAgBD,cAEf,IAAKsS,EACN,MAER,CACA,GAAKpxB,KAAKqxB,QAkBNrxB,MAAK,GAAmB,SAlBT,CACfA,KAAKkX,QAAS,EACd6H,EAAkB/e,KAAKgf,QAAQ,CAC3B,CAAEsS,QAAS,GACX,CAAEA,QAAS,IACZ,CACC5xB,GAAI,OACJ6xB,MAAOH,EAAY,EAtKf,IAuKJnS,SAAUmS,EAAY,EAtKb,MAwKb,MAAM,SAAElS,GAAaH,EACrBG,EAASC,MAAK,KACVnf,KAAKqxB,SAAU,CAAI,IACpBjS,OAAM+I,IAAW,IACpBnoB,MAAK,GAAmB+e,EACxB/e,MAAK,IACT,CAIJ,CACAkqB,KAAKlgB,GACD,MAAM,UAAEonB,GAAY,GAAUpnB,GAAW,CAAC,EAC1C,IAAI+U,EAAkB/e,MAAK,GAC3B,GAAwB,OAApB+e,EAA0B,CAC1B,MAAM,GAAErf,GAAOqf,EACf,GAAW,SAAPrf,EACAqf,EAAgBD,cAEf,IAAKsS,EACN,MAER,CACA,GAAIpxB,KAAKqxB,QAAS,CACdtS,EAAkB/e,KAAKgf,QAAQ,CAC3B,CAAEsS,QAAS,GACX,CAAEA,QAAS,IACZ,CACC5xB,GAAI,OACJ6xB,MAAOH,EAAY,EAvMf,IAwMJnS,SAAUmS,EAAY,EAtMb,MAwMb,MAAM,SAAElS,GAAaH,EACrBG,EAASC,MAAK,KACVnf,KAAKqxB,SAAU,EACfrxB,KAAKkX,QAAS,CAAI,IACnBkI,OAAM+I,IAAW,IACpBnoB,MAAK,GAAmB+e,CAC5B,MAEI/e,MAAK,GAAmB,IAEhC,CACA,MACI,OAAOA,KAAK4M,WAAWC,cAAc,eACzC,CACA,MACI,MAAMxI,EAASrE,MAAK,EACpB,GAAe,OAAXqE,EAAiB,CACjB,MAAQ6Z,IAAKsT,EAAWjS,OAAQkS,EAAcxT,KAAMyT,EAAYpS,MAAOqS,GAAgBttB,EAAOwX,yBACtFlH,MAAOid,EAAcje,OAAQke,GAAkB7xB,KAAK6b,wBACtDiW,EAAmBF,EAAe,EAClCG,EAAoBF,EAAgB,EACpCG,GAAgBL,EAAcD,GAAc,EAC5CO,GAAgBR,EAAeD,GAAa,GAC5C,SAAE9Z,EAAUzE,MAAOif,GAAiBlyB,KACpCmyB,EAAQnyB,MAAK,MACXiT,MAAOmf,GAAeD,GACtBxd,MAAO0d,EAAY1e,OAAQ2e,GAAgBH,EAAMtW,wBACnD0W,EAAiBF,EAAa,EAC9BG,EAAkBF,EAAc,GAChC,YAAErW,GAAgBrY,SAAS0S,KACjC,OAAQoB,GACJ,IAAK,MACDwa,EAAa1pB,YAAY,MAAUgpB,EAAYK,EAAgBW,EAA/B,MAChCN,EAAa1pB,YAAY,OAAQ,GAAGgB,KAAKoL,IAAI,EAAGpL,KAAKiO,IAAIua,EAAeF,EAAkB7V,EAAc2V,SACxGQ,EAAW5pB,YAAY,MAAUgpB,EAAYgB,EAAf,MAC9BJ,EAAW5pB,YAAY,OAAQ,GAAGwpB,OAClC,MAEJ,IAAK,SACDE,EAAa1pB,YAAY,MAAO,GAAGipB,EAAee,OAClDN,EAAa1pB,YAAY,OAAQ,GAAGgB,KAAKoL,IAAI,EAAGpL,KAAKiO,IAAIua,EAAeF,EAAkB7V,EAAc2V,SACxGQ,EAAW5pB,YAAY,MAAO,GAAGipB,EAAee,OAChDJ,EAAW5pB,YAAY,OAAQ,GAAGwpB,OAClC,MAEJ,IAAK,OACDE,EAAa1pB,YAAY,MAAUypB,EAAeF,EAAlB,MAChCG,EAAa1pB,YAAY,OAAWkpB,EAAaE,EAAeW,EAA/B,MACjCH,EAAW5pB,YAAY,MAAO,GAAGypB,OACjCG,EAAW5pB,YAAY,OAAWkpB,EAAaa,EAAhB,MAC/B,MAEJ,IAAK,QACDL,EAAa1pB,YAAY,MAAUypB,EAAeF,EAAlB,MAChCG,EAAa1pB,YAAY,OAAQ,GAAGmpB,EAAcY,OAClDH,EAAW5pB,YAAY,MAAO,GAAGypB,OACjCG,EAAW5pB,YAAY,OAAQ,GAAGmpB,EAAcY,OAI5D,CACJ,CACA,MACIvyB,KAAKiqB,OACL,MAAMlL,EAAkB/e,MAAK,GAC7B,GAAI+e,EAAiB,CACjB,MAAM0T,EAAyBzyB,MAAK,IAC9B,SAAEkf,GAAaH,EACrBG,EAASC,MAAK,KACVvb,SAAS8C,iBAAiB,UAAW+rB,EAAuB,IAC7DrT,OAAM+I,IAAW,GACxB,CACJ,CACA,MACInoB,KAAKkqB,OACL,MAAMnL,EAAkB/e,MAAK,GAC7B,GAAI+e,EAAiB,CACjB,MAAM0T,EAAyBzyB,MAAK,IAC9B,SAAEkf,GAAaH,EACrBG,EAASC,MAAK,KACVvb,SAASiD,oBAAoB,UAAW4rB,EAAuB,IAChErT,OAAM+I,IAAW,GACxB,CACJ,CACA,IAA4BniB,GACxB,MAAM,IAAE3D,GAAQ2D,EAEP,WADD3D,GAEArC,KAAKkqB,KAAK,CACNkH,WAAW,GAK3B,GClSGjB,eAAeuC,KAClB9uB,SAAS0P,mBAAqB,CAACP,EAAMX,YACrCxO,SAAS2S,KAAKjN,UACP/G,OAAOmD,OAAOqN,EAAMV,UAAUpS,KAC5B0yB,GAAQ,EAAQ,OAAQ,CACrBzlB,WAAY,CACRqd,IAAK,UACLqI,GAAI,QACJpI,KAAMmI,EACNE,YAAa,kBAM7B,MAAMC,EAAW,IAAI1G,GACrB0G,EAAS9hB,SACL,IAAIsP,GAAU,CACVC,QAAS,CACL,IAAIiB,GAAgB,CAChBnW,KAAM,OACNzF,KAAMsF,OACNwR,MAAO,MACP0E,QAAU5I,GAAyBA,EAAKnN,OAE5C,IAAImW,GAAgB,CAChBnW,KAAM,QACNzF,KAAMsF,OACNwR,MAAO,UACP0E,QAAU5I,GAAyBA,EAAK2T,QAE5C,IAAI3K,GAAgB,CAChBnW,KAAM,MACNzF,KAAMsG,OACNwQ,MAAO,MACP0E,QAAU5I,GAAQtN,OAAwBsN,EAAK0T,KAC/CzK,QAAS,CAAC,CACNpW,KAAM,SACNV,OAAS6N,GAAyBA,EAAK0T,IAAM,IAC/C,CACE7gB,KAAM,SACNV,OAAS6N,GAAyBA,EAAK0T,KAAO,QAI1DpW,KAAM,CACF,IAAImW,GAAe,CACfvsB,GAAI,EACJ2L,KAAM,QACN6gB,IAAK,GACLC,MAAO,SAEX,IAAIF,GAAe,CACfvsB,GAAI,EACJ2L,KAAM,SACN6gB,IAAK,GACLC,MAAO,SAEX,IAAIF,GAAe,CACfvsB,GAAI,EACJ2L,KAAM,kBACN6gB,IAAK,GACLC,MAAO,UAEX,IAAIF,GAAe,CACfvsB,GAAI,EACJ2L,KAAM,OACN6gB,IAAK,GACLC,MAAO,UAEX,IAAIF,GAAe,CACfvsB,GAAI,EACJ2L,KAAM,SACN6gB,IAAK,GACLC,MAAO,SAEX,IAAIF,GAAe,CACfvsB,GAAI,EACJ2L,KAAM,SACN6gB,IAAK,GACLC,MAAO,aAKvBvoB,SAAS0S,KAAKhN,OAAOwpB,GACrBA,EAAS3hB,SAET,MAAM4hB,EAAY,IAAI/N,GAAU,CAC5Bzf,MAAO,CACH,IAAIukB,GAAgB,CAChBpqB,GAAI,OACJkG,KAAM,SACNL,MAAO,CACH,IAAIukB,GAAgB,CAChBpqB,GAAI,QACJkG,KAAM,SACNL,MAAO,CACH,IAAIukB,GAAgB,CAChBlkB,KAAM,OACNlG,GAAI,cAIhB,IAAIoqB,GAAgB,CAChBlkB,KAAM,SACNlG,GAAI,aAIhB,IAAIoqB,GAAgB,CAChBpqB,GAAI,OACJkG,KAAM,SACNL,MAAO,CACH,IAAIukB,GAAgB,CAChBpqB,GAAI,QACJkG,KAAM,SACNL,MAAO,CACH,IAAIukB,GAAgB,CAChBlkB,KAAM,OACNlG,GAAI,cAIhB,IAAIoqB,GAAgB,CAChBlkB,KAAM,SACNlG,GAAI,aAIhB,IAAIoqB,GAAgB,CAChBlkB,KAAM,OACNlG,GAAI,SAER,IAAIoqB,GAAgB,CAChBlkB,KAAM,OACNlG,GAAI,YAKVszB,EAAW,IAAI1I,GACrB0I,EAASnM,WAAY,EACrBmM,EAAShiB,SAAS+hB,GAClBC,EAAS7hB,SACTvN,SAAS0S,KAAKhN,OAAO0pB,GAErBpvB,SAAS0S,KAAKhN,UACP,CACC,WACA,UACA,OACA,UACA,OACA,QACA,OACA,UACFrJ,KAAIgzB,GACK,EAAQ,UAAW,CACtB7lB,SAAU,CACN,EAAQ,UAAW,CACfA,SAAU,GAAG6lB,WAEjB,EAAQ,WAAY,CAChB/lB,WAAY,CACRpJ,IAAK,WAAWmvB,iBAO5C,CDwHA,GAAW,CACPhoB,EAAkB,CAAErF,KAAMsF,OAAQE,UAAU,EAAMC,KAAM,SACzDylB,GAAwB5tB,UAAW,eAAW,GACjD,GAAW,CACP+H,EAAkB,CAAErF,KAAMsF,OAAQC,aAAc,SACjD2lB,GAAwB5tB,UAAW,gBAAY,GAClD,GAAW,CACP+H,EAAkB,CAAErF,KAAM+F,WAC3BmlB,GAAwB5tB,UAAW,eAAW,GACjD4tB,GAA0B,GAAW,CACjC1kB,EAAc,CACVf,KAAM,eAEXylB,G","sources":["webpack://main/../editor/css/elements/containers/container.css","webpack://main/../editor/css/elements/containers/trees/treeitem.css","webpack://main/./node_modules/css-loader/dist/runtime/api.js","webpack://main/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://main/webpack/bootstrap","webpack://main/webpack/runtime/compat get default export","webpack://main/webpack/runtime/define property getters","webpack://main/webpack/runtime/global","webpack://main/webpack/runtime/hasOwnProperty shorthand","webpack://main/webpack/runtime/make namespace object","webpack://main/webpack/runtime/publicPath","webpack://main/../editor/lib/models/Model.js","webpack://main/../editor/lib/elements/Snippets.js","webpack://main/../editor/lib/elements/Element.js","webpack://main/../editor/lib/views/View.js","webpack://main/../editor/lib/stylesheets/Theme.js","webpack://main/../editor/lib/stylesheets/Reset.js","webpack://main/../editor/lib/elements/controls/sashes/HeightSash.js","webpack://main/../editor/lib/elements/controls/sashes/WidthSash.js","webpack://main/../editor/lib/elements/containers/grid/GridCell.js","webpack://main/../editor/lib/elements/containers/grid/GridRow.js","webpack://main/../editor/lib/elements/containers/grid/GridBody.js","webpack://main/../editor/lib/elements/containers/grid/GridHead.js","webpack://main/../editor/lib/elements/containers/grid/GridRowGroup.js","webpack://main/../editor/lib/elements/containers/grid/Grid.js","webpack://main/../editor/lib/elements/containers/menus/MenuItem.js","webpack://main/../editor/lib/elements/containers/menus/MenuItemGroup.js","webpack://main/../editor/lib/elements/containers/menus/Menu.js","webpack://main/../editor/lib/elements/containers/menus/MenuBar.js","webpack://main/../editor/lib/elements/containers/menus/MenuButton.js","webpack://main/../editor/lib/views/GridView.js","webpack://main/../editor/lib/elements/containers/trees/TreeItem.js","webpack://main/../editor/lib/elements/containers/trees/TreeItemGroup.js","webpack://main/../editor/lib/elements/containers/trees/Tree.js","webpack://main/../editor/lib/views/TreeView.js","webpack://main/./src/MyTreeView.ts","webpack://main/./src/MyGridView.ts","webpack://main/../editor/lib/elements/containers/toolbars/ToolBarItem.js","webpack://main/../editor/lib/elements/containers/toolbars/ToolBarItemGroup.js","webpack://main/../editor/lib/elements/containers/toolbars/ToolBar.js","webpack://main/../editor/lib/elements/containers/lists/ListItem.js","webpack://main/../editor/lib/elements/containers/lists/ListItemGroup.js","webpack://main/../editor/lib/elements/containers/lists/List.js","webpack://main/../editor/lib/elements/containers/tabs/TabPanel.js","webpack://main/../editor/lib/elements/containers/tabs/Tab.js","webpack://main/../editor/lib/elements/containers/tabs/TabList.js","webpack://main/../editor/lib/elements/containers/status/StatusItem.js","webpack://main/../editor/lib/elements/containers/status/StatusItemGroup.js","webpack://main/../editor/lib/elements/containers/status/StatusBar.js","webpack://main/../editor/lib/elements/misc/Handle.js","webpack://main/../editor/lib/elements/misc/Import.js","webpack://main/../editor/lib/elements/misc/Loader.js","webpack://main/../editor/lib/elements/misc/Separator.js","webpack://main/../editor/lib/elements/misc/ToolTip.js","webpack://main/./main.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../editor-samples/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../editor-samples/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":host([droptarget]) {\\r\\n    background-color: var(--theme-droptarget-item-color);\\r\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../editor/css/elements/containers/container.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,oDAAoD;AACxD\",\"sourcesContent\":[\":host([droptarget]) {\\r\\n    background-color: var(--theme-droptarget-item-color);\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../editor-samples/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../editor-samples/node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../editor-samples/node_modules/css-loader/dist/cjs.js!../container.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":host {\\r\\n    display: block;\\r\\n    user-select: none;\\r\\n}\\r\\n\\r\\n/* \\r\\nAdded from container.css\\r\\n:host([droptarget]) {\\r\\n    background-color: var(--theme-droptarget-item-color);\\r\\n}\\r\\n*/\\r\\n\\r\\n:host(:focus-visible) {\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n:host([active]):host-context(e-tree:focus-within) [part=\\\"content\\\"] {\\r\\n    outline: 1px solid var(--theme-focused-item-outline-color);\\r\\n    outline-offset: -1px;\\r\\n}\\r\\n\\r\\n[part=\\\"content\\\"]:hover {\\r\\n    background-color: var(--theme-hovered-item-color);\\r\\n}\\r\\n\\r\\n:host([selected]) [part=\\\"content\\\"] {\\r\\n    background-color: var(--theme-selected-item-color);\\r\\n}\\r\\n\\r\\n[part=\\\"content\\\"] {\\r\\n    display: flex;\\r\\n    line-height: 22px;\\r\\n    padding-left: 12px;\\r\\n}\\r\\n\\r\\n:host(:not([type=\\\"parent\\\"])) ::slotted([slot=\\\"group\\\"]),\\r\\n:host(:not([expanded])) ::slotted([slot=\\\"group\\\"]) {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n:host(:not([type=\\\"parent\\\"])) [part=\\\"arrow\\\"]::before {\\r\\n    visibility: hidden;\\r\\n}\\r\\n\\r\\n[part=\\\"arrow\\\"] {\\r\\n    display: inline-block;\\r\\n    width: 18px;\\r\\n    height: 18px;\\r\\n    margin: 1px 4px 1px 1px;\\r\\n}\\r\\n\\r\\n[part=\\\"arrow\\\"]::before {\\r\\n    display: inline-block;\\r\\n    width: 18px;\\r\\n    height: 18px;\\r\\n    margin: 1px;\\r\\n    content: \\\"\\\";\\r\\n\\r\\n    mask-size: 18px 18px;\\r\\n    -webkit-mask-size: 18px 18px;\\r\\n    background-color: none;\\r\\n}\\r\\n\\r\\n:host(:not([expanded])) [part=\\\"arrow\\\"]::before {\\r\\n    -webkit-mask-image: var(--theme-arrow-right-image);\\r\\n    mask-image: var(--theme-arrow-right-image);\\r\\n    background-color: black;\\r\\n}\\r\\n\\r\\n:host([expanded]) [part=\\\"arrow\\\"]::before {\\r\\n    -webkit-mask-image: var(--theme-arrow-dropdown-image);\\r\\n    mask-image: var(--theme-arrow-dropdown-image);\\r\\n    background-color: black;\\r\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../editor/css/elements/containers/trees/treeitem.css\"],\"names\":[],\"mappings\":\"AAEA;IACI,cAAc;IACd,iBAAiB;AACrB;;AAEA;;;;;CAKC;;AAED;IACI,aAAa;AACjB;;AAEA;IACI,0DAA0D;IAC1D,oBAAoB;AACxB;;AAEA;IACI,iDAAiD;AACrD;;AAEA;IACI,kDAAkD;AACtD;;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;;IAEI,aAAa;AACjB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,qBAAqB;IACrB,WAAW;IACX,YAAY;IACZ,uBAAuB;AAC3B;;AAEA;IACI,qBAAqB;IACrB,WAAW;IACX,YAAY;IACZ,WAAW;IACX,WAAW;;IAEX,oBAAoB;IACpB,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,kDAAkD;IAClD,0CAA0C;IAC1C,uBAAuB;AAC3B;;AAEA;IACI,qDAAqD;IACrD,6CAA6C;IAC7C,uBAAuB;AAC3B\",\"sourcesContent\":[\"@import \\\"../container.css\\\";\\r\\n\\r\\n:host {\\r\\n    display: block;\\r\\n    user-select: none;\\r\\n}\\r\\n\\r\\n/* \\r\\nAdded from container.css\\r\\n:host([droptarget]) {\\r\\n    background-color: var(--theme-droptarget-item-color);\\r\\n}\\r\\n*/\\r\\n\\r\\n:host(:focus-visible) {\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n:host([active]):host-context(e-tree:focus-within) [part=\\\"content\\\"] {\\r\\n    outline: 1px solid var(--theme-focused-item-outline-color);\\r\\n    outline-offset: -1px;\\r\\n}\\r\\n\\r\\n[part=\\\"content\\\"]:hover {\\r\\n    background-color: var(--theme-hovered-item-color);\\r\\n}\\r\\n\\r\\n:host([selected]) [part=\\\"content\\\"] {\\r\\n    background-color: var(--theme-selected-item-color);\\r\\n}\\r\\n\\r\\n[part=\\\"content\\\"] {\\r\\n    display: flex;\\r\\n    line-height: 22px;\\r\\n    padding-left: 12px;\\r\\n}\\r\\n\\r\\n:host(:not([type=\\\"parent\\\"])) ::slotted([slot=\\\"group\\\"]),\\r\\n:host(:not([expanded])) ::slotted([slot=\\\"group\\\"]) {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n:host(:not([type=\\\"parent\\\"])) [part=\\\"arrow\\\"]::before {\\r\\n    visibility: hidden;\\r\\n}\\r\\n\\r\\n[part=\\\"arrow\\\"] {\\r\\n    display: inline-block;\\r\\n    width: 18px;\\r\\n    height: 18px;\\r\\n    margin: 1px 4px 1px 1px;\\r\\n}\\r\\n\\r\\n[part=\\\"arrow\\\"]::before {\\r\\n    display: inline-block;\\r\\n    width: 18px;\\r\\n    height: 18px;\\r\\n    margin: 1px;\\r\\n    content: \\\"\\\";\\r\\n\\r\\n    mask-size: 18px 18px;\\r\\n    -webkit-mask-size: 18px 18px;\\r\\n    background-color: none;\\r\\n}\\r\\n\\r\\n:host(:not([expanded])) [part=\\\"arrow\\\"]::before {\\r\\n    -webkit-mask-image: var(--theme-arrow-right-image);\\r\\n    mask-image: var(--theme-arrow-right-image);\\r\\n    background-color: black;\\r\\n}\\r\\n\\r\\n:host([expanded]) [part=\\\"arrow\\\"]::before {\\r\\n    -webkit-mask-image: var(--theme-arrow-dropdown-image);\\r\\n    mask-image: var(--theme-arrow-dropdown-image);\\r\\n    background-color: black;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","export { ModelChangeRecord };\r\nexport { ModelEvent };\r\nexport { ModelNode };\r\nexport { ModelObject };\r\nexport { ReactiveProperty };\r\nexport { ModelList };\r\nexport { ModelChangeObserver };\r\nclass ModelChangeRecordBase {\r\n    target;\r\n    changeType;\r\n    propertyName;\r\n    oldValue;\r\n    newValue;\r\n    removedIndex;\r\n    removedItems;\r\n    insertedIndex;\r\n    insertedItems;\r\n    sortedIndices;\r\n    constructor(init) {\r\n        this.target = init.target;\r\n        this.changeType = init.changeType;\r\n        this.propertyName = init.propertyName ?? null;\r\n        this.oldValue = init.oldValue ?? undefined;\r\n        this.newValue = init.newValue ?? undefined;\r\n        this.removedIndex = init.removedIndex ?? 0;\r\n        this.removedItems = new ModelNodesList(init.removedItems ?? []);\r\n        this.insertedIndex = init.insertedIndex ?? 0;\r\n        this.insertedItems = new ModelNodesList(init.insertedItems ?? []);\r\n        this.sortedIndices = init.sortedIndices ?? [];\r\n    }\r\n    static get PROPERTY_CHANGE() {\r\n        return 1;\r\n    }\r\n    static get LIST_REMOVE() {\r\n        return 2;\r\n    }\r\n    static get LIST_INSERT() {\r\n        return 3;\r\n    }\r\n    static get LIST_SORT() {\r\n        return 4;\r\n    }\r\n    get PROPERTY_CHANGE() {\r\n        return ModelChangeRecordBase.PROPERTY_CHANGE;\r\n    }\r\n    get LIST_REMOVE() {\r\n        return ModelChangeRecordBase.LIST_REMOVE;\r\n    }\r\n    get LIST_INSERT() {\r\n        return ModelChangeRecordBase.LIST_INSERT;\r\n    }\r\n    get LIST_SORT() {\r\n        return ModelChangeRecordBase.LIST_SORT;\r\n    }\r\n}\r\nvar ModelChangeRecord = ModelChangeRecordBase;\r\nclass ModelNodesListBase {\r\n    #items;\r\n    constructor(items) {\r\n        this.#items = items.slice();\r\n    }\r\n    get length() {\r\n        return this.#items.length;\r\n    }\r\n    item(index) {\r\n        return this.#items[index] ?? null;\r\n    }\r\n    values() {\r\n        return this.#items.values();\r\n    }\r\n}\r\nvar ModelNodesList = ModelNodesListBase;\r\nclass ModelEventBase {\r\n    type;\r\n    #currentTarget;\r\n    #target;\r\n    constructor(type) {\r\n        this.type = type;\r\n        this.#currentTarget = null;\r\n        this.#target = null;\r\n    }\r\n    get currentTarget() {\r\n        return this.#currentTarget;\r\n    }\r\n    get target() {\r\n        return this.#target;\r\n    }\r\n    static ModelEventTargetAccessor = new class ModelEventTargetAccessor {\r\n        setCurrentTarget(event, currentTarget) {\r\n            if (event instanceof ModelEventBase) {\r\n                event.#currentTarget = currentTarget;\r\n            }\r\n        }\r\n        setTarget(event, target) {\r\n            if (event instanceof ModelEventBase) {\r\n                event.#target = target;\r\n            }\r\n        }\r\n    };\r\n}\r\nvar ModelEventTargetAccessor = ModelEventBase.ModelEventTargetAccessor;\r\ndelete ModelEventBase.ModelEventTargetAccessor;\r\nvar ModelEvent = ModelEventBase;\r\nclass ModelEventTargetBase {\r\n    #callbacks;\r\n    constructor() {\r\n        this.#callbacks = new Map();\r\n    }\r\n    receiveEvent(event) {\r\n        const { type } = event;\r\n        const callbacks = this.#callbacks.get(type);\r\n        ModelEventTargetAccessor.setCurrentTarget(event, this);\r\n        if (callbacks) {\r\n            callbacks.forEach((callback_i) => {\r\n                callback_i(event);\r\n            });\r\n        }\r\n    }\r\n    addEventListener(type, callback) {\r\n        const callbacks = this.#callbacks.get(type);\r\n        if (callbacks) {\r\n            callbacks.push(callback);\r\n        }\r\n        else {\r\n            this.#callbacks.set(type, [callback]);\r\n        }\r\n    }\r\n    removeEventListener(type, callback) {\r\n        const callbacks = this.#callbacks.get(type);\r\n        if (callbacks) {\r\n            const callbackIndex = callbacks.findIndex(callback_i => callback_i == callback);\r\n            if (callbackIndex > -1) {\r\n                callbacks.splice(callbackIndex, 1);\r\n            }\r\n            if (callbacks.length == 0) {\r\n                this.#callbacks.delete(type);\r\n            }\r\n        }\r\n    }\r\n    dispatchEvent(event) {\r\n        ModelEventTargetAccessor.setTarget(event, this);\r\n        this.receiveEvent(event);\r\n    }\r\n}\r\nvar ModelEventTarget = ModelEventTargetBase;\r\nclass ModelNodeBase extends ModelEventTargetBase {\r\n    #parentNode;\r\n    #records;\r\n    #isRecording;\r\n    constructor() {\r\n        super();\r\n        this.#parentNode = null;\r\n        this.#records = [];\r\n        this.#isRecording = false;\r\n    }\r\n    get parentNode() {\r\n        return this.#parentNode;\r\n    }\r\n    setParent(parentNode) {\r\n        if (parentNode !== null) {\r\n            let isCyclicReference = parentNode == this;\r\n            let { parentNode: ancestorNode } = parentNode;\r\n            while (!isCyclicReference && ancestorNode !== null) {\r\n                ({ parentNode: ancestorNode } = ancestorNode);\r\n                isCyclicReference = ancestorNode == this;\r\n            }\r\n            if (!isCyclicReference) {\r\n                this.#parentNode = parentNode;\r\n            }\r\n            else {\r\n                throw new TypeError(\"Failed to set parent on ModelNode: circular reference detected in the hierarchy.\");\r\n            }\r\n        }\r\n        else {\r\n            this.#parentNode = null;\r\n        }\r\n    }\r\n    beginChanges() {\r\n        this.#isRecording = true;\r\n    }\r\n    endChanges() {\r\n        this.dispatchEvent(new ModelEvent(\"modelchange\"));\r\n        this.#records.splice(0);\r\n        this.#isRecording = false;\r\n    }\r\n    getRecords() {\r\n        return this.#records.slice();\r\n    }\r\n    receiveEvent(event) {\r\n        super.receiveEvent(event);\r\n        const { parentNode } = this;\r\n        if (parentNode) {\r\n            parentNode.receiveEvent(event);\r\n        }\r\n    }\r\n    #triggerChange(property, oldValue, newValue) {\r\n        const records = this.#records;\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.PROPERTY_CHANGE,\r\n            propertyName: property,\r\n            oldValue, newValue\r\n        });\r\n        records.push(record);\r\n        if (!this.#isRecording) {\r\n            this.dispatchEvent(new ModelEvent(\"modelchange\"));\r\n            records.splice(0);\r\n        }\r\n    }\r\n    #handleRecord(record) {\r\n        this.#records.push(record);\r\n        if (!this.#isRecording) {\r\n            this.dispatchEvent(new ModelEvent(\"modelchange\"));\r\n            this.#records.splice(0);\r\n        }\r\n    }\r\n    static ModelNodeRecordsAccessor = new class ModelNodeRecordsAccessor {\r\n        triggerChange(node, property, oldValue, newValue) {\r\n            if (node instanceof ModelNodeBase) {\r\n                node.#triggerChange(property, oldValue, newValue);\r\n            }\r\n        }\r\n        handleRecord(node, record) {\r\n            if (node instanceof ModelNodeBase) {\r\n                node.#handleRecord(record);\r\n            }\r\n        }\r\n    };\r\n}\r\nvar ModelNodeRecordsAccessor = ModelNodeBase.ModelNodeRecordsAccessor;\r\ndelete ModelNodeBase.ModelNodeRecordsAccessor;\r\nvar ModelNode = ModelNodeBase;\r\nconst ReactiveProperty = function () {\r\n    return (target, property) => {\r\n        const { constructor } = target;\r\n        const { prototype } = constructor;\r\n        const setter = function (value) {\r\n            const oldValue = ModelReactivePropertiesAccessor.getProperty(this, property);\r\n            ModelReactivePropertiesAccessor.setProperty(this, property, value);\r\n            if (value !== oldValue) {\r\n                ModelNodeRecordsAccessor.triggerChange(this, property, oldValue, value);\r\n            }\r\n            return true;\r\n        };\r\n        const getter = function () {\r\n            return ModelReactivePropertiesAccessor.getProperty(this, property);\r\n        };\r\n        Object.defineProperty(prototype, property, {\r\n            set: setter,\r\n            get: getter,\r\n            enumerable: true\r\n        });\r\n    };\r\n};\r\nclass ModelObjectBase extends ModelNodeBase {\r\n    #properties;\r\n    constructor() {\r\n        super();\r\n        this.#properties = new Map();\r\n    }\r\n    static ModelReactivePropertiesAccessor = new class ModelReactivePropertiesAccessor {\r\n        setProperty(node, property, value) {\r\n            if (node instanceof ModelObjectBase) {\r\n                node.#properties.set(property, value);\r\n            }\r\n        }\r\n        getProperty(node, property) {\r\n            if (node instanceof ModelObjectBase) {\r\n                return node.#properties.get(property);\r\n            }\r\n        }\r\n    };\r\n}\r\nvar ModelReactivePropertiesAccessor = ModelObjectBase.ModelReactivePropertiesAccessor;\r\ndelete ModelObjectBase.ModelReactivePropertiesAccessor;\r\nvar ModelObject = ModelObjectBase;\r\nclass ModelListBase extends ModelNodeBase {\r\n    #items;\r\n    constructor(items) {\r\n        super();\r\n        this.#items = items?.slice() ?? [];\r\n    }\r\n    setParent(parentNode) {\r\n        super.setParent(parentNode);\r\n        this.#items.forEach((item_i) => {\r\n            item_i.setParent(parentNode);\r\n        });\r\n    }\r\n    get length() {\r\n        return this.#items.length;\r\n    }\r\n    get(index) {\r\n        return this.#items[index] ?? null;\r\n    }\r\n    index(item) {\r\n        return this.#items.indexOf(item);\r\n    }\r\n    values() {\r\n        return this.#items.values();\r\n    }\r\n    sort(compareFunction) {\r\n        const items = this.#items;\r\n        const indexedItems = items.map((item_i, i) => {\r\n            return {\r\n                item: item_i,\r\n                index: i\r\n            };\r\n        });\r\n        indexedItems.sort((indexedItem_a, indexedItem_b) => {\r\n            return compareFunction(indexedItem_a.item, indexedItem_b.item);\r\n        });\r\n        this.#items = indexedItems.map(indexedItem_i => indexedItem_i.item);\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.LIST_SORT,\r\n            sortedIndices: indexedItems.map(indexedItem_i => indexedItem_i.index)\r\n        });\r\n        ModelNodeRecordsAccessor.handleRecord(this, record);\r\n    }\r\n    prepend(...items) {\r\n        const _items = this.#items;\r\n        const { parentNode } = this;\r\n        if (parentNode) {\r\n            items.forEach(item_i => {\r\n                item_i.setParent(parentNode);\r\n            });\r\n        }\r\n        _items.splice(0, 0, ...items);\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.LIST_INSERT,\r\n            insertedIndex: 0,\r\n            insertedItems: items\r\n        });\r\n        ModelNodeRecordsAccessor.handleRecord(this, record);\r\n    }\r\n    append(...items) {\r\n        const _items = this.#items;\r\n        const { length } = _items;\r\n        const { parentNode } = this;\r\n        if (parentNode) {\r\n            items.forEach(item_i => {\r\n                item_i.setParent(parentNode);\r\n            });\r\n        }\r\n        _items.push(...items);\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.LIST_INSERT,\r\n            insertedIndex: length,\r\n            insertedItems: items\r\n        });\r\n        ModelNodeRecordsAccessor.handleRecord(this, record);\r\n    }\r\n    insert(index, ...items) {\r\n        const _items = this.#items;\r\n        const { length } = _items;\r\n        const positiveIndex = Math.abs(index);\r\n        if (positiveIndex <= length) {\r\n            if (index >= 0) {\r\n                const { parentNode } = this;\r\n                items.forEach(item_i => {\r\n                    item_i.setParent(parentNode);\r\n                });\r\n                if (index < length) {\r\n                    _items.splice(index, 0, ...items);\r\n                }\r\n                else {\r\n                    _items.push(...items);\r\n                }\r\n            }\r\n            else if (index < 0) {\r\n                index = length - index;\r\n                const { parentNode } = this;\r\n                if (parentNode) {\r\n                    items.forEach(item_i => {\r\n                        item_i.setParent(parentNode);\r\n                    });\r\n                }\r\n                _items.splice(index, 0, ...items);\r\n            }\r\n            const record = new ModelChangeRecord({\r\n                target: this,\r\n                changeType: ModelChangeRecord.LIST_INSERT,\r\n                insertedIndex: index,\r\n                insertedItems: items.slice()\r\n            });\r\n            ModelNodeRecordsAccessor.handleRecord(this, record);\r\n        }\r\n    }\r\n    remove(item) {\r\n        const _items = this.#items;\r\n        const index = _items.indexOf(item);\r\n        if (index > -1) {\r\n            const item = _items.splice(index, 1)[0];\r\n            const { parentNode } = this;\r\n            if (parentNode) {\r\n                item.setParent(null);\r\n            }\r\n            const record = new ModelChangeRecord({\r\n                target: this,\r\n                changeType: ModelChangeRecord.LIST_REMOVE,\r\n                removedIndex: index,\r\n                removedItems: [item]\r\n            });\r\n            ModelNodeRecordsAccessor.handleRecord(this, record);\r\n        }\r\n    }\r\n    clear() {\r\n        const items = this.#items;\r\n        const { length } = items;\r\n        if (length > 0) {\r\n            const removedItems = items.splice(0);\r\n            const { parentNode } = this;\r\n            if (parentNode) {\r\n                removedItems.forEach((removedItem_i) => {\r\n                    removedItem_i.setParent(null);\r\n                });\r\n            }\r\n            const record = new ModelChangeRecord({\r\n                target: this,\r\n                changeType: ModelChangeRecord.LIST_REMOVE,\r\n                removedIndex: 0,\r\n                removedItems: removedItems\r\n            });\r\n            ModelNodeRecordsAccessor.handleRecord(this, record);\r\n        }\r\n    }\r\n}\r\n;\r\nvar ModelList = ModelListBase;\r\nclass ModelChangeObserverBase {\r\n    #callback;\r\n    #records;\r\n    #disconnected;\r\n    #references;\r\n    constructor(callback) {\r\n        this.#callback = callback;\r\n        this.#records = [];\r\n        this.#disconnected = false;\r\n        this.#references = new WeakMap();\r\n    }\r\n    observe(node, options) {\r\n        this.#disconnected = false;\r\n        const references = this.#references;\r\n        let reference = references.get(node);\r\n        if (!reference) {\r\n            const listener = this.#handleModelEvent.bind(this);\r\n            node.addEventListener(\"modelchange\", listener);\r\n            reference = { listener, options };\r\n            references.set(node, reference);\r\n        }\r\n        else {\r\n            references.set(node, reference);\r\n        }\r\n    }\r\n    unobserve(node) {\r\n        const references = this.#references;\r\n        let reference = references.get(node);\r\n        if (reference) {\r\n            const { listener } = reference;\r\n            node.removeEventListener(\"modelchange\", listener);\r\n        }\r\n    }\r\n    disconnect() {\r\n        this.#records.splice(0);\r\n        this.#disconnected = true;\r\n    }\r\n    #trigger() {\r\n        const records = this.#records.splice(0);\r\n        if (records.length > 0) {\r\n            this.#callback(records);\r\n        }\r\n    }\r\n    #handleModelEvent(event) {\r\n        if (!this.#disconnected) {\r\n            const { target, currentTarget } = event;\r\n            const reference = this.#references.get(currentTarget);\r\n            if (reference) {\r\n                const { options } = reference;\r\n                const { properties, propertiesFilter, childList, subtree } = options;\r\n                if (subtree) {\r\n                    if (properties && target instanceof ModelNode) {\r\n                        if (propertiesFilter) {\r\n                            this.#records.push(...target.getRecords()\r\n                                .filter(record_i => {\r\n                                const { propertyName } = record_i;\r\n                                return propertiesFilter.includes(propertyName);\r\n                            }));\r\n                        }\r\n                        else {\r\n                            this.#records.push(...target.getRecords());\r\n                        }\r\n                        this.#trigger();\r\n                    }\r\n                    else if (childList && target instanceof ModelList) {\r\n                        this.#records.push(...target.getRecords());\r\n                        this.#trigger();\r\n                    }\r\n                }\r\n                else if (target == currentTarget) {\r\n                    if (properties && target instanceof ModelNode) {\r\n                        if (propertiesFilter) {\r\n                            this.#records.push(...target.getRecords()\r\n                                .filter(record_i => {\r\n                                const { propertyName } = record_i;\r\n                                return propertiesFilter.includes(propertyName);\r\n                            }));\r\n                        }\r\n                        else {\r\n                            this.#records.push(...target.getRecords());\r\n                        }\r\n                        this.#trigger();\r\n                    }\r\n                    else if (childList && target instanceof ModelList) {\r\n                        this.#records.push(...target.getRecords());\r\n                        this.#trigger();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nvar ModelChangeObserver = ModelChangeObserverBase;\r\n//# sourceMappingURL=Model.js.map","export { snakeToCamel };\r\nexport { camelToSnake };\r\nexport { trainToCamel };\r\nexport { camelToTrain };\r\nfunction snakeToCamel(str) {\r\n    return str.split('_').map(str => str.charAt(0).toUpperCase() + str.substring(1).toLowerCase()).join(\"\");\r\n}\r\nfunction camelToSnake(str) {\r\n    return str.replace(/(?<!^)(?=[A-Z])/g, '_').toLowerCase();\r\n}\r\nfunction trainToCamel(str) {\r\n    return str.split('-').map(str => str.charAt(0).toUpperCase() + str.substring(1).toLowerCase()).join(\"\");\r\n}\r\nfunction camelToTrain(str) {\r\n    return str.replace(/(?<!^)(?=[A-Z])/g, '-').toLowerCase();\r\n}\r\n//# sourceMappingURL=Snippets.js.map","import { ModelChangeObserver } from \"../models/Model\";\r\nimport { camelToTrain } from \"./Snippets\";\r\nexport { CustomElement };\r\nexport { QueryProperty };\r\nexport { QueryAllProperty };\r\nexport { AttributeProperty };\r\nexport { reactiveElement };\r\nexport { revokeReactiveElement };\r\nexport { reactiveChildElements };\r\nexport { revokeReactiveChildElements };\r\nexport { element };\r\nexport { fragment };\r\nexport { textNode };\r\nexport { areAttributesMatching };\r\nexport { AttributeMutationMixinBase };\r\nexport { trimMultilineIndent };\r\nexport { Stylesheet };\r\nexport { reactiveElementsMap };\r\nconst AttributeProperty = function (init) {\r\n    return (target, property) => {\r\n        const { constructor } = target;\r\n        const { prototype } = constructor;\r\n        const propertyName = String(property);\r\n        const { defaultValue = null, observed = false, name = camelToTrain(propertyName) } = init;\r\n        if (observed) {\r\n            const observedAttributes = Reflect.get(constructor, \"observedAttributes\", constructor);\r\n            if (Array.isArray(observedAttributes)) {\r\n                observedAttributes.push(name);\r\n            }\r\n            else {\r\n                Object.defineProperty(constructor, \"observedAttributes\", {\r\n                    value: [name],\r\n                    writable: false\r\n                });\r\n            }\r\n        }\r\n        const { type } = init;\r\n        switch (type) {\r\n            case Boolean: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function () {\r\n                        return this.hasAttribute(name);\r\n                    },\r\n                    set: function (value) {\r\n                        if (value) {\r\n                            this.setAttribute(name, \"\");\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case Object: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function () {\r\n                        const val = this.getAttribute(name);\r\n                        return (val !== null) ? JSON.parse(val) : defaultValue;\r\n                    },\r\n                    set: function (value) {\r\n                        if (value !== null) {\r\n                            this.setAttribute(name, JSON.stringify(value));\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case Number: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function () {\r\n                        const val = this.getAttribute(name);\r\n                        return (val !== null) ? parseFloat(val) : defaultValue;\r\n                    },\r\n                    set: function (value) {\r\n                        if (value !== null) {\r\n                            this.setAttribute(name, value);\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case String:\r\n            default: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function () {\r\n                        const val = this.getAttribute(name);\r\n                        return (val !== null) ? val : defaultValue;\r\n                    },\r\n                    set: function (value) {\r\n                        if (value !== null) {\r\n                            this.setAttribute(name, value);\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n        }\r\n    };\r\n};\r\nfunction Stylesheet(text) {\r\n    const stylesheet = new CSSStyleSheet();\r\n    stylesheet.replaceSync(text);\r\n    return stylesheet;\r\n}\r\nfunction trimMultilineIndent(text) {\r\n    const newlineIndex = text.indexOf(\"\\n\");\r\n    text = text.substring(newlineIndex + 1);\r\n    const indentMatch = text.match(/^[\\s]*/);\r\n    if (indentMatch) {\r\n        const indent = text.substring(0, indentMatch[0].length);\r\n        text = text.replaceAll(indent, \"\").trimEnd();\r\n    }\r\n    return text;\r\n}\r\nconst CustomElement = function (init) {\r\n    return (elementCtor) => {\r\n        const { name, options } = init;\r\n        if (!customElements.get(name)) {\r\n            customElements.define(name, elementCtor, options);\r\n        }\r\n        return elementCtor;\r\n    };\r\n};\r\nconst QueryProperty = function (init) {\r\n    return (target, propertyKey) => {\r\n        const { constructor } = target;\r\n        const { prototype } = constructor;\r\n        const propertyName = String(propertyKey);\r\n        const { selector } = init;\r\n        const withinShadowRoot = init.withinShadowRoot ?? false;\r\n        const getter = withinShadowRoot ? function () {\r\n            return this.shadowRoot.querySelector(selector);\r\n        } : function () {\r\n            return this.querySelector(selector);\r\n        };\r\n        Object.defineProperty(prototype, propertyName, {\r\n            get: getter\r\n        });\r\n    };\r\n};\r\nconst QueryAllProperty = function (init) {\r\n    return (target, propertyKey) => {\r\n        const { constructor } = target;\r\n        const { prototype } = constructor;\r\n        const propertyName = String(propertyKey);\r\n        const { selector } = init;\r\n        const withinShadowRoot = init.withinShadowRoot ?? false;\r\n        const getter = withinShadowRoot ? function () {\r\n            return Array.from(this.shadowRoot.querySelectorAll(selector));\r\n        } : function () {\r\n            return Array.from(this.querySelectorAll(selector));\r\n        };\r\n        Object.defineProperty(prototype, propertyName, {\r\n            get: getter\r\n        });\r\n    };\r\n};\r\nfunction fragment(...nodes) {\r\n    const fragment = document.createDocumentFragment();\r\n    fragment.append(...nodes);\r\n    return fragment;\r\n}\r\nfunction textNode(text) {\r\n    return document.createTextNode(text);\r\n}\r\nfunction element(tagName, init) {\r\n    if (init) {\r\n        const { options, attributes, dataset, children, listeners } = init;\r\n        const element = document.createElement(tagName, options);\r\n        if (attributes) {\r\n            Object.entries(attributes).forEach(([attributeName, attributeValue]) => {\r\n                if (attributeValue !== undefined) {\r\n                    if (typeof attributeValue === \"boolean\") {\r\n                        element.toggleAttribute(camelToTrain(attributeName), attributeValue);\r\n                    }\r\n                    else {\r\n                        element.setAttribute(camelToTrain(attributeName), String(attributeValue));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (dataset) {\r\n            const { dataset: elementDataset } = element;\r\n            Object.entries(dataset).forEach(([attributeName, attributeValue]) => {\r\n                if (typeof attributeValue === \"boolean\") {\r\n                    if (attributeValue) {\r\n                        elementDataset[camelToTrain(attributeName)] = \"\";\r\n                    }\r\n                    else {\r\n                        delete elementDataset[camelToTrain(attributeName)];\r\n                    }\r\n                }\r\n                else {\r\n                    elementDataset[camelToTrain(attributeName)] = String(attributeValue);\r\n                }\r\n            });\r\n        }\r\n        if (children) {\r\n            if (typeof children === \"function\") {\r\n                children(element);\r\n            }\r\n            else if (typeof children === \"object\" && \"length\" in children) {\r\n                element.append(...Array.from(children));\r\n            }\r\n            else {\r\n                element.append(children);\r\n            }\r\n        }\r\n        if (listeners) {\r\n            Object.entries(listeners).forEach(([name_i, listener_i]) => {\r\n                if (Array.isArray(listener_i)) {\r\n                    element.addEventListener(name_i, listener_i[0], listener_i[1]);\r\n                }\r\n                else {\r\n                    element.addEventListener(name_i, listener_i);\r\n                }\r\n            });\r\n        }\r\n        return element;\r\n    }\r\n    return document.createElement(tagName);\r\n}\r\nconst reactiveElementsMap = new WeakMap();\r\nconst reactiveElementsFinalizationRegistry = new FinalizationRegistry((heldValue) => {\r\n    const { model, reactiveElement } = heldValue;\r\n    const reactiveElementsMapEntry = reactiveElementsMap.get(model);\r\n    if (reactiveElementsMapEntry !== undefined) {\r\n        const { reactiveElementsArray } = reactiveElementsMapEntry;\r\n        reactiveElementsArray.splice(reactiveElementsArray.indexOf(reactiveElement), 1);\r\n    }\r\n});\r\nconst reactiveElementsPropertyObserver = new ModelChangeObserver((records) => {\r\n    records.forEach((record_i) => {\r\n        const { target, propertyName, oldValue, newValue } = record_i;\r\n        const { reactiveElementsArray } = reactiveElementsMap.get(target);\r\n        reactiveElementsArray.forEach(reactiveElement_i => {\r\n            const { elementRef, react, properties } = reactiveElement_i;\r\n            const element = elementRef.deref();\r\n            if (element) {\r\n                if (properties.includes(propertyName)) {\r\n                    react(element, propertyName, oldValue, newValue);\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\nfunction reactiveElement(model, element, properties, react) {\r\n    const elementRef = new WeakRef(element);\r\n    const reactiveElement = { elementRef, react, properties };\r\n    const reactiveElementsMapEntry = reactiveElementsMap.get(model);\r\n    reactiveElementsFinalizationRegistry.register(element, { model, reactiveElement });\r\n    if (!reactiveElementsMapEntry) {\r\n        const observerOptions = {\r\n            properties: true,\r\n            propertiesFilter: properties\r\n        };\r\n        const reactiveElementsArray = [reactiveElement];\r\n        reactiveElementsMap.set(model, { observerOptions, reactiveElementsArray });\r\n        reactiveElementsPropertyObserver.observe(model, observerOptions);\r\n    }\r\n    else {\r\n        const { reactiveElementsArray, observerOptions } = reactiveElementsMapEntry;\r\n        const { propertiesFilter } = observerOptions;\r\n        reactiveElementsArray.push(reactiveElement);\r\n        observerOptions.propertiesFilter = propertiesFilter ?\r\n            propertiesFilter.concat(properties.filter(property_i => !propertiesFilter.includes(property_i))) : properties.filter((property_i, i, properties) => properties.indexOf(property_i) === i);\r\n    }\r\n    properties.forEach((property_i) => {\r\n        if (property_i in model) {\r\n            const value = Reflect.get(model, property_i, model);\r\n            react(element, property_i, undefined, value);\r\n        }\r\n    });\r\n    return element;\r\n}\r\nfunction revokeReactiveElement(model, element) {\r\n    const reactiveElementsMapEntry = reactiveElementsMap.get(model);\r\n    if (reactiveElementsMapEntry) {\r\n        const { reactiveElementsArray } = reactiveElementsMapEntry;\r\n        const reactiveElementIndex = reactiveElementsArray.findIndex(reactiveElement => reactiveElement.elementRef.deref() === element);\r\n        if (reactiveElementIndex > -1) {\r\n            reactiveElementsArray.splice(reactiveElementIndex, 1);\r\n        }\r\n        if (reactiveElementsArray.length === 0) {\r\n            reactiveElementsMap.delete(model);\r\n        }\r\n    }\r\n}\r\nconst reactiveChildElementsMap = new WeakMap();\r\nconst reactiveChildElementsFinalizationRegistry = new FinalizationRegistry((heldValue) => {\r\n    const { list, reactiveChildElement } = heldValue;\r\n    const reactiveChildrenElementsMapEntry = reactiveChildElementsMap.get(list);\r\n    if (reactiveChildrenElementsMapEntry) {\r\n        const { reactiveChildElementsArray } = reactiveChildrenElementsMapEntry;\r\n        reactiveChildElementsArray.splice(reactiveChildElementsArray.indexOf(reactiveChildElement), 1);\r\n    }\r\n});\r\nconst reactiveChildElementsObserver = new ModelChangeObserver((records) => {\r\n    let range = null;\r\n    Array.from(records.values()).forEach((record_i) => {\r\n        const { target } = record_i;\r\n        const list = target;\r\n        const { length: listLength } = list;\r\n        const { reactiveChildElementsArray } = reactiveChildElementsMap.get(list);\r\n        reactiveChildElementsArray.forEach((reactiveChildElements_i) => {\r\n            const { parentRef, mapping, placeholder } = reactiveChildElements_i;\r\n            const parent = parentRef.deref();\r\n            if (parent) {\r\n                const { firstChild, children } = parent;\r\n                const { length: childrenCount } = children;\r\n                if (placeholder && listLength > 0 && firstChild == placeholder) {\r\n                    parent.removeChild(placeholder);\r\n                }\r\n                const { changeType, LIST_INSERT, LIST_REMOVE, LIST_SORT } = record_i;\r\n                switch (changeType) {\r\n                    case LIST_INSERT: {\r\n                        const { insertedIndex, insertedItems } = record_i;\r\n                        const insertedItemsArray = Array.from(insertedItems.values()).map(mapping);\r\n                        const { length: childrenCount } = children;\r\n                        if (insertedIndex < childrenCount) {\r\n                            children[insertedIndex].before(...insertedItemsArray);\r\n                        }\r\n                        else {\r\n                            parent.append(...insertedItemsArray);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case LIST_REMOVE: {\r\n                        const { removedIndex, removedItems } = record_i;\r\n                        const { length: removedCount } = removedItems;\r\n                        range = range ?? document.createRange();\r\n                        const removeEndIndex = removedIndex + (removedCount - 1);\r\n                        if (removeEndIndex < childrenCount) {\r\n                            range.setStartBefore(children[removedIndex]);\r\n                            range.setEndAfter(children[removeEndIndex]);\r\n                            range.deleteContents();\r\n                        }\r\n                        break;\r\n                    }\r\n                    case LIST_SORT: {\r\n                        const { sortedIndices } = record_i;\r\n                        const childrenArray = Array.from(children);\r\n                        parent.append(...sortedIndices.filter(index_i => index_i < childrenCount).map(index_i => childrenArray[index_i]));\r\n                        break;\r\n                    }\r\n                }\r\n                if (listLength == 0 && placeholder) {\r\n                    parent.append(placeholder);\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\nfunction reactiveChildElements(list, mapping, placeholder) {\r\n    return (parent) => {\r\n        const parentRef = new WeakRef(parent);\r\n        const reactiveChildElementsMapEntry = reactiveChildElementsMap.get(list);\r\n        const reactiveChildElement = { parentRef, mapping, placeholder };\r\n        reactiveChildElementsFinalizationRegistry.register(parent, { list, reactiveChildElement });\r\n        if (!reactiveChildElementsMapEntry) {\r\n            const reactiveChildElementsArray = [reactiveChildElement];\r\n            reactiveChildElementsMap.set(list, { reactiveChildElementsArray });\r\n            reactiveChildElementsObserver.observe(list, {\r\n                childList: true\r\n            });\r\n        }\r\n        else {\r\n            const { reactiveChildElementsArray } = reactiveChildElementsMapEntry;\r\n            reactiveChildElementsArray.push(reactiveChildElement);\r\n        }\r\n        const children = list.length == 0 && placeholder ?\r\n            [placeholder] : Array.from(list.values()).map(mapping);\r\n        parent.replaceChildren(...children);\r\n    };\r\n}\r\nfunction revokeReactiveChildElements(list, parent) {\r\n    const reactiveChildElementsMapEntry = reactiveChildElementsMap.get(list);\r\n    if (reactiveChildElementsMapEntry) {\r\n        const { reactiveChildElementsArray } = reactiveChildElementsMapEntry;\r\n        const reactiveChildElementsIndex = reactiveChildElementsArray.findIndex(reactiveChildElement => reactiveChildElement.parentRef.deref() === parent);\r\n        if (reactiveChildElementsIndex > -1) {\r\n            reactiveChildElementsArray.splice(reactiveChildElementsIndex, 1);\r\n        }\r\n        if (reactiveChildElementsArray.length === 0) {\r\n            reactiveChildElementsMap.delete(list);\r\n        }\r\n    }\r\n}\r\nfunction areAttributesMatching(referenceAttributeType, referenceAttributeName, referenceAttributeValue, attributeName, attributeValue) {\r\n    if (referenceAttributeName == attributeName) {\r\n        switch (referenceAttributeType) {\r\n            case \"boolean\":\r\n                return referenceAttributeValue == \"\" && attributeValue == \"\";\r\n            case \"string\":\r\n                return referenceAttributeValue !== \"\" && (referenceAttributeValue == attributeValue);\r\n            case \"list\":\r\n                return (referenceAttributeValue !== \"\" && attributeValue !== null) && new RegExp(`${referenceAttributeValue}\\s*?`, \"g\").test(attributeValue);\r\n        }\r\n    }\r\n    return false;\r\n}\r\nclass AttributeMutationMixinBase {\r\n    attributeName;\r\n    attributeValue;\r\n    attributeType;\r\n    constructor(attributeName, attributeType = \"boolean\", attributeValue = \"\") {\r\n        this.attributeName = attributeName;\r\n        this.attributeType = attributeType;\r\n        this.attributeValue = attributeValue;\r\n    }\r\n    attach() {\r\n        throw new TypeError(\"Not implemented method.\");\r\n    }\r\n    detach() {\r\n        throw new TypeError(\"Not implemented method.\");\r\n    }\r\n}\r\n//# sourceMappingURL=Element.js.map","export { View };\r\nclass ViewBase extends HTMLElement {\r\n    #model;\r\n    constructor() {\r\n        super();\r\n        this.#model = null;\r\n    }\r\n    get model() {\r\n        return this.#model;\r\n    }\r\n    setModel(model) {\r\n        if (model !== this.#model) {\r\n            this.#model = model;\r\n        }\r\n    }\r\n    renderLight() {\r\n        return;\r\n    }\r\n    renderShadow() {\r\n        return;\r\n    }\r\n    render() {\r\n        const { shadowRoot } = this;\r\n        if (shadowRoot !== null) {\r\n            const shadow = this.renderShadow();\r\n            if (shadow) {\r\n                shadowRoot.replaceChildren(shadow);\r\n            }\r\n        }\r\n        const light = this.renderLight();\r\n        if (light) {\r\n            this.replaceChildren(light);\r\n        }\r\n    }\r\n}\r\nvar View = ViewBase;\r\n//# sourceMappingURL=View.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport DEFAULT_THEME_ARROW_RIGHT_IMAGE from \"../../assets/arrow_right_FILL0_wght400_GRAD0_opsz48.svg\";\r\nimport DEFAULT_THEME_ARROW_DROPDOWN_IMAGE from \"../../assets/arrow_drop_down_FILL0_wght400_GRAD0_opsz48.svg\";\r\nimport DEFAULT_THEME_ARROW_DROPUP_IMAGE from \"../../assets/arrow_drop_up_FILL0_wght400_GRAD0_opsz48.svg\";\r\nimport DEFAULT_THEME_CHECKED_IMAGE from \"../../assets/done_FILL0_wght400_GRAD0_opsz48.svg\";\r\nimport openSansTtf from \"../../assets/fonts/Open_Sans/OpenSans-VariableFont_wdth,wght.ttf\";\r\nimport { ModelObject, ReactiveProperty } from \"../models/Model\";\r\nexport { theme };\r\nexport { DEFAULT_THEME_HOVERED_ITEM_COLOR };\r\nexport { DEFAULT_THEME_FOCUSED_ITEM_COLOR };\r\nexport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR };\r\nexport { DEFAULT_THEME_SELECTED_ITEM_COLOR };\r\nexport { DEFAULT_THEME_ACTIVATED_ITEM_COLOR };\r\nexport { DEFAULT_THEME_DROPTARGET_ITEM_COLOR };\r\nexport { DEFAULT_THEME_ARROW_RIGHT_IMAGE };\r\nexport { DEFAULT_THEME_ARROW_DROPDOWN_IMAGE };\r\nexport { DEFAULT_THEME_ARROW_DROPUP_IMAGE };\r\nexport { DEFAULT_THEME_CHECKED_IMAGE };\r\nconst DEFAULT_THEME_TINT = 203;\r\nconst DEFAULT_THEME_ACCENT_COLOR = `hsl(var(--theme-tint, ${DEFAULT_THEME_TINT}), 92%, 50%, 50%)`;\r\nconst DEFAULT_THEME_HOVERED_ITEM_COLOR = `hsl(var(--theme-tint, ${DEFAULT_THEME_TINT}), 92%, 80%, 50%)`;\r\nconst DEFAULT_THEME_FOCUSED_ITEM_COLOR = `hsl(var(--theme-tint, ${DEFAULT_THEME_TINT}), 92%, 50%, 50%)`;\r\nconst DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR = `hsl(var(--theme-tint, ${DEFAULT_THEME_TINT}), 92%, 50%)`;\r\nconst DEFAULT_THEME_SELECTED_ITEM_COLOR = `hsl(var(--theme-tint, ${DEFAULT_THEME_TINT}), 92%, 75%, 75%)`;\r\nconst DEFAULT_THEME_ACTIVATED_ITEM_COLOR = `hsl(var(--theme-tint, ${DEFAULT_THEME_TINT}), 92%, 50%, 50%)`;\r\nconst DEFAULT_THEME_DROPTARGET_ITEM_COLOR = `hsl(var(--theme-tint, ${DEFAULT_THEME_TINT}), 92%, 50%, 50%)`;\r\nclass Theme extends ModelObject {\r\n    stylesheet;\r\n    images() {\r\n        return new Map([\r\n            [\"checkedImage\", this.checkedImage],\r\n            [\"arrowRightImage\", this.arrowRightImage],\r\n            [\"arrowDropDownImage\", this.arrowDropDownImage],\r\n            [\"arrowDropUpImage\", this.arrowDropUpImage],\r\n        ]);\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.stylesheet = new CSSStyleSheet();\r\n        this.stylesheet.replace(/*css*/ `\r\n            :root {\r\n                --theme-accent-color: ${DEFAULT_THEME_ACCENT_COLOR};\r\n                --theme-hovered-item-color: ${DEFAULT_THEME_HOVERED_ITEM_COLOR};\r\n                --theme-focused-item-color: ${DEFAULT_THEME_FOCUSED_ITEM_COLOR};\r\n                --theme-focused-item-outline-color: ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR};\r\n                --theme-selected-item-color: ${DEFAULT_THEME_SELECTED_ITEM_COLOR};\r\n                --theme-activated-item-color: ${DEFAULT_THEME_ACTIVATED_ITEM_COLOR};\r\n                --theme-droptarget-item-color: ${DEFAULT_THEME_DROPTARGET_ITEM_COLOR};\r\n\r\n                --theme-tint: ${DEFAULT_THEME_TINT};\r\n                --theme-arrow-right-image: url(${DEFAULT_THEME_ARROW_RIGHT_IMAGE});\r\n                --theme-arrow-dropdown-image: url(${DEFAULT_THEME_ARROW_DROPDOWN_IMAGE});\r\n                --theme-arrow-dropup-image: url(${DEFAULT_THEME_ARROW_DROPUP_IMAGE});\r\n                --theme-checked-image: url(${DEFAULT_THEME_ARROW_DROPDOWN_IMAGE});\r\n\r\n                --theme-arrow-color: var(--font-color);\r\n                --theme-arrow-icon-collapsed: var(--arrow-right);\r\n                --theme-arrow-icon-expanded: var(--arrow-dropdown);\r\n\r\n                --theme-sortorder-indicator-color: var(--font-color);\r\n                --theme-sortorder-indicator-ascending: var(--arrow-dropup);\r\n                --theme-sortorder-indicator-descending: var(--arrow-dropdown);\r\n            }\r\n            \r\n            @font-face {\r\n                font-family: \"Open Sans\";\r\n                src: url(${openSansTtf}) format(\"truetype\")\r\n            }\r\n\r\n            :root {\r\n                font-size: 10px;\r\n                font-family: \"Open Sans\";\r\n                accent-color: var(--theme-accent-color);\r\n            }\r\n\r\n            ::selection {\r\n                background-color: var(--theme-selected-item-color);\r\n            }\r\n        `);\r\n        this.addEventListener(\"modelchange\", this.#handleModelChangeEvent.bind(this));\r\n        this.tint = DEFAULT_THEME_TINT;\r\n        this.arrowRightImage = DEFAULT_THEME_ARROW_RIGHT_IMAGE;\r\n        this.arrowDropDownImage = DEFAULT_THEME_ARROW_DROPDOWN_IMAGE;\r\n        this.arrowDropUpImage = DEFAULT_THEME_ARROW_DROPUP_IMAGE;\r\n        this.checkedImage = DEFAULT_THEME_ARROW_DROPDOWN_IMAGE;\r\n    }\r\n    #handleModelChangeEvent() {\r\n        const { stylesheet } = this;\r\n        const variablesMap = stylesheet.cssRules[0].styleMap;\r\n        const records = this.getRecords();\r\n        records.forEach((record) => {\r\n            const { propertyName, newValue } = record;\r\n            switch (propertyName) {\r\n                case \"tint\": {\r\n                    variablesMap.set(\"--theme-tint\", String(newValue));\r\n                    break;\r\n                }\r\n                case \"checkedImage\": {\r\n                    variablesMap.set(\"--theme-checked-image\", `url(${String(newValue)})`);\r\n                    break;\r\n                }\r\n                case \"arrowRightImage\": {\r\n                    variablesMap.set(\"--theme-arrow-right-image\", `url(${String(newValue)})`);\r\n                    break;\r\n                }\r\n                case \"arrowDropDown\": {\r\n                    variablesMap.set(\"--theme-arrow-dropdown-image\", `url(${String(newValue)})`);\r\n                    break;\r\n                }\r\n                case \"arrowDropUp\": {\r\n                    variablesMap.set(\"--theme-arrow-dropup-image\", `url(${String(newValue)})`);\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n__decorate([\r\n    ReactiveProperty()\r\n], Theme.prototype, \"tint\", void 0);\r\n__decorate([\r\n    ReactiveProperty()\r\n], Theme.prototype, \"checkedImage\", void 0);\r\n__decorate([\r\n    ReactiveProperty()\r\n], Theme.prototype, \"arrowRightImage\", void 0);\r\n__decorate([\r\n    ReactiveProperty()\r\n], Theme.prototype, \"arrowDropDownImage\", void 0);\r\n__decorate([\r\n    ReactiveProperty()\r\n], Theme.prototype, \"arrowDropUpImage\", void 0);\r\nconst theme = new Theme();\r\n//# sourceMappingURL=Theme.js.map","import { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR, DEFAULT_THEME_SELECTED_ITEM_COLOR, DEFAULT_THEME_HOVERED_ITEM_COLOR, DEFAULT_THEME_FOCUSED_ITEM_COLOR } from \"./Theme\";\r\nexport { resetStylesheet };\r\nconst resetStylesheet = new CSSStyleSheet();\r\nresetStylesheet.replace(/*css*/ `\r\n    \r\n    html.fullscreen,\r\n    html.fullscreen > body {\r\n        height: 100%;\r\n    }\r\n\r\n    dialog {\r\n        overflow: visible;\r\n    }\r\n\r\n    body {\r\n        font-size: 13px;\r\n        margin: 0;\r\n    }\r\n\r\n    ::backdrop {\r\n        background-color: rgba(120, 120, 120, 0.2);\r\n    }\r\n\r\n    ::selection {\r\n        background-color: ${DEFAULT_THEME_SELECTED_ITEM_COLOR};\r\n    }\r\n    \r\n    input,\r\n    output,\r\n    button,\r\n    select,\r\n    textarea {\r\n        margin: 0;\r\n        font-family: inherit;\r\n        font-size: inherit;\r\n        box-sizing: content-box;\r\n    }\r\n\r\n    dialog {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    input {\r\n        border: 1px solid grey;\r\n    }\r\n\r\n    legend {\r\n        padding: 0 6px;\r\n    }\r\n\r\n    select,\r\n    progress {\r\n        height: 22px;\r\n    }\r\n\r\n    input {\r\n        height: 18px;\r\n    }\r\n\r\n    input:is([type=\"radio\"], [type=\"checkbox\"]) {\r\n        width: 18px; \r\n    }\r\n\r\n    input[type=\"color\" i] {\r\n        border: none;\r\n        padding: 0;\r\n    }\r\n\r\n    ::-webkit-color-swatch {\r\n        border: none;\r\n    }\r\n\r\n    ::-webkit-color-swatch-wrapper {\r\n        padding: 0;\r\n    }\r\n\r\n    ::-webkit-search-cancel-button {\r\n        appearance: none;\r\n    }\r\n\r\n    dialog,\r\n    fieldset {\r\n        padding: 8px;\r\n        border: 1px solid lightgrey;\r\n    }\r\n\r\n    button[type=\"submit\"] {\r\n        border-width: 2px;\r\n    }\r\n\r\n    button:hover {\r\n        background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n    }\r\n\r\n    button:not([aria-pressed]):focus,\r\n    button[aria-pressed=\"true\"] {\r\n        background-color: var(--theme-focused-item-color, ${DEFAULT_THEME_FOCUSED_ITEM_COLOR});\r\n    }\r\n\r\n    button {\r\n        height: 18px;\r\n        appearance: none;\r\n        background: none;\r\n        border: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n    }\r\n\r\n    table {\r\n        border-spacing: 0;\r\n    }\r\n\r\n    ul {\r\n        padding: 0;\r\n        margin: 0;\r\n    }\r\n`);\r\n//# sourceMappingURL=Reset.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_SELECTED_ITEM_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { AttributeProperty, CustomElement } from \"../../Element\";\r\nexport { HTMLEHeightSashElement };\r\nvar style;\r\nlet HTMLEHeightSashElementBase = class HTMLEHeightSashElementBase extends HTMLElement {\r\n    get target() {\r\n        return this.#target;\r\n    }\r\n    static {\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n                background-color: var(--theme-selected-item-color, ${DEFAULT_THEME_SELECTED_ITEM_COLOR});\r\n                transition-property: opacity;\r\n                transition-delay: 0.2s;\r\n                transition-duration: 0.2s;\r\n                transition-timing-function: ease-out;\r\n                \r\n                height: 2px;\r\n                cursor: ns-resize;\r\n            }\r\n        `;\r\n    }\r\n    #target;\r\n    #onCapture;\r\n    #queuedPointerCallback;\r\n    #pointerMovement;\r\n    constructor() {\r\n        super();\r\n        this.#target = null;\r\n        this.#queuedPointerCallback = null;\r\n        this.#pointerMovement = 0;\r\n        this.#onCapture = false;\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        this.addEventListener(\"pointerdown\", this.#handlePointerDownEvent.bind(this));\r\n        this.addEventListener(\"pointermove\", this.#handlePointerMoveEvent.bind(this));\r\n        this.addEventListener(\"pointerup\", this.#handlePointerUpEvent.bind(this));\r\n    }\r\n    #pointerMoveCallback() {\r\n        const target = this.#target;\r\n        if (target !== null) {\r\n            const targetComputedStyle = window.getComputedStyle(target);\r\n            const { style } = target;\r\n            const { growdir } = this;\r\n            const movementY = this.#pointerMovement;\r\n            const height = parseFloat(targetComputedStyle.getPropertyValue(\"height\"));\r\n            const newHeight = Math.trunc(height + (growdir == \"top\" ? -1 : 1) * movementY);\r\n            style.setProperty(\"height\", `${newHeight}px`);\r\n            const computedNewHeight = parseFloat(targetComputedStyle.getPropertyValue(\"height\"));\r\n            style.setProperty(\"height\", `${computedNewHeight}px`);\r\n            this.dispatchEvent(new Event(\"resize\"));\r\n        }\r\n        this.#queuedPointerCallback = null;\r\n    }\r\n    #handlePointerDownEvent(event) {\r\n        const { pointerId } = event;\r\n        const { controls } = this;\r\n        const rootNode = this.getRootNode();\r\n        this.#target = rootNode.getElementById(controls);\r\n        this.setPointerCapture(pointerId);\r\n        this.#onCapture = true;\r\n    }\r\n    #handlePointerMoveEvent(event) {\r\n        if (this.#onCapture) {\r\n            if (this.#queuedPointerCallback == null) {\r\n                this.#pointerMovement = event.movementY;\r\n                this.#queuedPointerCallback = this.#pointerMoveCallback.bind(this);\r\n                requestAnimationFrame(this.#queuedPointerCallback);\r\n            }\r\n            else {\r\n                this.#pointerMovement += event.movementY;\r\n            }\r\n        }\r\n    }\r\n    #handlePointerUpEvent(event) {\r\n        const { pointerId } = event;\r\n        this.releasePointerCapture(pointerId);\r\n        this.#onCapture = false;\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEHeightSashElementBase.prototype, \"controls\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"top\" })\r\n], HTMLEHeightSashElementBase.prototype, \"growdir\", void 0);\r\nHTMLEHeightSashElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-hsash\"\r\n    })\r\n], HTMLEHeightSashElementBase);\r\nvar HTMLEHeightSashElement = HTMLEHeightSashElementBase;\r\n//# sourceMappingURL=HeightSash.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_SELECTED_ITEM_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty } from \"../../Element\";\r\nexport { HTMLEWidthSashElement };\r\nvar style;\r\nlet HTMLEWidthSashElementBase = class HTMLEWidthSashElementBase extends HTMLElement {\r\n    get target() {\r\n        return this.#target;\r\n    }\r\n    #target;\r\n    #onCapture;\r\n    #queuedPointerCallback;\r\n    #pointerMovement;\r\n    static {\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n                background-color: var(--theme-selected-item-color, ${DEFAULT_THEME_SELECTED_ITEM_COLOR});\r\n                transition-property: opacity;\r\n                transition-delay: 0.2s;\r\n                transition-duration: 0.2s;\r\n                transition-timing-function: ease-out;\r\n                \r\n                width: 2px;\r\n                cursor: ew-resize;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.#target = null;\r\n        this.#queuedPointerCallback = null;\r\n        this.#pointerMovement = 0;\r\n        this.#onCapture = false;\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        this.addEventListener(\"pointerdown\", this.#handlePointerDownEvent.bind(this));\r\n        this.addEventListener(\"pointermove\", this.#handlePointerMoveEvent.bind(this));\r\n        this.addEventListener(\"pointerup\", this.#handlePointerUpEvent.bind(this));\r\n    }\r\n    setWidth(width) {\r\n        const target = this.#target;\r\n        if (target !== null) {\r\n            const { max } = this;\r\n            const { style } = target;\r\n            style.setProperty(\"width\", `${width}px`);\r\n            if (max) {\r\n                style.setProperty(\"max-width\", `${width}px`);\r\n            }\r\n        }\r\n    }\r\n    #pointerMoveCallback() {\r\n        const target = this.#target;\r\n        if (target !== null) {\r\n            const targetComputedStyle = window.getComputedStyle(target);\r\n            const { growdir } = this;\r\n            const movementX = this.#pointerMovement;\r\n            const width = parseFloat(targetComputedStyle.getPropertyValue(\"width\"));\r\n            const newWidth = width + (growdir == \"right\" ? 1 : -1) * movementX;\r\n            this.setWidth(newWidth);\r\n            this.dispatchEvent(new Event(\"resize\"));\r\n        }\r\n        this.#pointerMovement = 0;\r\n        this.#queuedPointerCallback = null;\r\n    }\r\n    #handlePointerDownEvent(event) {\r\n        const { pointerId } = event;\r\n        const { controls } = this;\r\n        const rootNode = this.getRootNode();\r\n        this.#target = rootNode.getElementById(controls);\r\n        this.setPointerCapture(pointerId);\r\n        this.#onCapture = true;\r\n    }\r\n    #handlePointerMoveEvent(event) {\r\n        if (this.#onCapture) {\r\n            if (this.#queuedPointerCallback == null) {\r\n                this.#queuedPointerCallback = this.#pointerMoveCallback.bind(this);\r\n                requestAnimationFrame(this.#queuedPointerCallback);\r\n            }\r\n            this.#pointerMovement += event.movementX;\r\n        }\r\n    }\r\n    #handlePointerUpEvent(event) {\r\n        const { pointerId } = event;\r\n        this.releasePointerCapture(pointerId);\r\n        this.#onCapture = false;\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEWidthSashElementBase.prototype, \"controls\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"right\" })\r\n], HTMLEWidthSashElementBase.prototype, \"growdir\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEWidthSashElementBase.prototype, \"max\", void 0);\r\nHTMLEWidthSashElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-wsash\"\r\n    })\r\n], HTMLEWidthSashElementBase);\r\nvar HTMLEWidthSashElement = HTMLEWidthSashElementBase;\r\n//# sourceMappingURL=WidthSash.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_COLOR, DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR, DEFAULT_THEME_HOVERED_ITEM_COLOR, DEFAULT_THEME_SELECTED_ITEM_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, element, AttributeProperty } from \"../../Element\";\r\nexport { HTMLEGridCellElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEGridCellElementBase = class HTMLEGridCellElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: table-cell;\r\n                text-align: left;\r\n            }\r\n            \r\n            :host([type=\"columnheader\"]:hover) {\r\n                background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host(:hover):host-context(e-grid:is(:not([selectby]), [selectby=\"cell\"])) {\r\n                background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host([type=\"columnheader\"][active]) {\r\n                background-color: var(--theme-focused-item-color, ${DEFAULT_THEME_FOCUSED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host([active]):host-context(e-grid:focus-within:is(:not([selectby]), [selectby=\"cell\"])) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n            \r\n            :host([selected]):host-context(e-grid:is(:not([selectby]), [selectby=\"cell\"])) {\r\n                background-color: var(--theme-selected-item-color, ${DEFAULT_THEME_SELECTED_ITEM_COLOR});\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridCellElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridCellElementBase.prototype, \"headers\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridCellElementBase.prototype, \"type\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number })\r\n], HTMLEGridCellElementBase.prototype, \"posinset\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridCellElementBase.prototype, \"droptarget\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridCellElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEGridCellElementBase.prototype, \"selected\", void 0);\r\nHTMLEGridCellElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridcell\"\r\n    })\r\n], HTMLEGridCellElementBase);\r\nvar HTMLEGridCellElement = HTMLEGridCellElementBase;\r\n//# sourceMappingURL=GridCell.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR, DEFAULT_THEME_HOVERED_ITEM_COLOR, DEFAULT_THEME_SELECTED_ITEM_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { AttributeProperty, CustomElement, element } from \"../../Element\";\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nimport \"./GridCell\";\r\nexport { HTMLEGridRowElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEGridRowElementBase = class HTMLEGridRowElementBase extends HTMLElement {\r\n    cells() {\r\n        return Array.from(this.querySelectorAll(\"e-gridcell\"));\r\n    }\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: table-row;\r\n            }\r\n            \r\n            :host(:hover):host-context(e-grid:is([selectby=\"row\"])) {\r\n                background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host([active]):host-context(e-grid:focus-within:is([selectby=\"row\"])) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n            \r\n            :host([selected]):host-context(e-grid:is([selectby=\"row\"])) {\r\n                background-color: var(--theme-selected-item-color, ${DEFAULT_THEME_SELECTED_ITEM_COLOR});\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", this.#handleSlotChangeEvent.bind(this));\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handleSlotChangeEvent(event) {\r\n        const { target } = event;\r\n        const assignedCells = target\r\n            .assignedElements()\r\n            .filter(element_i => element_i instanceof HTMLEGridCellElement);\r\n        assignedCells.forEach((cell_i, i) => {\r\n            cell_i.posinset = i;\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridRowElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridRowElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridRowElementBase.prototype, \"selected\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number })\r\n], HTMLEGridRowElementBase.prototype, \"posinset\", void 0);\r\nHTMLEGridRowElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridrow\"\r\n    })\r\n], HTMLEGridRowElementBase);\r\nvar HTMLEGridRowElement = HTMLEGridRowElementBase;\r\n//# sourceMappingURL=GridRow.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nimport \"./GridRow\";\r\nimport \"./GridCell\";\r\nexport { HTMLEGridBodyElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEGridBodyElementBase = class HTMLEGridBodyElementBase extends HTMLElement {\r\n    cells() {\r\n        return Array.from(this.querySelectorAll(\"e-gridcell\"));\r\n    }\r\n    rows() {\r\n        return Array.from(this.querySelectorAll(\"e-gridrow\"));\r\n    }\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: table-row-group;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", this.#handleSlotChangeEvent.bind(this));\r\n    }\r\n    #handleSlotChangeEvent(event) {\r\n        const { target } = event;\r\n        const assignedItems = target\r\n            .assignedElements()\r\n            .filter(element_i => element_i instanceof HTMLEGridCellElement);\r\n        assignedItems.forEach((item_i, i) => {\r\n            item_i.posinset = i;\r\n        });\r\n    }\r\n};\r\nHTMLEGridBodyElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridbody\"\r\n    })\r\n], HTMLEGridBodyElementBase);\r\nvar HTMLEGridBodyElement = HTMLEGridBodyElementBase;\r\n//# sourceMappingURL=GridBody.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nimport \"./GridRow\";\r\nimport \"./GridCell\";\r\nexport { HTMLEGridHeadElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEGridHeadElementBase = class HTMLEGridHeadElementBase extends HTMLElement {\r\n    cells() {\r\n        return Array.from(this.querySelectorAll(\"e-gridcell\"));\r\n    }\r\n    rows() {\r\n        return Array.from(this.querySelectorAll(\"e-gridrow\"));\r\n    }\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: table-header-group;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", this.#handleSlotChangeEvent.bind(this));\r\n    }\r\n    #handleSlotChangeEvent(event) {\r\n        const { target } = event;\r\n        const assignedItems = target\r\n            .assignedElements()\r\n            .filter(element_i => element_i instanceof HTMLEGridCellElement);\r\n        assignedItems.forEach((item_i, i) => {\r\n            item_i.posinset = i;\r\n        });\r\n    }\r\n};\r\nHTMLEGridHeadElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridhead\"\r\n    })\r\n], HTMLEGridHeadElementBase);\r\nvar HTMLEGridHeadElement = HTMLEGridHeadElementBase;\r\n//# sourceMappingURL=GridHead.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLEGridRowElement } from \"./GridRow\";\r\nimport \"./GridRow\";\r\nexport { HTMLEGridRowGroupElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEGridRowGroupElementBase = class HTMLEGridRowGroupElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: table-row-group;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", this.#handleSlotChangeEvent.bind(this));\r\n    }\r\n    #handleSlotChangeEvent(event) {\r\n        const { target } = event;\r\n        const assignedItems = target\r\n            .assignedElements()\r\n            .filter(element_i => element_i instanceof HTMLEGridRowElement);\r\n        assignedItems.forEach((item_i, i) => {\r\n            item_i.posinset = i;\r\n        });\r\n    }\r\n};\r\nHTMLEGridRowGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridrowgroup\"\r\n    })\r\n], HTMLEGridRowGroupElementBase);\r\nvar HTMLEGridRowGroupElement = HTMLEGridRowGroupElementBase;\r\n//# sourceMappingURL=GridRowGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEGridBodyElement } from \"./GridBody\";\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nimport { HTMLEGridHeadElement } from \"./GridHead\";\r\nimport { HTMLEGridRowElement } from \"./GridRow\";\r\nimport { HTMLEGridRowGroupElement } from \"./GridRowGroup\";\r\nimport \"./GridBody\";\r\nimport \"./GridHead\";\r\nimport \"./GridRowGroup\";\r\nimport \"./GridRow\";\r\nimport \"./GridCell\";\r\nexport { HTMLEGridElement };\r\nHTMLEGridHeadElement;\r\nHTMLEGridBodyElement;\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEGridElementBase = class HTMLEGridElementBase extends HTMLElement {\r\n    cells() {\r\n        return Array.from(this.querySelectorAll(\"e-gridcell\"));\r\n    }\r\n    rows() {\r\n        return Array.from(this.querySelectorAll(\"e-gridrow\"));\r\n    }\r\n    get activeCell() {\r\n        return this.querySelector(\"e-gridcell[active]\");\r\n    }\r\n    get activeRow() {\r\n        return this.querySelector(\"e-gridrow[active]\");\r\n    }\r\n    get body() {\r\n        return this.querySelector(\":scope > e-gridbody\");\r\n    }\r\n    get head() {\r\n        return this.querySelector(\":scope > e-gridhead\");\r\n    }\r\n    #onSelection;\r\n    #hasSelectionChanged;\r\n    #cellsWalker;\r\n    #rowsWalker;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: table;\r\n                user-select: none;\r\n                line-height: 22px;\r\n            }\r\n            \r\n            :host(:focus) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.#cellsWalker = document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, this.#cellsWalkerNodeFilter.bind(this));\r\n        this.#rowsWalker = document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, this.#rowsWalkerNodeFilter.bind(this));\r\n        this.#onSelection = false;\r\n        this.#hasSelectionChanged = false;\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"click\", this.#handleClickEvent.bind(this));\r\n        this.addEventListener(\"contextmenu\", this.#handleContextMenuEvent.bind(this));\r\n        this.addEventListener(\"dblclick\", this.#handleDblClickEvent.bind(this));\r\n        this.addEventListener(\"focus\", this.#handleFocusEvent.bind(this));\r\n        this.addEventListener(\"focusin\", this.#handleFocusInEvent.bind(this));\r\n        this.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n        this.addEventListener(\"select\", this.#handleSelectEvent.bind(this));\r\n        shadowRoot.addEventListener(\"slotchange\", this.#handleSlotChangeEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    beginSelection() {\r\n        this.#onSelection = true;\r\n    }\r\n    endSelection() {\r\n        this.#onSelection = false;\r\n        if (this.#hasSelectionChanged) {\r\n            this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n            this.#hasSelectionChanged = false;\r\n        }\r\n    }\r\n    clearSelection() {\r\n        this.#clearCellsSelection();\r\n        this.#clearRowsSelection();\r\n    }\r\n    selectedCells() {\r\n        return Array.from(this.querySelectorAll(\"e-gridcell[selected]\"));\r\n    }\r\n    selectedRows() {\r\n        return Array.from(this.querySelectorAll(\"e-gridrow[selected]\"));\r\n    }\r\n    #cellsWalkerNodeFilter(node) {\r\n        if (node instanceof HTMLEGridCellElement && !node.hidden) {\r\n            return NodeFilter.FILTER_ACCEPT;\r\n        }\r\n        if (node instanceof HTMLEGridBodyElement || node instanceof HTMLEGridRowGroupElement || node instanceof HTMLEGridRowElement) {\r\n            return NodeFilter.FILTER_SKIP;\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    }\r\n    #rowsWalkerNodeFilter(node) {\r\n        if (node instanceof HTMLEGridRowElement && !node.hidden) {\r\n            return NodeFilter.FILTER_ACCEPT;\r\n        }\r\n        if (node instanceof HTMLEGridBodyElement || node instanceof HTMLEGridRowGroupElement) {\r\n            return NodeFilter.FILTER_SKIP;\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    }\r\n    #getCellsRange(from, to) {\r\n        const cells = Array.from(this.cells());\r\n        const fromIndex = cells.indexOf(from);\r\n        const toIndex = cells.indexOf(to);\r\n        if (fromIndex > -1 && toIndex > -1) {\r\n            if (from == to) {\r\n                return [from];\r\n            }\r\n            return cells.slice(Math.min(fromIndex, toIndex), Math.max(fromIndex, toIndex) + 1);\r\n        }\r\n        return [];\r\n    }\r\n    #getRowsRange(from, to) {\r\n        if (from == to) {\r\n            return [from];\r\n        }\r\n        const position = from.compareDocumentPosition(to);\r\n        if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n            const range = [from];\r\n            let nextVisibleRow = this.#nextRow(from);\r\n            while (nextVisibleRow && nextVisibleRow !== to) {\r\n                range.push(nextVisibleRow);\r\n                nextVisibleRow = this.#nextRow(nextVisibleRow);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\r\n            const range = [from];\r\n            let previousVisibleRow = this.#previousRow(from);\r\n            while (previousVisibleRow && previousVisibleRow !== to) {\r\n                range.push(previousVisibleRow);\r\n                previousVisibleRow = this.#previousRow(previousVisibleRow);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        return [];\r\n    }\r\n    #setCellsSelection(...cells) {\r\n        this.beginSelection();\r\n        const selectedCells = this.selectedCells();\r\n        selectedCells.forEach((selectedCell_i) => {\r\n            if (!cells.includes(selectedCell_i)) {\r\n                selectedCell_i.selected = false;\r\n            }\r\n        });\r\n        cells.forEach((cell_i) => {\r\n            if (!cell_i.selected) {\r\n                cell_i.selected = true;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #setRowsSelection(...rows) {\r\n        this.beginSelection();\r\n        const selectedRows = this.selectedRows();\r\n        selectedRows.forEach((selectedRow_i) => {\r\n            if (!rows.includes(selectedRow_i)) {\r\n                selectedRow_i.selected = false;\r\n            }\r\n        });\r\n        rows.forEach((row_i) => {\r\n            if (!row_i.selected) {\r\n                row_i.selected = true;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #addCellsToSelection(...cells) {\r\n        this.beginSelection();\r\n        cells.forEach((cell_i) => {\r\n            if (!cell_i.selected) {\r\n                cell_i.selected = true;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #addRowsToSelection(...rows) {\r\n        this.beginSelection();\r\n        rows.forEach((row_i) => {\r\n            if (!row_i.selected) {\r\n                row_i.selected = true;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #removeCellsFromSelection(...cells) {\r\n        this.beginSelection();\r\n        const selectedCells = this.selectedCells();\r\n        cells.forEach((cell_i) => {\r\n            if (selectedCells.includes(cell_i)) {\r\n                cell_i.selected = false;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #removeRowsFromSelection(...rows) {\r\n        this.beginSelection();\r\n        const selectedRows = this.selectedRows();\r\n        rows.forEach((row_i) => {\r\n            if (selectedRows.includes(row_i)) {\r\n                row_i.selected = false;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #clearCellsSelection() {\r\n        this.beginSelection();\r\n        const selectedCells = this.selectedCells();\r\n        selectedCells.forEach((cell_i) => {\r\n            if (cell_i.selected) {\r\n                cell_i.selected = false;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #clearRowsSelection() {\r\n        this.beginSelection();\r\n        const selectedRows = this.selectedRows();\r\n        selectedRows.forEach((row_i) => {\r\n            if (row_i.selected) {\r\n                row_i.selected = false;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #setActiveCell(cell) {\r\n        const { activeCell } = this;\r\n        if (activeCell !== null && activeCell !== cell) {\r\n            activeCell.active = false;\r\n            activeCell.tabIndex = -1;\r\n        }\r\n        if (cell !== null) {\r\n            const cellsWalker = this.#cellsWalker;\r\n            cellsWalker.currentNode = cell;\r\n            cell.active = true;\r\n            cell.tabIndex = 0;\r\n        }\r\n    }\r\n    #setActiveRow(row) {\r\n        const { activeRow } = this;\r\n        if (activeRow !== null && activeRow !== row) {\r\n            activeRow.active = false;\r\n            activeRow.tabIndex = -1;\r\n        }\r\n        if (row !== null) {\r\n            const rowsWalker = this.#rowsWalker;\r\n            rowsWalker.currentNode = row;\r\n            row.active = true;\r\n            row.tabIndex = 0;\r\n        }\r\n    }\r\n    #firstCell(row) {\r\n        const cellsWalker = this.#cellsWalker;\r\n        cellsWalker.currentNode = row;\r\n        return cellsWalker.firstChild();\r\n    }\r\n    #lastCell(row) {\r\n        const cellsWalker = this.#cellsWalker;\r\n        cellsWalker.currentNode = row;\r\n        return cellsWalker.lastChild();\r\n    }\r\n    #previousCell(cell) {\r\n        const cellsWalker = this.#cellsWalker;\r\n        cellsWalker.currentNode = cell;\r\n        return cellsWalker.previousNode();\r\n    }\r\n    #nextCell(cell) {\r\n        const cellsWalker = this.#cellsWalker;\r\n        cellsWalker.currentNode = cell;\r\n        return cellsWalker.nextNode();\r\n    }\r\n    #closestRow(cell) {\r\n        const rowsWalker = this.#rowsWalker;\r\n        rowsWalker.currentNode = cell;\r\n        return rowsWalker.parentNode();\r\n    }\r\n    #firstRow() {\r\n        const rowsWalker = this.#rowsWalker;\r\n        const { root } = rowsWalker;\r\n        rowsWalker.currentNode = root;\r\n        return rowsWalker.firstChild();\r\n    }\r\n    #lastRow() {\r\n        const rowsWalker = this.#rowsWalker;\r\n        const { root } = rowsWalker;\r\n        rowsWalker.currentNode = root;\r\n        return rowsWalker.lastChild();\r\n    }\r\n    #previousRow(row) {\r\n        const rowsWalker = this.#rowsWalker;\r\n        rowsWalker.currentNode = row;\r\n        return rowsWalker.previousNode();\r\n    }\r\n    #nextRow(row) {\r\n        const rowsWalker = this.#rowsWalker;\r\n        rowsWalker.currentNode = row;\r\n        return rowsWalker.nextNode();\r\n    }\r\n    #topCell(cell) {\r\n        const closestRow = this.#closestRow(cell);\r\n        if (closestRow) {\r\n            const closestRowCells = closestRow.cells();\r\n            const cellIndex = closestRowCells.indexOf(cell);\r\n            const previousRow = this.#previousRow(closestRow);\r\n            if (previousRow) {\r\n                const previousRowCells = previousRow.cells();\r\n                return previousRowCells[Math.min(cellIndex, previousRowCells.length)];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    #bottomCell(cell) {\r\n        const closestRow = this.#closestRow(cell);\r\n        if (closestRow) {\r\n            const closestRowCells = closestRow.cells();\r\n            const cellIndex = closestRowCells.indexOf(cell);\r\n            const nextRow = this.#nextRow(closestRow);\r\n            if (nextRow) {\r\n                const nextRowCells = nextRow.cells();\r\n                return nextRowCells[Math.min(cellIndex, nextRowCells.length)];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    #handleClickEvent(event) {\r\n        const { ctrlKey, shiftKey } = event;\r\n        const { selectby } = this;\r\n        switch (selectby) {\r\n            case \"cell\": {\r\n                const composedPath = event.composedPath();\r\n                const targetCell = composedPath.find(target_i => target_i instanceof HTMLEGridBodyElement) ? composedPath.find(target_i => target_i instanceof HTMLEGridCellElement) : null;\r\n                const selectedCells = this.selectedCells();\r\n                if (targetCell instanceof HTMLEGridCellElement) {\r\n                    if (!shiftKey && !ctrlKey) {\r\n                        this.#setCellsSelection(targetCell);\r\n                    }\r\n                    else if (ctrlKey) {\r\n                        !targetCell.selected ?\r\n                            this.#addCellsToSelection(targetCell) :\r\n                            this.#removeCellsFromSelection(targetCell);\r\n                    }\r\n                    else if (shiftKey) {\r\n                        const lastSelectedCell = selectedCells[selectedCells.length - 1];\r\n                        if (lastSelectedCell) {\r\n                            const range = this.#getCellsRange(lastSelectedCell, targetCell);\r\n                            if (range) {\r\n                                selectedCells.includes(targetCell) ?\r\n                                    this.#removeCellsFromSelection(...range) :\r\n                                    this.#addCellsToSelection(...range);\r\n                            }\r\n                        }\r\n                        else {\r\n                            this.#setCellsSelection(targetCell);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"row\": {\r\n                const selectedRows = this.selectedRows();\r\n                const composedPath = event.composedPath();\r\n                const targetRow = composedPath.find(target_i => target_i instanceof HTMLEGridBodyElement) ? composedPath.find(target_i => target_i instanceof HTMLEGridRowElement) : null;\r\n                if (targetRow instanceof HTMLEGridRowElement) {\r\n                    if (!shiftKey && !ctrlKey) {\r\n                        this.#setRowsSelection(targetRow);\r\n                    }\r\n                    else if (ctrlKey) {\r\n                        !targetRow.selected ?\r\n                            this.#addRowsToSelection(targetRow) :\r\n                            this.#removeRowsFromSelection(targetRow);\r\n                    }\r\n                    else if (shiftKey) {\r\n                        const lastSelectedRow = selectedRows[selectedRows.length - 1];\r\n                        if (lastSelectedRow) {\r\n                            const range = this.#getRowsRange(lastSelectedRow, targetRow);\r\n                            if (range) {\r\n                                selectedRows.includes(targetRow) ?\r\n                                    this.#removeRowsFromSelection(...range) :\r\n                                    this.#addRowsToSelection(...range);\r\n                            }\r\n                        }\r\n                        else {\r\n                            this.#setRowsSelection(targetRow);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        event.stopPropagation();\r\n    }\r\n    #handleContextMenuEvent(event) {\r\n        event.stopPropagation();\r\n    }\r\n    #handleDblClickEvent(event) {\r\n        event.stopPropagation();\r\n    }\r\n    #handleKeyDownEvent(event) {\r\n        const { key } = event;\r\n        const { selectby, activeCell, activeRow } = this;\r\n        switch (key) {\r\n            case \"a\": {\r\n                const { ctrlKey } = event;\r\n                if (ctrlKey) {\r\n                    switch (selectby) {\r\n                        case \"cell\": {\r\n                            const firstRow = this.#firstRow();\r\n                            const firstCell = firstRow ? this.#firstCell(firstRow) : null;\r\n                            const lastRow = this.#lastRow();\r\n                            const lastCell = lastRow ? this.#lastCell(lastRow) : null;\r\n                            if (firstCell && lastCell) {\r\n                                const range = this.#getCellsRange(firstCell, lastCell);\r\n                                if (range) {\r\n                                    this.#setCellsSelection(...range);\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                        case \"row\": {\r\n                            const firstRow = this.#firstRow();\r\n                            const lastRow = this.#lastRow();\r\n                            if (firstRow && lastRow) {\r\n                                const range = this.#getRowsRange(firstRow, lastRow);\r\n                                if (range) {\r\n                                    this.#setRowsSelection(...range);\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n            case \"ArrowLeft\": {\r\n                if (selectby == \"cell\") {\r\n                    if (activeCell) {\r\n                        const previousCell = this.#previousCell(activeCell);\r\n                        if (previousCell) {\r\n                            previousCell.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey) {\r\n                                previousCell.selected ?\r\n                                    this.#removeCellsFromSelection(previousCell) :\r\n                                    this.#addCellsToSelection(previousCell);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                if (selectby == \"cell\") {\r\n                    if (activeCell) {\r\n                        const nextCell = this.#nextCell(activeCell);\r\n                        if (nextCell) {\r\n                            nextCell.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey) {\r\n                                nextCell.selected ?\r\n                                    this.#removeCellsFromSelection(nextCell) :\r\n                                    this.#addCellsToSelection(nextCell);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowUp\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        const firstRow = activeRow ?? this.#firstRow();\r\n                        const topCell = activeCell ?\r\n                            this.#topCell(activeCell) :\r\n                            firstRow ?\r\n                                this.#firstCell(firstRow) :\r\n                                null;\r\n                        if (topCell) {\r\n                            topCell.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey) {\r\n                                topCell.selected ?\r\n                                    this.#removeCellsFromSelection(topCell) :\r\n                                    this.#addCellsToSelection(topCell);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        const previousRow = activeRow ?\r\n                            this.#previousRow(activeRow) :\r\n                            this.#firstRow();\r\n                        if (previousRow) {\r\n                            previousRow.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey) {\r\n                                previousRow.selected ?\r\n                                    this.#removeRowsFromSelection(previousRow) :\r\n                                    this.#addRowsToSelection(previousRow);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                switch (selectby) {\r\n                    case \"cell\":\r\n                        {\r\n                            const lastRow = activeRow ?? this.#lastRow();\r\n                            const bottomCell = activeCell ?\r\n                                this.#bottomCell(activeCell) :\r\n                                lastRow ?\r\n                                    this.#lastCell(lastRow) :\r\n                                    null;\r\n                            if (bottomCell) {\r\n                                bottomCell.focus({ preventScroll: true });\r\n                                const { shiftKey } = event;\r\n                                if (shiftKey) {\r\n                                    bottomCell.selected ?\r\n                                        this.#removeCellsFromSelection(bottomCell) :\r\n                                        this.#addCellsToSelection(bottomCell);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case \"row\": {\r\n                        const nextRow = activeRow ?\r\n                            this.#nextRow(activeRow) :\r\n                            this.#lastRow();\r\n                        if (nextRow) {\r\n                            nextRow.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey) {\r\n                                nextRow.selected ?\r\n                                    this.#removeRowsFromSelection(nextRow) :\r\n                                    this.#addRowsToSelection(nextRow);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        if (activeRow) {\r\n                            const firstCell = this.#firstCell(activeRow);\r\n                            if (firstCell) {\r\n                                firstCell.focus({ preventScroll: true });\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        const firstRow = this.#firstRow();\r\n                        if (firstRow) {\r\n                            firstRow.focus({ preventScroll: true });\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        if (activeRow) {\r\n                            const lastCell = this.#lastCell(activeRow);\r\n                            if (lastCell) {\r\n                                lastCell.focus({ preventScroll: true });\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        const lastRow = this.#lastRow();\r\n                        if (lastRow) {\r\n                            lastRow.focus({ preventScroll: true });\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        if (activeCell) {\r\n                            this.#setCellsSelection(activeCell);\r\n                            activeCell.click();\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        if (activeRow) {\r\n                            this.#setRowsSelection(activeRow);\r\n                            activeRow.click();\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        this.#clearCellsSelection();\r\n                        this.#setActiveCell(null);\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        this.#clearRowsSelection();\r\n                        this.#setActiveRow(null);\r\n                        break;\r\n                    }\r\n                }\r\n                this.focus();\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handleFocusEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const { selectby } = this;\r\n        switch (selectby) {\r\n            case \"cell\": {\r\n                const { activeCell } = this;\r\n                if (activeCell && relatedTarget !== activeCell) {\r\n                    activeCell.focus();\r\n                }\r\n                break;\r\n            }\r\n            case \"row\": {\r\n                const { activeRow } = this;\r\n                if (activeRow && relatedTarget !== activeRow) {\r\n                    activeRow.focus();\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handleFocusInEvent(event) {\r\n        const { target } = event;\r\n        const { selectby } = this;\r\n        switch (selectby) {\r\n            case \"cell\": {\r\n                const targetCell = target.closest(\"e-gridcell\");\r\n                if (targetCell) {\r\n                    this.#setActiveCell(targetCell);\r\n                }\r\n                break;\r\n            }\r\n            case \"row\": {\r\n                const targetRow = target.closest(\"e-gridrow\");\r\n                if (targetRow) {\r\n                    this.#setActiveRow(targetRow);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handleSelectEvent() {\r\n        if (this.#onSelection) {\r\n            this.#hasSelectionChanged = true;\r\n        }\r\n        else {\r\n            this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n        }\r\n    }\r\n    #handleSlotChangeEvent(event) {\r\n        const { target } = event;\r\n        const assignedRows = target\r\n            .assignedElements()\r\n            .filter(element_i => element_i instanceof HTMLEGridRowElement);\r\n        assignedRows.forEach((row_i, i) => {\r\n            row_i.posinset = i;\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"cell\" })\r\n], HTMLEGridElementBase.prototype, \"selectby\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridElementBase.prototype, \"multiselectable\", void 0);\r\nHTMLEGridElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-grid\"\r\n    })\r\n], HTMLEGridElementBase);\r\nvar HTMLEGridElement = HTMLEGridElementBase;\r\n//# sourceMappingURL=Grid.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_CHECKED_IMAGE, DEFAULT_THEME_ACTIVATED_ITEM_COLOR, DEFAULT_THEME_FOCUSED_ITEM_COLOR, DEFAULT_THEME_HOVERED_ITEM_COLOR, DEFAULT_THEME_ARROW_RIGHT_IMAGE } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, QueryProperty, element } from \"../../Element\";\r\nexport { HTMLEMenuItemElement };\r\nexport { EMenuItem };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEMenuItemElementBase = class HTMLEMenuItemElementBase extends HTMLElement {\r\n    internals;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"span\", {\r\n            attributes: {\r\n                part: \"icon\"\r\n            }\r\n        }), element(\"span\", {\r\n            attributes: {\r\n                part: \"label\"\r\n            },\r\n            children: [\r\n                element(\"slot\")\r\n            ]\r\n        }), element(\"span\", {\r\n            attributes: {\r\n                part: \"arrow\"\r\n            }\r\n        }), element(\"slot\", {\r\n            attributes: {\r\n                name: \"menu\"\r\n            }\r\n        }));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                user-select: none;\r\n                white-space: nowrap;\r\n                box-sizing: border-box;\r\n            }\r\n            \r\n            :host([disabled]) {\r\n                opacity: 0.38;\r\n                pointer-events: none;\r\n            }\r\n            \r\n            :host(:focus-within) {\r\n                background-color: ${DEFAULT_THEME_FOCUSED_ITEM_COLOR};\r\n            }\r\n            \r\n            :host(:is([type=\"menu\"], [type=\"submenu\"])) ::slotted([slot=\"menu\"]) {\r\n                z-index: 1;\r\n                position: absolute;\r\n            }\r\n            \r\n            :host(:is([type=\"menu\"], [type=\"submenu\"]):not([expanded])) ::slotted([slot=\"menu\"]) {\r\n                width: 0;\r\n                height: 0;\r\n                padding: 0;\r\n                opacity: 0;\r\n                pointer-events: none;\r\n                overflow: hidden;\r\n            }\r\n            \r\n            :host([type=\"submenu\"]) [part=\"icon\"] {\r\n                visibility: hidden;\r\n            }\r\n            \r\n            :host([type=\"menu\"]) [part=\"icon\"],\r\n            :host(:not([type=\"submenu\"])) [part=\"arrow\"] {\r\n                display: none;\r\n            }\r\n            \r\n            :host(:is([type=\"checkbox\"], [type=\"radio\"])[checked]) [part=\"icon\"]::before {\r\n                -webkit-mask-image: var(--theme-arrow-done-image, url(${DEFAULT_THEME_CHECKED_IMAGE}));\r\n                mask-image: var(--theme-arrow-done-image, url(${DEFAULT_THEME_CHECKED_IMAGE}));\r\n                background-color: black;\r\n            }\r\n            \r\n            :host([type=\"submenu\"]) [part=\"arrow\"]::after {\r\n                -webkit-mask-image: var(--theme-arrow-right-image, url(${DEFAULT_THEME_ARROW_RIGHT_IMAGE}));\r\n                mask-image: var(--theme-arrow-right-image, url(${DEFAULT_THEME_ARROW_RIGHT_IMAGE}));\r\n                background-color: black;\r\n            }\r\n            \r\n            [part=\"icon\"],\r\n            [part=\"label\"],\r\n            [part=\"arrow\"] {\r\n                pointer-events: none;\r\n            }\r\n            \r\n            [part=\"icon\"] {\r\n                flex: none;\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n                padding: 2px;\r\n                overflow: hidden;\r\n                margin-right: 4px;\r\n            }\r\n            \r\n            [part=\"label\"] {\r\n                flex: auto;\r\n                line-height: 18px;\r\n                padding: 2px;\r\n                margin-left: 8px;\r\n                margin-right: 8px;\r\n            }\r\n            \r\n            :host(:is(:not([type]), [type=\"button\"], [type=\"radio\"], [type=\"checkbox\"])[checked]) [part=\"icon\"] {\r\n                background-color: var(--theme-activated-item-color, ${DEFAULT_THEME_ACTIVATED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host(:is(:not([type]), [type=\"button\"], [type=\"radio\"], [type=\"checkbox\"])) [part=\"icon\"]::before {\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n                content: \"\";\r\n                mask-size: 18px 18px;\r\n                -webkit-mask-size: 18px 18px;\r\n\r\n                mask-image: none;\r\n                -webkit-mask-image: none;\r\n                background-color: none;\r\n            }\r\n            \r\n            [part=\"arrow\"] {\r\n                flex: none;\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n                margin: 1px 4px 1px 1px;\r\n            }\r\n            \r\n            [part=\"arrow\"]::after {\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n                margin: 1px;\r\n                content: \"\";\r\n                mask-size: 18px 18px;\r\n                -webkit-mask-size: 18px 18px;\r\n\r\n                mask-image: none;\r\n                -webkit-mask-image: none;\r\n                background-color: none;\r\n            }\r\n\r\n            :host(:hover):host-context(e-menubar:focus),\r\n            :host(:hover):host-context(e-menubar:not(:focus-within)) {\r\n                background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const internals = this.attachInternals();\r\n        this.internals = internals;\r\n        internals.role = \"menuitem\";\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(attributeName, oldValue, newValue) {\r\n        const { internals } = this;\r\n        switch (attributeName) {\r\n            case \"type\": {\r\n                switch (newValue) {\r\n                    case \"checkbox\":\r\n                    case \"radio\": {\r\n                        internals.role = `menuitem${newValue}`;\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        internals.role = \"menuitem\";\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"checked\": {\r\n                internals.ariaChecked = String(newValue !== null);\r\n                break;\r\n            }\r\n            case \"disabled\": {\r\n                internals.ariaDisabled = String(newValue !== null);\r\n                break;\r\n            }\r\n            case \"expanded\": {\r\n                internals.ariaExpanded = String(newValue !== null);\r\n                break;\r\n            }\r\n            case \"label\": {\r\n                internals.ariaLabel = newValue;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    toggle(force) {\r\n        const { type, expanded } = this;\r\n        switch (type) {\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                const expand = force ?? !expanded;\r\n                this.expanded = expand;\r\n                if (expand) {\r\n                    this.#positionMenu();\r\n                }\r\n                this.dispatchEvent(new Event(\"toggle\", { bubbles: true }));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    expand() {\r\n        const { type, expanded } = this;\r\n        switch (type) {\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                if (!expanded) {\r\n                    this.expanded = true;\r\n                    this.#positionMenu();\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    collapse() {\r\n        const { type, expanded } = this;\r\n        switch (type) {\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                if (expanded) {\r\n                    this.expanded = false;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #positionMenu() {\r\n        const { menu } = this;\r\n        if (menu !== null) {\r\n            const { width, height } = this.getBoundingClientRect();\r\n            const { style: menuStyle } = menu;\r\n            const { width: menuWidth, height: menuHeight } = menu.getBoundingClientRect();\r\n            const { clientWidth, clientHeight } = document.body;\r\n            const { type, offsetLeft, offsetTop } = this;\r\n            const overflowX = offsetLeft + width + menuWidth - clientWidth;\r\n            const overflowY = offsetTop + menuHeight - clientHeight;\r\n            if (type === \"menu\") {\r\n                menuStyle.setProperty(\"left\", `${overflowX > 0 ?\r\n                    offsetLeft + width - menuWidth :\r\n                    offsetLeft}px`);\r\n                menuStyle.setProperty(\"top\", `${overflowY > 0 ?\r\n                    offsetTop - menuHeight :\r\n                    offsetTop + height}px`);\r\n            }\r\n            else {\r\n                menuStyle.setProperty(\"left\", `${overflowX > 0 ?\r\n                    offsetLeft - menuWidth :\r\n                    offsetLeft + width}px`);\r\n                menuStyle.setProperty(\"top\", `${overflowY > 0 ?\r\n                    offsetTop + height - menuHeight :\r\n                    offsetTop}px`);\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-menu[slot=menu]\" })\r\n], HTMLEMenuItemElementBase.prototype, \"menu\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuItemElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"label\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuItemElementBase.prototype, \"value\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuItemElementBase.prototype, \"hotkey\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"disabled\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"checked\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"expanded\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuItemElementBase.prototype, \"overflown\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"button\", observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"type\", void 0);\r\nHTMLEMenuItemElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-menuitem\"\r\n    })\r\n], HTMLEMenuItemElementBase);\r\nvar HTMLEMenuItemElement = HTMLEMenuItemElementBase;\r\nvar EMenuItem = Object.assign(function (init) {\r\n    const { label, name, type, value, trigger, menu } = init;\r\n    if (menu) {\r\n        menu.slot = \"menu\";\r\n    }\r\n    return element(\"e-menuitem\", {\r\n        attributes: {\r\n            tabindex: -1,\r\n            title: label,\r\n            name: name,\r\n            value: value,\r\n            type: type\r\n        },\r\n        children: menu ? [\r\n            label,\r\n            menu\r\n        ] : [\r\n            label\r\n        ],\r\n        listeners: {\r\n            click: trigger\r\n        }\r\n    });\r\n}, {\r\n    prototype: HTMLEMenuItemElement.prototype,\r\n    button(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"button\"\r\n        });\r\n    },\r\n    checkbox(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"checkbox\"\r\n        });\r\n    },\r\n    radio(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"radio\"\r\n        });\r\n    },\r\n    menu(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"menu\"\r\n        });\r\n    },\r\n    submenu(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"submenu\"\r\n        });\r\n    }\r\n});\r\n//# sourceMappingURL=MenuItem.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { element, CustomElement, AttributeProperty } from \"../../Element\";\r\nimport { EMenuItem } from \"./MenuItem\";\r\nimport \"./MenuItem\";\r\nexport { HTMLEMenuItemGroupElement };\r\nexport { EMenuItemGroup };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEMenuItemGroupElementBase = class HTMLEMenuItemGroupElementBase extends HTMLElement {\r\n    internals;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"span\", {\r\n            attributes: {\r\n                part: \"label\"\r\n            }\r\n        }), element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                flex-direction: column;\r\n            }\r\n            \r\n            [part=\"label\"] {\r\n                font-weight: bold;\r\n            }\r\n            \r\n            :host([label]) [part=\"label\"] {\r\n                padding-bottom: 6px;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        const internals = this.attachInternals();\r\n        internals.role = \"group\";\r\n        this.internals = internals;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        const { internals } = this;\r\n        switch (name) {\r\n            case \"label\":\r\n                internals.ariaLabel = newValue;\r\n                break;\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuItemGroupElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEMenuItemGroupElementBase.prototype, \"label\", void 0);\r\nHTMLEMenuItemGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-menuitemgroup\"\r\n    })\r\n], HTMLEMenuItemGroupElementBase);\r\nvar HTMLEMenuItemGroupElement = HTMLEMenuItemGroupElementBase;\r\nvar EMenuItemGroup = Object.assign(function (init) {\r\n    const { name, items } = init;\r\n    return element(\"e-menuitemgroup\", {\r\n        attributes: {\r\n            name: name\r\n        },\r\n        children: items\r\n    });\r\n}, {\r\n    prototype: HTMLEMenuItemGroupElement.prototype,\r\n    radios: (init) => {\r\n        const { name, items } = init;\r\n        return element(\"e-menuitemgroup\", {\r\n            attributes: {\r\n                name: name\r\n            },\r\n            children: items.map(({ label, value }) => new EMenuItem({ name, label, type: \"radio\", value }))\r\n        });\r\n    }\r\n});\r\n//# sourceMappingURL=MenuItemGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar HTMLEMenuElementBase_1;\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEMenuItemElement } from \"./MenuItem\";\r\nimport { HTMLEMenuItemGroupElement } from \"./MenuItemGroup\";\r\nimport \"./MenuItem\";\r\nimport \"./MenuItemGroup\";\r\nexport { HTMLEMenuElement };\r\nexport { EMenu };\r\nvar shadowTemplate;\r\nvar style;\r\nvar toggleAnimations;\r\nvar HIDE_DELAY_MS = 200;\r\nvar SHOW_DELAY_MS = 400;\r\nlet HTMLEMenuElementBase = HTMLEMenuElementBase_1 = class HTMLEMenuElementBase extends HTMLElement {\r\n    items() {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem\"));\r\n    }\r\n    get activeIndex() {\r\n        return this.#activeIndex;\r\n    }\r\n    get activeItem() {\r\n        const { activeIndex } = this;\r\n        return (this.querySelector(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within\") ?? activeIndex > -1) ? this.items()[activeIndex] ?? null : null;\r\n    }\r\n    #walker;\r\n    #activeIndex;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                flex-direction: column;\r\n            \r\n                padding: 3px;\r\n                background-color: white;\r\n                width: max-content;\r\n                box-sizing: border-box;\r\n            \r\n                -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0 1px 3px;\r\n                box-shadow: rgba(0, 0, 0, 0.2) 0 1px 3px;\r\n            }\r\n            \r\n            :host([contextual]) {\r\n                z-index: 1;\r\n                position: absolute;\r\n            }\r\n        `;\r\n        toggleAnimations = new WeakMap();\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.#activeIndex = -1;\r\n        this.#walker = document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, this.#walkerNodeFilter.bind(this));\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"click\", this.#handleClickEvent.bind(this));\r\n        this.addEventListener(\"mouseover\", this.#handleMouseOverEvent.bind(this));\r\n        this.addEventListener(\"mouseout\", this.#handleMouseOutEvent.bind(this));\r\n        this.addEventListener(\"focusin\", this.#handleFocusInEvent.bind(this));\r\n        this.addEventListener(\"focusout\", this.#handleFocusOutEvent.bind(this));\r\n        this.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const tabindex = this.getAttribute(\"tabindex\");\r\n        this.tabIndex = tabindex !== null ? parseInt(tabindex) : -1;\r\n    }\r\n    positionContextual(x, y) {\r\n        const { style } = this;\r\n        const { width: menuWidth, height: menuHeight } = this.getBoundingClientRect();\r\n        const { scrollX, scrollY } = window;\r\n        const left = x + scrollX;\r\n        const top = y + scrollY;\r\n        const { clientWidth, clientHeight } = document.body;\r\n        const overflowX = left + menuWidth - clientWidth;\r\n        const overflowY = top + menuHeight - clientHeight;\r\n        style.setProperty(\"left\", `${overflowX > 0 ? left - menuWidth : left}px`);\r\n        style.setProperty(\"top\", `${overflowY > 0 ? top - menuHeight : top}px`);\r\n    }\r\n    #collapseSubmenus() {\r\n        this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]\")\r\n            .forEach((item_i) => {\r\n            item_i.collapse();\r\n        });\r\n    }\r\n    #nearestItem(target) {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem\")).find(item_i => item_i.contains(target)) ?? null;\r\n    }\r\n    #walkerNodeFilter(node) {\r\n        if (node instanceof HTMLEMenuItemElement) {\r\n            return NodeFilter.FILTER_ACCEPT;\r\n        }\r\n        if (node instanceof HTMLEMenuItemGroupElement) {\r\n            return NodeFilter.FILTER_SKIP;\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    }\r\n    firstItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.firstChild();\r\n    }\r\n    #lastItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.lastChild();\r\n    }\r\n    #previousItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        return walker.previousNode();\r\n    }\r\n    #nextItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        return walker.nextNode();\r\n    }\r\n    #firstChildItem(item) {\r\n        const { menu } = item;\r\n        return menu instanceof HTMLEMenuElementBase_1 ?\r\n            menu.firstItem() :\r\n            null;\r\n    }\r\n    #setActiveItem(item) {\r\n        if (item !== null) {\r\n            this.#activeIndex = this.items().indexOf(item);\r\n        }\r\n    }\r\n    #handleClickEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\"e-menuitem\");\r\n        if (targetItem) {\r\n            const { type, checked } = targetItem;\r\n            switch (type) {\r\n                case \"checkbox\": {\r\n                    targetItem.checked = !checked;\r\n                    break;\r\n                }\r\n                case \"radio\": {\r\n                    const { name, value } = targetItem;\r\n                    targetItem.checked = true;\r\n                    this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${name}]`)\r\n                        .forEach((radio_i) => {\r\n                        radio_i.checked = radio_i.value == value;\r\n                    });\r\n                    break;\r\n                }\r\n                case \"menu\":\r\n                case \"submenu\": {\r\n                    targetItem.toggle();\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        event.stopPropagation();\r\n    }\r\n    #handleFocusInEvent(event) {\r\n        const { target } = event;\r\n        if (target instanceof HTMLEMenuItemElement) {\r\n            const nearestItem = this.#nearestItem(target);\r\n            if (nearestItem) {\r\n                this.#setActiveItem(nearestItem);\r\n            }\r\n        }\r\n    }\r\n    #handleFocusOutEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const lostFocusWithin = !this.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            const { contextual } = this;\r\n            if (contextual) {\r\n                try {\r\n                    this.remove();\r\n                }\r\n                catch (error) { }\r\n                ;\r\n            }\r\n            else {\r\n                const { activeItem } = this;\r\n                if (activeItem?.expanded) {\r\n                    activeItem.collapse();\r\n                }\r\n                this.#setActiveItem(null);\r\n            }\r\n        }\r\n    }\r\n    #handleKeyDownEvent(event) {\r\n        const { key } = event;\r\n        const { activeItem } = this;\r\n        switch (key) {\r\n            case \"ArrowUp\": {\r\n                const previousItem = activeItem ?\r\n                    this.#previousItem(activeItem) ?? this.#lastItem() :\r\n                    this.firstItem();\r\n                previousItem?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                const nextItem = activeItem ?\r\n                    this.#nextItem(activeItem) ?? this.firstItem() :\r\n                    this.firstItem();\r\n                nextItem?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = this.firstItem();\r\n                firstItem?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = this.#lastItem();\r\n                lastItem?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\":\r\n            case \" \": {\r\n                if (activeItem) {\r\n                    const { type } = activeItem;\r\n                    switch (type) {\r\n                        case \"menu\":\r\n                        case \"submenu\": {\r\n                            activeItem.expand();\r\n                            if (activeItem.expanded) {\r\n                                const firstChildItem = this.#firstChildItem(activeItem);\r\n                                firstChildItem?.focus({ preventScroll: true });\r\n                            }\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            activeItem.click();\r\n                            break;\r\n                        }\r\n                    }\r\n                    event.stopPropagation();\r\n                }\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                if (activeItem) {\r\n                    const isClosestTargetMenu = event.composedPath().find(target_i => target_i instanceof HTMLEMenuElement) == this;\r\n                    if (!isClosestTargetMenu) {\r\n                        activeItem.collapse();\r\n                        activeItem.focus({ preventScroll: true });\r\n                        event.stopPropagation();\r\n                    }\r\n                    else {\r\n                        const { contextual } = this;\r\n                        if (contextual) {\r\n                            this.blur();\r\n                            this.dispatchEvent(new Event(\"close\", { bubbles: true }));\r\n                            event.stopPropagation();\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"ArrowLeft\": {\r\n                if (activeItem) {\r\n                    const isClosestTargetMenu = event.composedPath().find(target_i => target_i instanceof HTMLEMenuElement) == this;\r\n                    if (!isClosestTargetMenu) {\r\n                        activeItem.collapse();\r\n                        activeItem.focus({ preventScroll: true });\r\n                        event.stopPropagation();\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                if (activeItem) {\r\n                    const { type } = activeItem;\r\n                    switch (type) {\r\n                        case \"submenu\": {\r\n                            if (!activeItem.expanded) {\r\n                                activeItem.expand();\r\n                                const firstChildItem = this.#firstChildItem(activeItem);\r\n                                firstChildItem?.focus({ preventScroll: true });\r\n                                event.stopPropagation();\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handleMouseOutEvent(event) {\r\n        const { target, relatedTarget } = event;\r\n        if (target instanceof HTMLEMenuItemElement) {\r\n            const nearestItem = this.#nearestItem(target);\r\n            if (nearestItem !== null) {\r\n                if (nearestItem.type == \"submenu\" &&\r\n                    !nearestItem.expanded) {\r\n                    toggleAnimations.get(nearestItem)?.cancel();\r\n                }\r\n                const isTargetClosestMenu = event.composedPath().find(target_i => target_i instanceof HTMLEMenuElement) == this;\r\n                if (isTargetClosestMenu) {\r\n                    const { activeItem } = this;\r\n                    if (activeItem?.type == \"submenu\" &&\r\n                        activeItem.expanded) {\r\n                        let toggleAnimation = toggleAnimations.get(activeItem);\r\n                        if (toggleAnimation) {\r\n                            toggleAnimation.cancel();\r\n                        }\r\n                        toggleAnimation = activeItem.animate(null, {\r\n                            duration: HIDE_DELAY_MS\r\n                        });\r\n                        toggleAnimations.set(activeItem, toggleAnimation);\r\n                        const { finished } = toggleAnimation;\r\n                        finished\r\n                            .then(() => {\r\n                            activeItem.collapse();\r\n                        })\r\n                            .catch(() => undefined)\r\n                            .finally(() => {\r\n                            toggleAnimations.delete(activeItem);\r\n                        });\r\n                    }\r\n                    const { left, right, top, bottom } = (() => {\r\n                        const parentItem = this.closest(\"e-menuitem\");\r\n                        if (parentItem && !parentItem.expanded) {\r\n                            parentItem.expand();\r\n                            const menuRect = this.getBoundingClientRect();\r\n                            parentItem.collapse();\r\n                            return menuRect;\r\n                        }\r\n                        else {\r\n                            return this.getBoundingClientRect();\r\n                        }\r\n                    })();\r\n                    const { clientX, clientY } = event;\r\n                    const intersectsWithMouse = !(left > clientX || right < clientX || top > clientY || bottom < clientY);\r\n                    const containsRelatedTarget = this.contains(relatedTarget);\r\n                    if (intersectsWithMouse && containsRelatedTarget) {\r\n                        if (relatedTarget instanceof HTMLEMenuElement && relatedTarget !== this) {\r\n                            relatedTarget.focus({ preventScroll: true });\r\n                        }\r\n                        else {\r\n                            this.focus({ preventScroll: true });\r\n                            this.#setActiveItem(null);\r\n                        }\r\n                    }\r\n                    if (!intersectsWithMouse) {\r\n                        this.focus({ preventScroll: true });\r\n                        this.#setActiveItem(null);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleMouseOverEvent(event) {\r\n        const { target } = event;\r\n        if (target instanceof HTMLEMenuItemElement) {\r\n            const nearestItem = this.#nearestItem(target);\r\n            if (nearestItem !== null) {\r\n                if (nearestItem.type === \"submenu\" && nearestItem.expanded) {\r\n                    toggleAnimations.get(nearestItem)?.cancel();\r\n                }\r\n                const isTargetClosestMenu = event.composedPath().find(target_i => target_i instanceof HTMLEMenuElement) == this;\r\n                if (isTargetClosestMenu) {\r\n                    const { activeItem } = this;\r\n                    if (activeItem?.type === \"submenu\" &&\r\n                        activeItem.expanded &&\r\n                        !activeItem.contains(target)) {\r\n                        let toggleAnimation = toggleAnimations.get(activeItem);\r\n                        if (toggleAnimation) {\r\n                            toggleAnimation.cancel();\r\n                        }\r\n                        toggleAnimation = activeItem.animate(null, {\r\n                            duration: SHOW_DELAY_MS\r\n                        });\r\n                        toggleAnimations.set(activeItem, toggleAnimation);\r\n                        const { finished } = toggleAnimation;\r\n                        finished\r\n                            .then(() => {\r\n                            activeItem.collapse();\r\n                        })\r\n                            .catch(() => undefined)\r\n                            .finally(() => {\r\n                            toggleAnimations.delete(activeItem);\r\n                        });\r\n                    }\r\n                    this.#setActiveItem(nearestItem);\r\n                    nearestItem.focus({ preventScroll: true });\r\n                    if (nearestItem.type === \"submenu\") {\r\n                        if (!nearestItem.expanded) {\r\n                            let toggleAnimation = toggleAnimations.get(nearestItem);\r\n                            if (toggleAnimation) {\r\n                                toggleAnimation.cancel();\r\n                            }\r\n                            toggleAnimation = nearestItem.animate(null, {\r\n                                duration: HIDE_DELAY_MS\r\n                            });\r\n                            toggleAnimations.set(nearestItem, toggleAnimation);\r\n                            const { finished } = toggleAnimation;\r\n                            finished\r\n                                .then(() => {\r\n                                const { activeItem } = this;\r\n                                this.#collapseSubmenus();\r\n                                if (activeItem) {\r\n                                    toggleAnimations.get(activeItem)?.cancel();\r\n                                    activeItem.expand();\r\n                                    activeItem.menu?.focus({ preventScroll: true });\r\n                                }\r\n                            })\r\n                                .catch(() => undefined)\r\n                                .finally(() => {\r\n                                toggleAnimations.delete(nearestItem);\r\n                            });\r\n                        }\r\n                        else {\r\n                            nearestItem.menu?.focus({ preventScroll: true });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuElementBase.prototype, \"contextual\", void 0);\r\nHTMLEMenuElementBase = HTMLEMenuElementBase_1 = __decorate([\r\n    CustomElement({\r\n        name: \"e-menu\"\r\n    })\r\n], HTMLEMenuElementBase);\r\nvar HTMLEMenuElement = HTMLEMenuElementBase;\r\nvar EMenu = Object.assign(function (init) {\r\n    const { name, children } = init;\r\n    return element(\"e-menu\", {\r\n        attributes: {\r\n            name: name,\r\n            tabindex: -1,\r\n        },\r\n        children: children\r\n    });\r\n}, {\r\n    prototype: HTMLEMenuElement.prototype,\r\n});\r\n//# sourceMappingURL=Menu.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEMenuItemElement } from \"./MenuItem\";\r\nimport { HTMLEMenuItemGroupElement } from \"./MenuItemGroup\";\r\nimport \"./Menu\";\r\nimport \"./MenuItem\";\r\nimport \"./MenuItemGroup\";\r\nexport { HTMLEMenuBarElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEMenuBarElementBase = class HTMLEMenuBarElementBase extends HTMLElement {\r\n    #activeIndex;\r\n    #walker;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                position: relative;\r\n                display: flex;\r\n                flex-direction: row;\r\n                width: max-content;\r\n            }\r\n            \r\n            :host(:focus) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.#walker = document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, this.#walkerNodeFilter.bind(this));\r\n        this.#activeIndex = -1;\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"click\", this.#handleClickEvent.bind(this));\r\n        this.addEventListener(\"focus\", this.#handleFocusEvent.bind(this));\r\n        this.addEventListener(\"focusin\", this.#handleFocusInEvent.bind(this));\r\n        this.addEventListener(\"focusout\", this.#handleFocusOutEvent.bind(this));\r\n        this.addEventListener(\"mouseover\", this.#handleMouseOverEvent.bind(this));\r\n        this.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const tabindex = this.getAttribute(\"tabindex\");\r\n        this.tabIndex = tabindex !== null ? parseInt(tabindex) : -1;\r\n    }\r\n    items() {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem\"));\r\n    }\r\n    get activeIndex() {\r\n        return this.#activeIndex;\r\n    }\r\n    get activeItem() {\r\n        const { activeIndex } = this;\r\n        return (this.querySelector(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within\") ?? activeIndex > -1) ? this.items()[activeIndex] ?? null : null;\r\n    }\r\n    #walkerNodeFilter(node) {\r\n        if (node instanceof HTMLEMenuItemElement && !(node.disabled || node.hidden)) {\r\n            return NodeFilter.FILTER_ACCEPT;\r\n        }\r\n        if (node instanceof HTMLEMenuItemGroupElement) {\r\n            return NodeFilter.FILTER_SKIP;\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    }\r\n    firstItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.firstChild();\r\n    }\r\n    #lastItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.lastChild();\r\n    }\r\n    #previousItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        return walker.previousSibling();\r\n    }\r\n    #nextItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        return walker.nextSibling();\r\n    }\r\n    #firstChildItem(item) {\r\n        const { menu } = item;\r\n        if (menu) {\r\n            const walker = this.#walker;\r\n            walker.currentNode = menu;\r\n            return walker.firstChild();\r\n        }\r\n        return null;\r\n    }\r\n    #setActiveItem(item) {\r\n        const { activeItem, expanded } = this;\r\n        if (activeItem !== null && activeItem !== item) {\r\n            activeItem.collapse();\r\n        }\r\n        if (item !== null) {\r\n            if (expanded) {\r\n                item.expand();\r\n            }\r\n            this.#activeIndex = this.items().indexOf(item);\r\n        }\r\n        else {\r\n            this.#activeIndex = -1;\r\n        }\r\n    }\r\n    get #items() {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem\"));\r\n    }\r\n    #isClosestMenu(target) {\r\n        return target.closest(\":is(e-menubar, e-menu)\") == this;\r\n    }\r\n    #nearestItem(target) {\r\n        return this.#items.find(item_i => item_i.contains(target)) ?? null;\r\n    }\r\n    #handleFocusEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const { activeItem } = this;\r\n        if (!this.contains(relatedTarget)) {\r\n            (activeItem ?? this.firstItem())?.focus();\r\n        }\r\n    }\r\n    #handleFocusInEvent(event) {\r\n        const { target } = event;\r\n        if (target instanceof Element) {\r\n            const nearestItem = this.#nearestItem(target);\r\n            this.#setActiveItem(nearestItem);\r\n            this.tabIndex = -1;\r\n        }\r\n    }\r\n    #handleFocusOutEvent(event) {\r\n        const { target, relatedTarget } = event;\r\n        if (target instanceof HTMLElement) {\r\n            const nearestItem = this.#nearestItem(target);\r\n            if (nearestItem) {\r\n                nearestItem.collapse();\r\n            }\r\n        }\r\n        const lostFocusWithin = !this.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            this.expanded = false;\r\n            this.tabIndex = 0;\r\n        }\r\n    }\r\n    #handleMouseOverEvent(event) {\r\n        const { target } = event;\r\n        const { expanded, activeItem } = this;\r\n        if (target instanceof HTMLEMenuItemElement) {\r\n            const isClosestMenu = this.#isClosestMenu(target);\r\n            if (isClosestMenu && target !== activeItem && expanded) {\r\n                const { menu } = target;\r\n                if (menu) {\r\n                    target.expand();\r\n                    menu.focus({ preventScroll: true });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleClickEvent(event) {\r\n        const { target } = event;\r\n        const { expanded, activeItem } = this;\r\n        if (target instanceof HTMLEMenuItemElement) {\r\n            const isClosestMenu = this.#isClosestMenu(target);\r\n            if (isClosestMenu) {\r\n                const isExpanded = !expanded;\r\n                this.expanded = isExpanded;\r\n                if (isExpanded) {\r\n                    if (activeItem && !activeItem.expanded) {\r\n                        activeItem.expand();\r\n                    }\r\n                    const { menu } = target;\r\n                    menu?.focus({ preventScroll: true });\r\n                }\r\n                else {\r\n                    if (activeItem) {\r\n                        activeItem.collapse();\r\n                        activeItem.blur();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleKeyDownEvent(event) {\r\n        const { key } = event;\r\n        const { expanded } = this;\r\n        let { activeItem } = this;\r\n        switch (key) {\r\n            case \"ArrowLeft\": {\r\n                const previousItem = activeItem ?\r\n                    this.#previousItem(activeItem) ?? this.#lastItem() :\r\n                    this.firstItem();\r\n                previousItem?.focus({ preventScroll: true });\r\n                ({ activeItem } = this);\r\n                if (expanded && activeItem) {\r\n                    const firstChildItem = this.#firstChildItem(activeItem);\r\n                    firstChildItem?.focus({ preventScroll: true });\r\n                }\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                const nextItem = activeItem ?\r\n                    this.#nextItem(activeItem) ?? this.firstItem() :\r\n                    this.#lastItem();\r\n                nextItem?.focus({ preventScroll: true });\r\n                ({ activeItem } = this);\r\n                if (expanded && activeItem) {\r\n                    const firstChildItem = this.#firstChildItem(activeItem);\r\n                    firstChildItem?.focus({ preventScroll: true });\r\n                }\r\n                break;\r\n            }\r\n            case \"Enter\":\r\n            case \" \": {\r\n                if (activeItem) {\r\n                    this.expanded = !expanded;\r\n                    if (!expanded) {\r\n                        const firstChildItem = this.#firstChildItem(activeItem);\r\n                        firstChildItem?.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                if (expanded) {\r\n                    this.expanded = false;\r\n                    if (activeItem) {\r\n                        activeItem.collapse();\r\n                        activeItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    this.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuBarElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuBarElementBase.prototype, \"expanded\", void 0);\r\nHTMLEMenuBarElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-menubar\"\r\n    })\r\n], HTMLEMenuBarElementBase);\r\nvar HTMLEMenuBarElement = HTMLEMenuBarElementBase;\r\n//# sourceMappingURL=MenuBar.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR, DEFAULT_THEME_FOCUSED_ITEM_COLOR, DEFAULT_THEME_HOVERED_ITEM_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, element, QueryProperty } from \"../../Element\";\r\nimport \"./Menu\";\r\nimport \"./MenuItem\";\r\nimport \"./MenuItemGroup\";\r\nexport { HTMLEMenuButtonElement };\r\nexport { EMenuButton };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEMenuButtonElementBase = class HTMLEMenuButtonElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"), element(\"slot\", {\r\n            attributes: {\r\n                name: \"menu\"\r\n            }\r\n        }));\r\n        style = /*css*/ `\r\n            :host {\r\n                position: relative;\r\n                display: inline-block;\r\n                padding: 2px;\r\n                line-height: 18px;\r\n                user-select: none;\r\n                white-space: nowrap;\r\n                cursor: pointer;\r\n            }\r\n            \r\n            :host(:focus) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n            \r\n            :host(:focus-within:not(:focus)) {\r\n                background-color: var(--theme-focused-item-color, ${DEFAULT_THEME_FOCUSED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host(:hover:not(:focus-within)) {\r\n                background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host([disabled]) {\r\n                color: lightgray;\r\n            }\r\n            \r\n            ::slotted([slot=\"menu\"]) {\r\n                z-index: 1;\r\n                position: absolute;\r\n                color: initial;\r\n            }\r\n            \r\n            :host(:not([expanded])) ::slotted([slot=\"menu\"]) {\r\n                opacity: 0;\r\n                pointer-events: none;\r\n            }\r\n            \r\n            :host::after {\r\n                display: inline-block;\r\n                text-align: center;\r\n                width: 18px;\r\n                height: 18px;\r\n                content: \"▾\";\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n        this.addEventListener(\"click\", this.#handleClickEvent.bind(this));\r\n        this.addEventListener(\"focusout\", this.#handleFocusOutEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const tabindex = this.getAttribute(\"tabindex\");\r\n        this.tabIndex = tabindex !== null ? parseInt(tabindex) : -1;\r\n    }\r\n    toggle(force) {\r\n        const { expanded } = this;\r\n        const expand = force ?? !expanded;\r\n        expand ? this.expand() : this.collapse();\r\n    }\r\n    expand() {\r\n        const { expanded } = this;\r\n        if (!expanded) {\r\n            this.expanded = true;\r\n            this.#positionMenu();\r\n        }\r\n    }\r\n    collapse() {\r\n        const { expanded } = this;\r\n        if (expanded) {\r\n            this.expanded = false;\r\n        }\r\n    }\r\n    #positionMenu() {\r\n        const { menu } = this;\r\n        if (menu !== null) {\r\n            const { width, height } = this.getBoundingClientRect();\r\n            const { style: menuStyle } = menu;\r\n            const { width: menuWidth, height: menuHeight } = menu.getBoundingClientRect();\r\n            const { clientWidth, clientHeight } = document.body;\r\n            const { offsetLeft, offsetTop } = this;\r\n            const overflowX = offsetLeft + width + menuWidth - clientWidth;\r\n            const overflowY = offsetTop + menuHeight - clientHeight;\r\n            menuStyle.setProperty(\"left\", `${overflowX > 0 ?\r\n                width - menuWidth :\r\n                0}px`);\r\n            menuStyle.setProperty(\"top\", `${overflowY > 0 ?\r\n                -menuHeight :\r\n                height}px`);\r\n        }\r\n    }\r\n    #handleClickEvent(event) {\r\n        const { target } = event;\r\n        const { menu } = this;\r\n        if (menu && !menu.contains(target)) {\r\n            this.toggle();\r\n            const { expanded } = this;\r\n            if (expanded) {\r\n                menu?.focus({ preventScroll: true });\r\n            }\r\n        }\r\n    }\r\n    #handleFocusOutEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const lostFocusWithin = !this.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            this.collapse();\r\n        }\r\n    }\r\n    #handleKeyDownEvent(event) {\r\n        const { key } = event;\r\n        const { expanded } = this;\r\n        switch (key) {\r\n            case \"ArrowDown\":\r\n            case \"Enter\":\r\n                if (!expanded) {\r\n                    this.expand();\r\n                    this.firstItem?.focus({ preventScroll: true });\r\n                    event.stopPropagation();\r\n                }\r\n                break;\r\n            case \"Escape\":\r\n                if (expanded) {\r\n                    this.collapse();\r\n                }\r\n                this.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-menu[slot=menu]\" })\r\n], HTMLEMenuButtonElementBase.prototype, \"menu\", void 0);\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-menu[slot=menu] e-menuitem\" })\r\n], HTMLEMenuButtonElementBase.prototype, \"firstItem\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuButtonElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuButtonElementBase.prototype, \"disabled\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuButtonElementBase.prototype, \"expanded\", void 0);\r\nHTMLEMenuButtonElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-menubutton\"\r\n    })\r\n], HTMLEMenuButtonElementBase);\r\nvar HTMLEMenuButtonElement = HTMLEMenuButtonElementBase;\r\nvar EMenuButton = Object.assign(function (init) {\r\n    const { menu } = init;\r\n    menu.slot = \"menu\";\r\n    return element(\"e-menubutton\", {\r\n        attributes: {\r\n            tabindex: -1\r\n        },\r\n        children: [menu]\r\n    });\r\n}, {\r\n    prototype: HTMLEMenuButtonElement.prototype,\r\n});\r\n//# sourceMappingURL=MenuButton.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { element, reactiveChildElements, CustomElement, fragment, reactiveElement } from \"../elements/Element\";\r\nimport { ModelList, ModelObject, ReactiveProperty } from \"../models/Model\";\r\nimport { View } from \"./View\";\r\nimport { resetStylesheet } from \"../stylesheets/Reset\";\r\nexport { GridModel };\r\nexport { GridRowModel };\r\nexport { GridColumnModel };\r\nexport { GridView };\r\nimport \"../elements/controls/sashes\";\r\nimport \"../elements/containers/grid\";\r\nimport \"../elements/containers/menus\";\r\nimport { DEFAULT_THEME_ARROW_DROPDOWN_IMAGE, DEFAULT_THEME_ARROW_DROPUP_IMAGE } from \"../stylesheets/Theme\";\r\nclass GridModel extends ModelObject {\r\n    rows;\r\n    columns;\r\n    constructor(init) {\r\n        super();\r\n        const { rows: initRows = [], columns: initColumns = [] } = init ?? {};\r\n        const rows = new ModelList(initRows);\r\n        rows.setParent(this);\r\n        this.rows = rows;\r\n        const columns = new ModelList(initColumns);\r\n        columns.setParent(this);\r\n        this.columns = columns;\r\n    }\r\n    getColumnByName(name) {\r\n        return Array.from(this.columns.values()).find(column_i => column_i.name == name) ?? null;\r\n    }\r\n    sortByColumn(column, sortOrder) {\r\n        Array.from(this.columns.values()).forEach((column_i) => {\r\n            column_i.sortorder = column_i === column ? sortOrder : undefined;\r\n        });\r\n        const sortTest = (() => {\r\n            const { type } = column;\r\n            switch (type) {\r\n                case String: {\r\n                    return (row_1, row_2) => {\r\n                        const cell_1 = String(column.extract(row_1));\r\n                        const cell_2 = String(column.extract(row_2));\r\n                        return sortOrder * cell_1.localeCompare(cell_2);\r\n                    };\r\n                }\r\n                default: {\r\n                    return (row_1, row_2) => {\r\n                        const cell_1 = Number(column.extract(row_1));\r\n                        const cell_2 = Number(column.extract(row_2));\r\n                        return Math.sign(sortOrder * (cell_1 - cell_2));\r\n                    };\r\n                }\r\n            }\r\n        })();\r\n        this.rows.sort(sortTest);\r\n    }\r\n}\r\nclass GridColumnModel extends ModelObject {\r\n    name;\r\n    type;\r\n    label;\r\n    extract;\r\n    filters;\r\n    sortorder;\r\n    constructor(init) {\r\n        super();\r\n        const { name, type, label, extract, filters = [] } = init;\r\n        this.name = name;\r\n        this.type = type;\r\n        this.label = label;\r\n        this.extract = extract;\r\n        this.filters = filters;\r\n    }\r\n}\r\n__decorate([\r\n    ReactiveProperty()\r\n], GridColumnModel.prototype, \"sortorder\", void 0);\r\nclass GridRowModel extends ModelObject {\r\n    id;\r\n    constructor(init) {\r\n        super();\r\n        const { id } = init;\r\n        this.id = id;\r\n    }\r\n}\r\nvar style;\r\nlet GridViewBase = class GridViewBase extends View {\r\n    #columnDelegate;\r\n    #cellDelegate;\r\n    #displayFilters;\r\n    static {\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n            }\r\n            \r\n            e-gridrow[hidden] {\r\n                display: none;\r\n            }\r\n            \r\n            e-gridcell[type=\"gridcell\"] {\r\n                max-width: 0;\r\n                overflow: clip;\r\n                text-overflow: ellipsis;\r\n                white-space: nowrap;\r\n            }\r\n            \r\n            e-gridcell[type=\"columnheader\"] {\r\n                width: 120px;\r\n            }\r\n            \r\n            .gridcell-label,\r\n            .gridheader-label {\r\n                padding-left: 4px;\r\n            }\r\n            \r\n            .gridcell-content {\r\n                overflow: clip;\r\n            }\r\n            \r\n            .gridheader-content {\r\n                display: flex;\r\n            }\r\n            \r\n            .gridheader-label {\r\n                flex: 1 1 0;\r\n                overflow: clip;\r\n                text-overflow: ellipsis;\r\n                white-space: nowrap;\r\n            }\r\n            \r\n            e-treeitem::part(arrow) {\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n                margin: 1px 4px 1px 1px;\r\n            }\r\n            \r\n            .gridheader-sort-indicator {\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n            }\r\n            \r\n            .gridheader-sort-indicator::before {\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n                margin: 1px;\r\n                content: \"\";\r\n\r\n                mask-size: 18px 18px;\r\n                -webkit-mask-size: 18px 18px;\r\n                background-color: none;\r\n            }\r\n            \r\n            e-gridcell[type=\"columnheader\"]:not([data-sortorder]) .gridheader-sort-indicator::before {\r\n                background-color: unset;\r\n            }\r\n            \r\n            e-gridcell[type=\"columnheader\"][data-sortorder=\"1\"] .gridheader-sort-indicator::before {\r\n                -webkit-mask-image: var(--theme-arrow-dropup-image, url(${DEFAULT_THEME_ARROW_DROPUP_IMAGE}));\r\n                mask-image: var(--theme-arrow-dropup-image, url(${DEFAULT_THEME_ARROW_DROPUP_IMAGE}));\r\n                background-color: black;\r\n            }\r\n            \r\n            e-gridcell[type=\"columnheader\"][data-sortorder=\"-1\"] .gridheader-sort-indicator::before {\r\n                -webkit-mask-image: var(--theme-arrow-dropdown-image, url(${DEFAULT_THEME_ARROW_DROPDOWN_IMAGE}));\r\n                mask-image: var(--theme-arrow-dropdown-image, url(${DEFAULT_THEME_ARROW_DROPDOWN_IMAGE}));\r\n                background-color: black;\r\n            }\r\n        `;\r\n    }\r\n    constructor(model) {\r\n        super();\r\n        this.#displayFilters = [];\r\n        this.#cellDelegate =\r\n            (row, column) => element(\"label\", {\r\n                children: column.extract(row)\r\n            });\r\n        this.#columnDelegate =\r\n            (column) => element(\"label\", {\r\n                children: column.label\r\n            });\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet, resetStylesheet];\r\n        this.setModel(model ?? new GridModel());\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"resizable\":\r\n            case \"sortable\": {\r\n                this.render();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    get gridElement() {\r\n        return this.shadowRoot.querySelector(\"e-grid\");\r\n    }\r\n    setColumnDelegate(delegate) {\r\n        this.#columnDelegate = delegate;\r\n    }\r\n    setCellDelegate(delegate) {\r\n        this.#cellDelegate = delegate;\r\n    }\r\n    getRowElement(row) {\r\n        return this.shadowRoot.querySelector(`e-grid > e-gridbody > e-gridrow[data-index='${row.id}']`);\r\n    }\r\n    getColumnHeaderElement(column) {\r\n        return this.shadowRoot.querySelector(`e-grid > e-gridhead > e-gridcell[id=${column.name}]`);\r\n    }\r\n    getColumnCellsElements(column) {\r\n        return Array.from(this.shadowRoot.querySelectorAll(`e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${column.name}]`));\r\n    }\r\n    renderShadow() {\r\n        const { model } = this;\r\n        return fragment(element(\"e-grid\", {\r\n            attributes: {\r\n                tabindex: 0,\r\n                selectby: \"row\",\r\n                multisectable: true\r\n            },\r\n            children: [\r\n                element(\"e-gridhead\", {\r\n                    children: reactiveChildElements(model.columns, column => this.#renderGridColumnHeaderCell(column)),\r\n                    listeners: {\r\n                        contextmenu: this.#handleHeadContextMenuEvent.bind(this),\r\n                        click: this.#handleHeadClickEvent.bind(this)\r\n                    }\r\n                }),\r\n                element(\"e-gridbody\", {\r\n                    children: reactiveChildElements(model.rows, row => this.#renderGridBodyRow(row))\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    filter(row) {\r\n        const displayFilters = this.#displayFilters;\r\n        return (displayFilters.length > 0 ? displayFilters.some(filter_i => filter_i.filter(row)) : true);\r\n    }\r\n    addDisplayFilter(filter) {\r\n        const { model, gridElement } = this;\r\n        const { rows } = model;\r\n        const displayFilters = this.#displayFilters;\r\n        if (!displayFilters.includes(filter)) {\r\n            displayFilters.push(filter);\r\n            Array.from(rows.values()).forEach((row_i) => {\r\n                const rowElement = this.getRowElement(row_i);\r\n                if (rowElement) {\r\n                    rowElement.hidden = !this.filter(row_i);\r\n                }\r\n            });\r\n        }\r\n        gridElement.clearSelection();\r\n    }\r\n    removeDisplayFilter(filter) {\r\n        const { model, gridElement } = this;\r\n        const { rows } = model;\r\n        const displayFilters = this.#displayFilters;\r\n        const filterIndex = displayFilters.indexOf(filter);\r\n        if (filterIndex > -1) {\r\n            displayFilters.splice(filterIndex, 1);\r\n            Array.from(rows.values()).forEach((row_i) => {\r\n                const rowElement = this.getRowElement(row_i);\r\n                if (rowElement) {\r\n                    rowElement.hidden = !this.filter(row_i);\r\n                }\r\n            });\r\n        }\r\n        gridElement.clearSelection();\r\n    }\r\n    removeAllDisplayFilters() {\r\n        const { model, gridElement } = this;\r\n        const { rows } = model;\r\n        const displayFilters = this.#displayFilters;\r\n        displayFilters.splice(0, displayFilters.length);\r\n        Array.from(rows.values()).forEach((row_i) => {\r\n            const rowElement = this.getRowElement(row_i);\r\n            if (rowElement) {\r\n                rowElement.hidden = !this.filter(row_i);\r\n            }\r\n        });\r\n        gridElement.clearSelection();\r\n    }\r\n    #renderGridColumnHeaderCell(column) {\r\n        const gridColumnElement = reactiveElement(column, element(\"e-gridcell\", {\r\n            attributes: {\r\n                type: \"columnheader\",\r\n                id: column.name\r\n            },\r\n            children: [\r\n                element(\"span\", {\r\n                    attributes: {\r\n                        class: \"gridheader-content\"\r\n                    },\r\n                    children: [\r\n                        element(\"span\", {\r\n                            attributes: {\r\n                                class: \"gridheader-label\"\r\n                            },\r\n                            children: this.#columnDelegate(column)\r\n                        }),\r\n                        element(\"span\", {\r\n                            attributes: {\r\n                                class: \"gridheader-sort-indicator\"\r\n                            }\r\n                        }),\r\n                        element(\"e-wsash\", {\r\n                            attributes: {\r\n                                controls: column.name\r\n                            }\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }), [\"sortorder\"], (cell, property, oldValue, newValue) => {\r\n            switch (property) {\r\n                case \"sortorder\": {\r\n                    const { dataset } = cell;\r\n                    if (typeof newValue !== \"undefined\") {\r\n                        dataset.sortorder = newValue.toString();\r\n                    }\r\n                    else {\r\n                        delete dataset.sortorder;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        return gridColumnElement;\r\n    }\r\n    #renderGridBodyRow(row) {\r\n        const { model } = this;\r\n        const gridRowElement = element(\"e-gridrow\", {\r\n            attributes: {\r\n                tabindex: -1\r\n            },\r\n            dataset: {\r\n                index: row.id\r\n            },\r\n            children: reactiveChildElements(model.columns, column => this.#renderGridDataCell(row, column))\r\n        });\r\n        return gridRowElement;\r\n    }\r\n    #renderGridDataCell(row, column) {\r\n        const gridCellElement = element(\"e-gridcell\", {\r\n            attributes: {\r\n                type: \"gridcell\",\r\n                headers: column.name\r\n            },\r\n            children: element(\"span\", {\r\n                attributes: {\r\n                    class: \"gridcell-content\"\r\n                },\r\n                children: [\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"gridcell-label\"\r\n                        },\r\n                        children: this.#cellDelegate(row, column)\r\n                    })\r\n                ]\r\n            })\r\n        });\r\n        return gridCellElement;\r\n    }\r\n    #handleHeadContextMenuEvent(event) {\r\n        const { clientX, clientY, currentTarget, target } = event;\r\n        const { gridElement } = this;\r\n        const targetHead = currentTarget;\r\n        const targetHeader = target.closest(\"e-gridcell\");\r\n        const { model } = this;\r\n        if (targetHeader) {\r\n            const column = model.getColumnByName(targetHeader.id);\r\n            const { sortorder, filters } = column;\r\n            const contextMenu = element(\"e-menu\", {\r\n                attributes: {\r\n                    contextual: true\r\n                },\r\n                children: [\r\n                    element(\"e-menuitem\", {\r\n                        attributes: {\r\n                            label: \"Resize Auto\"\r\n                        },\r\n                        children: \"Resize auto\",\r\n                        listeners: {\r\n                            click: () => {\r\n                                const columnHeaderElement = this.getColumnHeaderElement(column);\r\n                                if (columnHeaderElement) {\r\n                                    const { style } = columnHeaderElement;\r\n                                    const labels = this.getColumnCellsElements(column).map(cell_i => cell_i.querySelector(\".gridcell-label\"));\r\n                                    const maxWidth = labels.reduce((maxWidth, label) => Math.max(maxWidth, label.getBoundingClientRect().width), 0);\r\n                                    style.setProperty(\"width\", `${maxWidth}px`);\r\n                                }\r\n                                gridElement.focus();\r\n                            }\r\n                        }\r\n                    }),\r\n                    element(\"e-menuitem\", {\r\n                        attributes: {\r\n                            label: \"Resize To Default\"\r\n                        },\r\n                        children: \"Resize to Default\",\r\n                        listeners: {\r\n                            click: () => {\r\n                                const columnHeaderElement = this.getColumnHeaderElement(column);\r\n                                if (columnHeaderElement) {\r\n                                    const { style } = columnHeaderElement;\r\n                                    style.removeProperty(\"width\");\r\n                                }\r\n                                gridElement.focus();\r\n                            }\r\n                        }\r\n                    }),\r\n                    element(\"e-menuitem\", {\r\n                        attributes: {\r\n                            type: \"submenu\",\r\n                            label: \"Sort\",\r\n                        },\r\n                        children: [\r\n                            \"Sort\",\r\n                            element(\"e-menu\", {\r\n                                attributes: {\r\n                                    slot: \"menu\"\r\n                                },\r\n                                children: [\r\n                                    element(\"e-menuitem\", {\r\n                                        attributes: {\r\n                                            type: \"radio\",\r\n                                            name: \"sort\",\r\n                                            value: \"1\",\r\n                                            label: \"Ascending\",\r\n                                            checked: sortorder === 1\r\n                                        },\r\n                                        children: \"Ascending\"\r\n                                    }),\r\n                                    element(\"e-menuitem\", {\r\n                                        attributes: {\r\n                                            type: \"radio\",\r\n                                            name: \"sort\",\r\n                                            value: \"-1\",\r\n                                            label: \"Descending\",\r\n                                            checked: sortorder === -1\r\n                                        },\r\n                                        children: \"Descending\"\r\n                                    })\r\n                                ],\r\n                                listeners: {\r\n                                    click: (event) => {\r\n                                        const { target } = event;\r\n                                        const targetItem = target.closest(\"e-menuitem\");\r\n                                        if (targetItem) {\r\n                                            model.sortByColumn(column, Number(targetItem.value));\r\n                                        }\r\n                                        gridElement.focus();\r\n                                    }\r\n                                }\r\n                            })\r\n                        ]\r\n                    }),\r\n                    element(\"e-menuitem\", {\r\n                        attributes: {\r\n                            type: \"submenu\",\r\n                            label: \"Filter\"\r\n                        },\r\n                        children: [\r\n                            \"Filter\",\r\n                            element(\"e-menu\", {\r\n                                attributes: {\r\n                                    slot: \"menu\"\r\n                                },\r\n                                children: filters.map(filter => {\r\n                                    const { name } = filter;\r\n                                    return element(\"e-menuitem\", {\r\n                                        attributes: {\r\n                                            type: \"checkbox\",\r\n                                            checked: this.#displayFilters.includes(filter),\r\n                                            label: name\r\n                                        },\r\n                                        children: name\r\n                                    });\r\n                                }).concat(element(\"e-menuitem\", {\r\n                                    attributes: {\r\n                                        type: \"button\",\r\n                                        label: \"Remove filters\"\r\n                                    },\r\n                                    children: \"Remove filters\"\r\n                                })),\r\n                                listeners: {\r\n                                    click: (event) => {\r\n                                        const { target } = event;\r\n                                        const targetItem = target.closest(\"e-menuitem\");\r\n                                        if (targetItem) {\r\n                                            const { checked, label } = targetItem;\r\n                                            const filter = filters.find(filter => filter.name === label);\r\n                                            if (filter) {\r\n                                                if (checked) {\r\n                                                    this.addDisplayFilter(filter);\r\n                                                }\r\n                                                else {\r\n                                                    this.removeDisplayFilter(filter);\r\n                                                }\r\n                                            }\r\n                                            else {\r\n                                                this.removeAllDisplayFilters();\r\n                                            }\r\n                                        }\r\n                                        gridElement.focus();\r\n                                    }\r\n                                }\r\n                            })\r\n                        ]\r\n                    })\r\n                ]\r\n            });\r\n            targetHead.append(contextMenu);\r\n            contextMenu.positionContextual(clientX, clientY);\r\n            contextMenu.focus({ preventScroll: true });\r\n            event.preventDefault();\r\n        }\r\n    }\r\n    #handleHeadClickEvent(event) {\r\n        const { target } = event;\r\n        const targetIsHeaderContent = target.matches(\"e-gridcell[type=columnheader] :scope:not(e-wsash)\");\r\n        if (targetIsHeaderContent) {\r\n            const targetHeader = target.closest(\"e-gridcell\");\r\n            const { model } = this;\r\n            const { columns } = model;\r\n            if (targetHeader) {\r\n                const targetColumn = Array.from(columns.values()).find(column_i => column_i.name == targetHeader.id);\r\n                if (targetColumn) {\r\n                    const { sortorder = -1 } = targetColumn;\r\n                    model.sortByColumn(targetColumn, -sortorder);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nGridViewBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridview\"\r\n    })\r\n], GridViewBase);\r\nvar GridView = GridViewBase;\r\n//# sourceMappingURL=GridView.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element, AttributeProperty, QueryProperty } from \"../../Element\";\r\nexport { HTMLETreeItemElement };\r\nimport stylesheet from \"../../../../css/elements/containers/trees/treeitem.css\" assert { type: 'css' };\r\nimport { theme } from \"../../../stylesheets/Theme\";\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLETreeItemElementBase = class HTMLETreeItemElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"div\", {\r\n            attributes: {\r\n                part: \"content\"\r\n            },\r\n            children: [\r\n                element(\"span\", {\r\n                    attributes: {\r\n                        part: \"arrow\"\r\n                    }\r\n                }),\r\n                element(\"slot\")\r\n            ]\r\n        }), element(\"slot\", {\r\n            attributes: {\r\n                name: \"group\"\r\n            }\r\n        }));\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [theme.stylesheet, ...Array.from(stylesheet).map((item) => {\r\n                const [count, source] = item;\r\n                const stylesheet = new CSSStyleSheet();\r\n                stylesheet.replace(source);\r\n                return stylesheet;\r\n            })];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n        console.log(\"there\");\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"expanded\": {\r\n                this.dispatchEvent(new Event(\"toggle\", { bubbles: true }));\r\n                break;\r\n            }\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n            case \"label\": {\r\n                const labelPart = this.shadowRoot.querySelector(\"[part=label]\");\r\n                if (labelPart) {\r\n                    labelPart.textContent = newValue;\r\n                }\r\n                break;\r\n            }\r\n            case \"level\": {\r\n                this.shadowRoot.adoptedStyleSheets[2].cssRules[6].styleMap.set(\"padding-left\", `${12 * Number(newValue)}px`);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    toggle(force) {\r\n        const { expanded } = this;\r\n        this.expanded = force ?? !expanded;\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLETreeItemElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number })\r\n], HTMLETreeItemElementBase.prototype, \"posinset\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLETreeItemElementBase.prototype, \"label\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLETreeItemElementBase.prototype, \"expanded\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETreeItemElementBase.prototype, \"droptarget\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETreeItemElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLETreeItemElementBase.prototype, \"selected\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number, observed: true })\r\n], HTMLETreeItemElementBase.prototype, \"level\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"leaf\" })\r\n], HTMLETreeItemElementBase.prototype, \"type\", void 0);\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-treeitemgroup[slot=group]\" })\r\n], HTMLETreeItemElementBase.prototype, \"group\", void 0);\r\nHTMLETreeItemElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-treeitem\"\r\n    })\r\n], HTMLETreeItemElementBase);\r\nvar HTMLETreeItemElement = HTMLETreeItemElementBase;\r\n//# sourceMappingURL=TreeItem.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport \"./TreeItem\";\r\nexport { HTMLETreeItemGroupElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLETreeItemGroupElementBase = class HTMLETreeItemGroupElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n};\r\nHTMLETreeItemGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-treeitemgroup\"\r\n    })\r\n], HTMLETreeItemGroupElementBase);\r\nvar HTMLETreeItemGroupElement = HTMLETreeItemGroupElementBase;\r\n//# sourceMappingURL=TreeItemGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLETreeItemElement } from \"./TreeItem\";\r\nimport { HTMLETreeItemGroupElement } from \"./TreeItemGroup\";\r\nimport \"./TreeItem\";\r\nimport \"./TreeItemGroup\";\r\nexport { HTMLETreeElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLETreeElementBase = class HTMLETreeElementBase extends HTMLElement {\r\n    items;\r\n    get activeItem() {\r\n        return this.querySelector(\"e-treeitem[active]\");\r\n    }\r\n    get dropTargetItem() {\r\n        return this.querySelector(\"e-treeitem[droptarget]\");\r\n    }\r\n    #onSelection;\r\n    #hasSelectionChanged;\r\n    #walker;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n            }\r\n            \r\n            :host(:focus) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.#walker = document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, this.#nodeFilter.bind(this));\r\n        this.#onSelection = false;\r\n        this.#hasSelectionChanged = false;\r\n        this.items = this.getElementsByTagName(\"e-treeitem\");\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"click\", this.#handleClickEvent.bind(this));\r\n        this.addEventListener(\"contextmenu\", this.#handleContextMenuEvent.bind(this));\r\n        this.addEventListener(\"dblclick\", this.#handleDblClickEvent.bind(this));\r\n        this.addEventListener(\"mousedown\", this.#handleMouseDownEvent.bind(this));\r\n        this.addEventListener(\"dragend\", this.#handleDragEndEvent.bind(this));\r\n        this.addEventListener(\"dragenter\", this.#handleDragEnterEvent.bind(this));\r\n        this.addEventListener(\"dragleave\", this.#handleDragLeaveEvent.bind(this));\r\n        this.addEventListener(\"dragover\", this.#handleDragOverEvent.bind(this));\r\n        this.addEventListener(\"drop\", this.#handleDropEvent.bind(this));\r\n        this.addEventListener(\"focus\", this.#handleFocusEvent.bind(this));\r\n        this.addEventListener(\"focusin\", this.#handleFocusInEvent.bind(this));\r\n        this.addEventListener(\"focusout\", this.#handleFocusOutEvent.bind(this));\r\n        this.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n        this.addEventListener(\"select\", this.#handleSelectEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    selectedItems() {\r\n        const selectedItems = [];\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        let item = this.firstItem();\r\n        while (item !== null) {\r\n            if (item.selected) {\r\n                selectedItems.push(item);\r\n            }\r\n            item = this.#nextItem(item);\r\n        }\r\n        return selectedItems;\r\n    }\r\n    beginSelection() {\r\n        this.#onSelection = true;\r\n    }\r\n    endSelection() {\r\n        this.#onSelection = false;\r\n        if (this.#hasSelectionChanged) {\r\n            this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n            this.#hasSelectionChanged = false;\r\n        }\r\n    }\r\n    #nodeFilter(node) {\r\n        if (node instanceof HTMLETreeItemElement) {\r\n            return NodeFilter.FILTER_ACCEPT;\r\n        }\r\n        if (node instanceof HTMLETreeItemGroupElement) {\r\n            return NodeFilter.FILTER_SKIP;\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    }\r\n    #getItemsRange(from, to) {\r\n        if (from == to) {\r\n            return [from];\r\n        }\r\n        const position = from.compareDocumentPosition(to);\r\n        if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n            const range = [from];\r\n            let nextVisibleItem = this.#nextItem(from);\r\n            while (nextVisibleItem && nextVisibleItem !== to) {\r\n                range.push(nextVisibleItem);\r\n                nextVisibleItem = this.#nextItem(nextVisibleItem);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\r\n            const range = [from];\r\n            let previousVisibleItem = this.#previousItem(from);\r\n            while (previousVisibleItem && previousVisibleItem !== to) {\r\n                range.push(previousVisibleItem);\r\n                previousVisibleItem = this.#previousItem(previousVisibleItem);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        return [];\r\n    }\r\n    #setSelection(...items) {\r\n        const selectedItems = this.selectedItems();\r\n        this.beginSelection();\r\n        selectedItems.forEach((selectedItem_i) => {\r\n            if (!items.includes(selectedItem_i)) {\r\n                selectedItem_i.selected = false;\r\n            }\r\n        });\r\n        items.forEach((item_i) => {\r\n            if (this.contains(item_i) && !item_i.selected) {\r\n                item_i.selected = true;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #addToSelection(...items) {\r\n        this.beginSelection();\r\n        items.forEach((item_i) => {\r\n            if (!item_i.selected) {\r\n                item_i.selected = true;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #removeFromSelection(...items) {\r\n        const selectedItems = this.selectedItems();\r\n        this.beginSelection();\r\n        items.forEach((item_i) => {\r\n            if (selectedItems.includes(item_i)) {\r\n                item_i.selected = false;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #clearSelection() {\r\n        const selectedItems = this.selectedItems();\r\n        this.beginSelection();\r\n        selectedItems.forEach((item_i) => {\r\n            item_i.selected = false;\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #setActiveItem(item) {\r\n        const { activeItem } = this;\r\n        if (activeItem !== null && activeItem !== item) {\r\n            activeItem.active = false;\r\n            activeItem.tabIndex = -1;\r\n        }\r\n        if (item !== null) {\r\n            const walker = this.#walker;\r\n            walker.currentNode = item;\r\n            item.active = true;\r\n            item.tabIndex = 0;\r\n        }\r\n    }\r\n    #setDropTargetItem(item) {\r\n        const { dropTargetItem } = this;\r\n        if (dropTargetItem !== null && dropTargetItem !== item) {\r\n            dropTargetItem.droptarget = false;\r\n        }\r\n        if (item !== null) {\r\n            this.droptarget = true;\r\n            item.droptarget = true;\r\n        }\r\n        else {\r\n            this.droptarget = false;\r\n        }\r\n    }\r\n    firstItem() {\r\n        const walker = this.#walker;\r\n        const { root } = walker;\r\n        walker.currentNode = root;\r\n        return walker.firstChild();\r\n    }\r\n    #lastItem() {\r\n        const walker = this.#walker;\r\n        const { root } = walker;\r\n        walker.currentNode = root;\r\n        return walker.lastChild();\r\n    }\r\n    #previousItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        const previousSibling = walker.previousSibling();\r\n        return previousSibling ?\r\n            this.#deepestItem(previousSibling) :\r\n            walker.parentNode();\r\n    }\r\n    #nextItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        const { type, expanded } = item;\r\n        return (type === \"leaf\" ?\r\n            walker.nextNode() :\r\n            expanded ?\r\n                walker.nextNode() :\r\n                walker.nextSibling() ??\r\n                    (walker.parentNode(), walker.nextSibling()));\r\n    }\r\n    #deepestItem(item) {\r\n        if (item.expanded) {\r\n            const walker = this.#walker;\r\n            const lastItem = walker.lastChild();\r\n            if (lastItem) {\r\n                return this.#deepestItem(lastItem);\r\n            }\r\n        }\r\n        return item;\r\n    }\r\n    #handleClickEvent(event) {\r\n        const { target, shiftKey, ctrlKey } = event;\r\n        const targetItem = target.closest(\"e-treeitem\");\r\n        if (targetItem) {\r\n            if (!shiftKey && !ctrlKey) {\r\n                this.#setSelection(targetItem);\r\n                const { type } = targetItem;\r\n                if (type == \"parent\") {\r\n                    targetItem.toggle();\r\n                }\r\n            }\r\n        }\r\n        event.stopPropagation();\r\n    }\r\n    #handleContextMenuEvent(event) {\r\n        event.stopPropagation();\r\n    }\r\n    #handleDblClickEvent(event) {\r\n        event.stopPropagation();\r\n    }\r\n    #handleDragEndEvent() {\r\n        this.#setDropTargetItem(null);\r\n    }\r\n    #handleDragEnterEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\"e-treeitem\");\r\n        if (targetItem) {\r\n            const { type } = targetItem;\r\n            if (type == \"parent\") {\r\n                targetItem.toggle(true);\r\n            }\r\n            this.#setDropTargetItem(targetItem);\r\n        }\r\n        event.preventDefault();\r\n    }\r\n    #handleDragOverEvent(event) {\r\n        event.preventDefault();\r\n    }\r\n    #handleDragLeaveEvent(event) {\r\n        const { relatedTarget } = event;\r\n        if (relatedTarget instanceof Element) {\r\n            const parentItem = relatedTarget.closest(\"e-treeitem\");\r\n            if (!parentItem) {\r\n                let rootNode = relatedTarget;\r\n                while (!(rootNode instanceof HTMLETreeItemElement || rootNode instanceof Document)) {\r\n                    rootNode = rootNode.getRootNode();\r\n                    if (rootNode instanceof ShadowRoot) {\r\n                        rootNode = rootNode.host;\r\n                    }\r\n                }\r\n                if (rootNode instanceof Document) {\r\n                    this.#setDropTargetItem(null);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleDropEvent() {\r\n        this.#setDropTargetItem(null);\r\n    }\r\n    #handleKeyDownEvent(event) {\r\n        const { key } = event;\r\n        const { activeItem } = this;\r\n        switch (key) {\r\n            case \"a\": {\r\n                const { ctrlKey } = event;\r\n                if (ctrlKey) {\r\n                    if (activeItem) {\r\n                        const walker = this.#walker;\r\n                        walker.currentNode = activeItem;\r\n                        const firstItem = (walker.currentNode = walker.parentNode() ?? this, walker.firstChild());\r\n                        const lastItem = (walker.currentNode = walker.parentNode() ?? this, walker.lastChild());\r\n                        if (firstItem && lastItem) {\r\n                            const range = this.#getItemsRange(firstItem, this.#deepestItem(lastItem));\r\n                            if (range) {\r\n                                this.#setSelection(...range);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n            case \"ArrowLeft\": {\r\n                if (activeItem) {\r\n                    if (activeItem.expanded) {\r\n                        activeItem.toggle();\r\n                    }\r\n                    else {\r\n                        const walker = this.#walker;\r\n                        const parentItem = walker.parentNode();\r\n                        if (parentItem) {\r\n                            parentItem.focus({ preventScroll: true });\r\n                        }\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                if (activeItem) {\r\n                    if (!activeItem.expanded) {\r\n                        activeItem.toggle();\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowUp\": {\r\n                if (activeItem) {\r\n                    const previousItem = this.#previousItem(activeItem);\r\n                    if (previousItem) {\r\n                        previousItem.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            previousItem.selected ?\r\n                                this.#removeFromSelection(previousItem) :\r\n                                this.#addToSelection(previousItem);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    const firstItem = this.firstItem();\r\n                    if (firstItem) {\r\n                        firstItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                if (activeItem) {\r\n                    const nextItem = this.#nextItem(activeItem);\r\n                    if (nextItem) {\r\n                        nextItem.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            nextItem.selected ?\r\n                                this.#removeFromSelection(nextItem) :\r\n                                this.#addToSelection(nextItem);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    const lastItem = this.#lastItem();\r\n                    if (lastItem) {\r\n                        lastItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = this.firstItem();\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = this.#lastItem();\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\": {\r\n                if (activeItem) {\r\n                    this.#setSelection(activeItem);\r\n                    activeItem.click();\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                this.#clearSelection();\r\n                this.#setActiveItem(null);\r\n                this.focus();\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handleFocusEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const { activeItem } = this;\r\n        if (!this.contains(relatedTarget)) {\r\n            (activeItem ?? this.firstItem())?.focus();\r\n        }\r\n    }\r\n    #handleFocusInEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\"e-treeitem\");\r\n        if (targetItem) {\r\n            this.#setActiveItem(targetItem);\r\n            this.tabIndex = -1;\r\n        }\r\n    }\r\n    #handleFocusOutEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const lostFocusWithin = !this.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            this.tabIndex = 0;\r\n        }\r\n    }\r\n    #handleMouseDownEvent(event) {\r\n        const { target, ctrlKey, shiftKey, button } = event;\r\n        if (target instanceof HTMLETreeItemElement) {\r\n            const { selected } = target;\r\n            switch (button) {\r\n                case 0:\r\n                    {\r\n                        if (!shiftKey && !ctrlKey && !selected) {\r\n                            this.#setSelection(target);\r\n                        }\r\n                        else if (ctrlKey) {\r\n                            if (selected) {\r\n                                target.blur();\r\n                            }\r\n                            (!selected) ?\r\n                                this.#addToSelection(target) :\r\n                                this.#removeFromSelection(target);\r\n                            event.stopPropagation();\r\n                        }\r\n                        else if (shiftKey) {\r\n                            const { activeItem } = this;\r\n                            if (activeItem) {\r\n                                const range = this.#getItemsRange(activeItem, target);\r\n                                if (range) {\r\n                                    this.#setSelection(...range);\r\n                                }\r\n                            }\r\n                            event.stopPropagation();\r\n                        }\r\n                    }\r\n                    break;\r\n                case 2: {\r\n                    if (!selected) {\r\n                        this.#setSelection(target);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleSelectEvent() {\r\n        if (this.#onSelection) {\r\n            this.#hasSelectionChanged = true;\r\n        }\r\n        else {\r\n            this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETreeElementBase.prototype, \"droptarget\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLETreeElementBase.prototype, \"name\", void 0);\r\nHTMLETreeElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tree\"\r\n    })\r\n], HTMLETreeElementBase);\r\nvar HTMLETreeElement = HTMLETreeElementBase;\r\n//# sourceMappingURL=Tree.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { AttributeProperty, CustomElement, element, fragment, reactiveChildElements, reactiveElement } from \"../elements/Element\";\r\nimport { ModelList, ModelObject, ReactiveProperty } from \"../models/Model\";\r\nimport { resetStylesheet } from \"../stylesheets/Reset\";\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR } from \"../stylesheets/Theme\";\r\nimport { View } from \"./View\";\r\nimport \"../elements/containers/trees\";\r\nexport { TreeItemModelList };\r\nexport { TreeModel };\r\nexport { TreeItemModel };\r\nexport { TreeView };\r\nclass TreeModel extends ModelObject {\r\n    items;\r\n    childItems;\r\n    sortFunction;\r\n    constructor(init) {\r\n        super();\r\n        const { items = [], sortFunction } = init ?? {};\r\n        items.forEach((item_i, i) => item_i.index = i);\r\n        const childItems = new ModelList(items);\r\n        childItems.setParent(this);\r\n        this.childItems = childItems;\r\n        this.items = new ModelList(this.subtreeItems());\r\n        this.sortFunction = sortFunction ??\r\n            function (item_a, item_b) {\r\n                return item_a.id.localeCompare(item_b.id);\r\n            };\r\n        this.addEventListener(\"modelchange\", this.#handleModelChangeEvent.bind(this));\r\n    }\r\n    #handleModelChangeEvent(event) {\r\n        const { target } = event;\r\n        const { items, sortFunction, subtreeItems } = this;\r\n        if (target instanceof ModelList) {\r\n            const records = target.getRecords();\r\n            records.forEach((record_i) => {\r\n                const { insertedItems, removedItems } = record_i;\r\n                const flattenedInsertedItems = Array.from(insertedItems.values()).flatMap(insertedItem_i => Array.of(insertedItem_i, ...subtreeItems.call(insertedItem_i)));\r\n                const flattenedRemovedItems = Array.from(removedItems.values()).flatMap(removedItem_i => Array.of(removedItem_i, ...subtreeItems.call(removedItem_i)));\r\n                items.beginChanges();\r\n                items.append(...flattenedInsertedItems);\r\n                flattenedRemovedItems.forEach((removedItem_i) => items.remove(removedItem_i));\r\n                if (sortFunction)\r\n                    items.sort(sortFunction);\r\n                items.endChanges();\r\n            });\r\n            Array.from(target.values()).forEach((item_i, i) => {\r\n                item_i.index = i;\r\n            });\r\n        }\r\n    }\r\n    subtreeItems() {\r\n        const { childItems } = this;\r\n        return Array.from(childItems.values()).flatMap(treeItem_i => Array.of(treeItem_i, ...treeItem_i.subtreeItems()));\r\n    }\r\n    getItemByUri(uri) {\r\n        const { childItems } = this;\r\n        const { length: itemsCount } = childItems;\r\n        const { length: uriLength } = uri;\r\n        for (let i = 0; i < itemsCount; i++) {\r\n            const item_i = childItems.get(i);\r\n            const { uri: itemUri } = item_i;\r\n            const { length: itemUriLength } = itemUri;\r\n            if (uri.startsWith(itemUri)) {\r\n                if (itemUriLength === uriLength) {\r\n                    return item_i;\r\n                }\r\n                return TreeModel.prototype.getItemByUri.call(item_i, uri);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\nclass TreeItemModelList {\r\n    items;\r\n    constructor(items) {\r\n        this.items = items;\r\n    }\r\n    get count() {\r\n        return this.items.length;\r\n    }\r\n    remove() {\r\n        const { items } = this;\r\n        const removedItemsGroups = items.reduce((map, item_i) => {\r\n            const { parentNode } = item_i;\r\n            if (parentNode instanceof TreeItemModel || parentNode instanceof TreeModel) {\r\n                const { childItems } = parentNode;\r\n                const group = map.get(childItems);\r\n                if (group)\r\n                    group.push(item_i);\r\n                else\r\n                    map.set(childItems, [item_i]);\r\n            }\r\n            return map;\r\n        }, new Map());\r\n        Array.from(removedItemsGroups.entries()).forEach(([list_i, children_i]) => {\r\n            list_i.beginChanges();\r\n            children_i.forEach((child_i) => {\r\n                list_i.remove(child_i);\r\n            });\r\n            list_i.endChanges();\r\n        });\r\n    }\r\n}\r\nclass TreeItemModel extends ModelObject {\r\n    childItems;\r\n    id;\r\n    type;\r\n    index;\r\n    get level() {\r\n        const { parentNode } = this;\r\n        if (parentNode instanceof TreeItemModel) {\r\n            return parentNode.level + 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n    get uri() {\r\n        const { parentNode, id } = this;\r\n        if (parentNode instanceof TreeItemModel) {\r\n            return `${parentNode.uri}${id}/`;\r\n        }\r\n        return `${id}/`;\r\n    }\r\n    get parentItem() {\r\n        const { parentNode } = this;\r\n        if (parentNode instanceof TreeItemModel) {\r\n            return parentNode;\r\n        }\r\n        return null;\r\n    }\r\n    constructor(init) {\r\n        super();\r\n        const { id, type, items = [] } = init;\r\n        items.forEach((item_i, i) => item_i.index = i);\r\n        const childItems = new ModelList(items);\r\n        childItems.setParent(this);\r\n        this.id = id;\r\n        this.childItems = childItems;\r\n        this.type = type;\r\n        this.index = -1;\r\n    }\r\n    subtreeItems() {\r\n        const { childItems } = this;\r\n        return Array.from(childItems.values()).flatMap(treeItem_i => Array.of(treeItem_i, ...treeItem_i.subtreeItems()));\r\n    }\r\n    remove() {\r\n        const { parentNode } = this;\r\n        if (parentNode instanceof TreeItemModel || parentNode instanceof TreeModel) {\r\n            const { childItems } = parentNode;\r\n            if (childItems) {\r\n                childItems.remove(this);\r\n            }\r\n        }\r\n    }\r\n}\r\n__decorate([\r\n    ReactiveProperty()\r\n], TreeItemModel.prototype, \"id\", void 0);\r\n__decorate([\r\n    ReactiveProperty()\r\n], TreeItemModel.prototype, \"type\", void 0);\r\n__decorate([\r\n    ReactiveProperty()\r\n], TreeItemModel.prototype, \"index\", void 0);\r\nvar style;\r\nlet TreeViewBase = class TreeViewBase extends View {\r\n    #dragImages;\r\n    static {\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n            }\r\n            \r\n            .offscreen {\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                transform: translateY(-100%);\r\n                display: block;\r\n                pointer-events: none;\r\n            }\r\n            \r\n            .dragimage {\r\n                white-space: nowrap;\r\n                margin: 1px;\r\n                display: inline-block;\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n                border-radius: 3px; \r\n                padding: 2px 4px;\r\n            }\r\n        `;\r\n    }\r\n    constructor(model) {\r\n        super();\r\n        this.#dragImages = new WeakMap();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet, resetStylesheet];\r\n        this.setModel(model ?? new TreeModel());\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"draggable\": {\r\n                const { treeElement } = this;\r\n                if (treeElement) {\r\n                    Array.from(treeElement.items).forEach(item_i => item_i.draggable = newValue !== null);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    get treeElement() {\r\n        return this.shadowRoot.querySelector(\"e-tree\");\r\n    }\r\n    treeItemElement(item) {\r\n        return this.shadowRoot.querySelector(`e-treeitem[uri=${item.uri}]`);\r\n    }\r\n    #getTreeItemElementUri(item) {\r\n        let uri = \"\";\r\n        let closestItem = item;\r\n        while (closestItem !== null) {\r\n            const { dataset, parentElement } = closestItem;\r\n            uri = `${dataset.id}/` + uri;\r\n            closestItem = parentElement?.closest(\"e-treeitem\") ?? null;\r\n        }\r\n        return uri;\r\n    }\r\n    treeItem(element) {\r\n        return this.model.getItemByUri(this.#getTreeItemElementUri(element));\r\n    }\r\n    renderShadow() {\r\n        const { model } = this;\r\n        const treeElement = element(\"e-tree\", {\r\n            attributes: {\r\n                tabindex: 0,\r\n            },\r\n            children: reactiveChildElements(model.childItems, item => this.#renderTreeItem(item)),\r\n            listeners: {\r\n                dragstart: this.#handleDragStartEvent.bind(this),\r\n                drop: this.#handleDropEvent.bind(this),\r\n                contextmenu: this.#handleContextMenuEvent.bind(this),\r\n                focus: this.#handleFocusEvent.bind(this),\r\n                focusin: this.#handleFocusInEvent.bind(this),\r\n                focusout: this.#handleFocusOutEvent.bind(this),\r\n            }\r\n        });\r\n        return fragment(treeElement, element(\"div\", {\r\n            attributes: {\r\n                class: \"offscreen\",\r\n                hidden: true\r\n            },\r\n            children: reactiveChildElements(model.items, item => this.#renderTreeItemDragImage(item))\r\n        }));\r\n    }\r\n    itemContentDelegate(item) {\r\n        return reactiveElement(item, element(\"span\"), [\"name\"], (label, property, oldValue, newValue) => {\r\n            label.textContent = newValue;\r\n        });\r\n    }\r\n    itemToolbarDelegate(item) {\r\n        return null;\r\n    }\r\n    itemMenuDelegate() {\r\n        return null;\r\n    }\r\n    selectedItems() {\r\n        const { treeElement } = this;\r\n        if (treeElement) {\r\n            const selectedElements = treeElement.selectedItems();\r\n            return selectedElements.map(item_i => this.treeItem(item_i));\r\n        }\r\n        return [];\r\n    }\r\n    activeItem() {\r\n        const { treeElement } = this;\r\n        if (treeElement) {\r\n            const { activeItem } = treeElement;\r\n            return activeItem ?\r\n                this.treeItem(activeItem) :\r\n                null;\r\n        }\r\n        return null;\r\n    }\r\n    #getDragImage(model) {\r\n        return this.#dragImages.get(model)?.deref() ?? null;\r\n    }\r\n    #renderTreeItem(item) {\r\n        const { draggable } = this;\r\n        const { index, level, id } = item;\r\n        const toolbar = this.itemToolbarDelegate(item);\r\n        const content = this.itemContentDelegate(item);\r\n        const treeItemElement = reactiveElement(item, element(\"e-treeitem\", {\r\n            attributes: {\r\n                draggable: String(draggable),\r\n                posinset: index,\r\n                level: level\r\n            },\r\n            dataset: {\r\n                id: id\r\n            },\r\n            children: [\r\n                ...(content ? [content] : []),\r\n                ...(toolbar ? [toolbar] : [])\r\n            ]\r\n        }), [\"index\", \"id\", \"type\"], (treeitem, propertyName, oldValue, newValue) => {\r\n            switch (propertyName) {\r\n                case \"index\": {\r\n                    treeitem.posinset = newValue;\r\n                    break;\r\n                }\r\n                case \"id\": {\r\n                    const { dataset } = treeitem;\r\n                    dataset.id = newValue;\r\n                    break;\r\n                }\r\n                case \"type\": {\r\n                    treeitem.type = newValue;\r\n                    switch (newValue) {\r\n                        case \"parent\": {\r\n                            treeitem.append(element(\"e-treeitemgroup\", {\r\n                                attributes: {\r\n                                    slot: \"group\"\r\n                                },\r\n                                children: reactiveChildElements(item.childItems, item => this.#renderTreeItem(item))\r\n                            }));\r\n                            break;\r\n                        }\r\n                        case \"leaf\": {\r\n                            const { group } = treeitem;\r\n                            if (group) {\r\n                                group.remove();\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        return treeItemElement;\r\n    }\r\n    #renderTreeItemDragImage(item) {\r\n        const dragImageElement = reactiveElement(item, element(\"span\", {\r\n            attributes: {\r\n                class: \"dragimage\"\r\n            }\r\n        }), [\"name\"], (span, property, oldValue, newValue) => {\r\n            span.textContent = newValue;\r\n        });\r\n        this.#dragImages.set(item, new WeakRef(dragImageElement));\r\n        return dragImageElement;\r\n    }\r\n    #handleDragStartEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetTree = currentTarget;\r\n        const targetItem = target.closest(\"e-treeitem\");\r\n        const { model } = this;\r\n        if (targetItem) {\r\n            const { dataTransfer } = event;\r\n            const selectedElements = targetTree.selectedItems();\r\n            const { length: selectedCount } = selectedElements;\r\n            if (selectedCount > 0) {\r\n                const selectedUris = selectedElements\r\n                    .map(element_i => this.#getTreeItemElementUri(element_i))\r\n                    .filter((uri_i, _, uris) => !uris.some(uri_j => uri_i.startsWith(`${uri_j}/`)));\r\n                const selectedUrisString = selectedUris.join(\"\\n\");\r\n                const lastUri = selectedUris[selectedUris.length - 1];\r\n                const lastItem = model.getItemByUri(lastUri);\r\n                if (lastItem && dataTransfer) {\r\n                    dataTransfer.dropEffect = \"move\";\r\n                    dataTransfer.setData(\"text/plain\", selectedUrisString);\r\n                    const dragImage = this.#getDragImage(lastItem);\r\n                    if (dragImage) {\r\n                        dataTransfer.setDragImage(dragImage, -16, 0);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleDropEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetTree = currentTarget;\r\n        const targetItem = target.closest(\"e-treeitem\");\r\n        const { model } = this;\r\n        const { sortFunction } = model;\r\n        if (targetItem) {\r\n            const { dataTransfer } = event;\r\n            if (dataTransfer) {\r\n                const targetUri = this.#getTreeItemElementUri(targetItem);\r\n                const targetItemModel = model.getItemByUri(targetUri);\r\n                const transferedUris = dataTransfer.getData(\"text/plain\").split(\"\\n\");\r\n                const targetIsWithin = transferedUris.some(uri_i => targetUri.startsWith(`${uri_i}/`) || uri_i === targetUri);\r\n                if (!targetIsWithin) {\r\n                    const transferedItems = (transferedUris.map(uri_i => model.getItemByUri(uri_i)).filter(item_i => item_i !== null));\r\n                    const { type: targetType, parentItem: targetParentItem } = targetItemModel;\r\n                    const { childItems: targetList } = targetType === \"parent\" ? targetItemModel :\r\n                        targetParentItem ? targetParentItem : model;\r\n                    const targetItems = Array.from(targetList.values());\r\n                    targetItems.forEach((item_i) => {\r\n                        const sameLabelIndex = transferedItems.findIndex(item_j => item_j.id === item_i.id);\r\n                        if (sameLabelIndex > -1) {\r\n                            const doReplace = confirm(`Replace ${item_i.id}?`);\r\n                            if (doReplace) {\r\n                                targetList.remove(item_i);\r\n                            }\r\n                            else {\r\n                                transferedItems.copyWithin(sameLabelIndex, sameLabelIndex + 1);\r\n                                transferedItems.length--;\r\n                            }\r\n                        }\r\n                    });\r\n                    const transferedItemsModelList = new TreeItemModelList(transferedItems);\r\n                    transferedItemsModelList.remove();\r\n                    if (sortFunction) {\r\n                        targetList.beginChanges();\r\n                        targetList.append(...transferedItems);\r\n                        targetList.sort(sortFunction);\r\n                        targetList.endChanges();\r\n                    }\r\n                    else {\r\n                        targetList.insert(targetItem.posinset, ...transferedItems);\r\n                    }\r\n                    const newElements = targetTree.querySelectorAll(`e-treeitem:is(${transferedItems.map(item_i => `[data-uri=\"${item_i.uri}\"]`).join(\",\")})`);\r\n                    targetTree.beginSelection();\r\n                    newElements.forEach(element_i => element_i.selected = true);\r\n                    targetTree.endSelection();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleContextMenuEvent(event) {\r\n        const { clientX, clientY, currentTarget, target } = event;\r\n        const targetTree = currentTarget;\r\n        const targetItem = target.closest(\"e-treeitem\");\r\n        if (targetItem) {\r\n            const contextMenu = this.itemMenuDelegate();\r\n            if (contextMenu !== null) {\r\n                contextMenu.contextual = true;\r\n                contextMenu.addEventListener(\"close\", () => {\r\n                    targetItem.focus({ preventScroll: true });\r\n                });\r\n                targetTree.append(contextMenu);\r\n                contextMenu.positionContextual(clientX, clientY);\r\n                contextMenu.focus({ preventScroll: true });\r\n            }\r\n        }\r\n        event.preventDefault();\r\n    }\r\n    #handleFocusEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetTree = currentTarget;\r\n        if (relatedTarget !== null && !this.contains(relatedTarget)) {\r\n            const relatedPosition = relatedTarget.compareDocumentPosition(this);\r\n            if (!(relatedPosition & Node.DOCUMENT_POSITION_DISCONNECTED) && (relatedPosition & Node.DOCUMENT_POSITION_PRECEDING)) {\r\n                const { activeItem } = targetTree;\r\n                if (activeItem) {\r\n                    const itemToolbar = activeItem.querySelector(\"e-toolbar\");\r\n                    if (itemToolbar) {\r\n                        event.preventDefault();\r\n                        itemToolbar.focus();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleFocusInEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\"e-treeitem\");\r\n        if (targetItem) {\r\n            const itemToolbar = targetItem.querySelector(\"e-toolbar\");\r\n            if (itemToolbar) {\r\n                itemToolbar.tabIndex = itemToolbar.contains(target) ? -1 : 0;\r\n            }\r\n        }\r\n    }\r\n    #handleFocusOutEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\"e-treeitem\");\r\n        if (targetItem) {\r\n            const itemToolbar = targetItem.querySelector(\"e-toolbar\");\r\n            if (itemToolbar) {\r\n                itemToolbar.tabIndex = itemToolbar.contains(target) ? 0 : -1;\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], TreeViewBase.prototype, \"draggable\", void 0);\r\nTreeViewBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-treeview\"\r\n    })\r\n], TreeViewBase);\r\nvar TreeView = TreeViewBase;\r\n//# sourceMappingURL=TreeView.js.map","import { HTMLEMenuElement, HTMLEMenuItemElement } from \"editor/lib/elements/containers/menus\";\r\nimport { HTMLEToolBarElement, HTMLEToolBarItemElement } from \"editor/lib/elements/containers/toolbars\";\r\nimport { HTMLETreeElement } from \"editor/lib/elements/containers/trees\";\r\nimport { HTMLEOptionElement, HTMLESelectElement } from \"editor/lib/elements/controls/select\";\r\nimport { CustomElement, element, fragment, reactiveElement } from \"editor/lib/elements/Element\";\r\nimport { ReactiveProperty, ModelEvent } from \"editor/lib/models/Model\";\r\nimport { TreeItemModelList, TreeItemModel, TreeView } from \"editor/lib/views/TreeView\";\r\n\r\nexport { MyTreeItemModel };\r\nexport { MyTreeItemModelList };\r\nexport { MyTreeView };\r\n\r\nclass MyTreeItemModel extends TreeItemModel {\r\n    \r\n    @ReactiveProperty()\r\n    childCount: number;\r\n\r\n    @ReactiveProperty()\r\n    visibility: boolean;\r\n\r\n    constructor(init: {id: string, type: \"leaf\" | \"parent\", items?: TreeItemModel[]}) {\r\n        super(init);\r\n        this.childCount = this.childItems.length;\r\n        this.visibility = true;\r\n        this.addEventListener(\"modelchange\", this.#handleModelChangeEvent.bind(this));\r\n    }\r\n\r\n    show(): void {\r\n        this.visibility = true;\r\n    }\r\n\r\n    hide(): void {\r\n        this.visibility = false;\r\n    }\r\n\r\n    display(): void {\r\n        console.log(this.id);\r\n    }\r\n\r\n    #handleModelChangeEvent(event: ModelEvent): void {\r\n        const {target} = event;\r\n        const {childItems} = this;\r\n        if (target == childItems) {\r\n            this.childCount = childItems.length;\r\n        }\r\n    }\r\n}\r\n\r\nclass MyTreeItemModelList extends TreeItemModelList {\r\n    declare readonly items: MyTreeItemModel[];\r\n\r\n    constructor(items: MyTreeItemModel[]) {\r\n        super(items);\r\n    }\r\n\r\n    get count(): number {\r\n        return this.items.length;\r\n    }\r\n\r\n    show(): void {\r\n        this.items.forEach(item_i => item_i.show());\r\n    }\r\n\r\n    hide(): void {\r\n        this.items.forEach(item_i => item_i.hide());\r\n    }\r\n    \r\n    display(): void {\r\n        const result = this.items.map(item_i => item_i.id).join(\" \");\r\n        console.log(result);\r\n    }\r\n}\r\n\r\n@CustomElement({\r\n    name: \"e-mytreeview\"\r\n})\r\nclass MyTreeView extends TreeView {\r\n\r\n    override render(): void {\r\n        super.render();\r\n        const {shadowRoot, treeElement} = this;\r\n        shadowRoot.prepend(\r\n            element(\"link\", {\r\n                attributes: {\r\n                    rel: \"stylesheet\",\r\n                    href: \"../css/mytreeview.css\"\r\n                }\r\n            })\r\n        );\r\n        treeElement!.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n    }\r\n\r\n    override itemContentDelegate(item: MyTreeItemModel) {\r\n        return fragment(\r\n            reactiveElement(\r\n                item,\r\n                element(\"span\", {\r\n                    attributes: {\r\n                        class: \"label\"\r\n                    }\r\n                }),\r\n                [\"id\"],\r\n                (label, property, oldValue, newValue) => {\r\n                    label.textContent = newValue;\r\n                }\r\n            ),\r\n            reactiveElement(\r\n                item,\r\n                element(\"span\", {\r\n                    attributes: {\r\n                        class: \"badge\"\r\n                    }\r\n                }),\r\n                [\"childCount\", \"type\"],\r\n                (badge, property, oldValue, newValue) => {\r\n                    switch (property) {\r\n                        case \"type\": {\r\n                            if (newValue === \"leaf\") {\r\n                                badge.textContent = null;\r\n                                badge.hidden = true;\r\n                            }\r\n                            else {\r\n                                badge.textContent = `(${item.childCount})`;\r\n                                badge.hidden = false;\r\n                            }\r\n                            break;\r\n                        }\r\n                        case \"childCount\": {\r\n                            badge.textContent = `(${newValue})`;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            )\r\n        );\r\n    }\r\n\r\n    override itemToolbarDelegate(this: MyTreeView, item: MyTreeItemModel): HTMLEToolBarElement {\r\n        return reactiveElement(\r\n            item,\r\n            element(\"e-toolbar\", {\r\n                children: [\r\n                    element(\"e-toolbaritem\", {\r\n                        attributes: {\r\n                            name: \"type\",\r\n                            type: \"select\"\r\n                        },\r\n                        children: [\r\n                            element(\"e-select\", {\r\n                                attributes: {\r\n                                    slot: \"select\"\r\n                                },\r\n                                children: [\"parent\", \"leaf\"].map(\r\n                                    type => element(\"e-option\", {\r\n                                        attributes: {\r\n                                            label: type,\r\n                                            value: type\r\n                                        }\r\n                                    })\r\n                                ),\r\n                                listeners: {\r\n                                    click: (event) => {\r\n                                        const {currentTarget} = event;\r\n                                        const select = <HTMLESelectElement>currentTarget;\r\n                                        const {selectedOption} = select;\r\n                                        if (selectedOption) {\r\n                                            const {value} = selectedOption;\r\n                                            item.type = <\"parent\" | \"leaf\">value;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            })\r\n                        ]\r\n                    }),\r\n                    element(\"e-toolbaritem\", {\r\n                        attributes: {\r\n                            name: \"edit\",\r\n                            type: \"button\",\r\n                            label: \"Edit\",\r\n                            iconed: true\r\n                        },\r\n                        listeners: {\r\n                            click: () => {\r\n                                this.showEditItemDialog(item);\r\n                            }\r\n                        }\r\n                    }),\r\n                    element(\"e-toolbaritem\", {\r\n                        attributes: {\r\n                            name: \"visibility\",\r\n                            type: \"checkbox\",\r\n                            label: \"Visibility\",\r\n                            iconed: true\r\n                        },\r\n                        listeners: {\r\n                            click: (event) => {\r\n                                item.visibility ?\r\n                                    item.hide() :\r\n                                    item.show();\r\n                                event.stopPropagation();\r\n                            }\r\n                        }\r\n                    })\r\n                ]\r\n            }),\r\n            [\"visibility\", \"type\"],\r\n            (toolbar, property, oldValue, newValue) => {\r\n                switch (property) {\r\n                    case \"visibility\": {\r\n                        const visibilityItem = toolbar\r\n                            .querySelector<HTMLEToolBarItemElement>(\"e-toolbaritem[name=visibility]\");\r\n                        if (visibilityItem) {\r\n                            const label = newValue ? \"Hide\" : \"Show\";\r\n                            visibilityItem.label = label;\r\n                            visibilityItem.title = label;\r\n                            visibilityItem.pressed = newValue;\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"type\": {\r\n                        const typeSelect = toolbar\r\n                            .querySelector<HTMLESelectElement>(\"e-toolbaritem[name=type] e-select\");\r\n                        if (typeSelect) {\r\n                            typeSelect\r\n                                .querySelector<HTMLEOptionElement>(`e-option[value=\"${newValue}\"]`)!\r\n                                .selected = true;\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    override itemMenuDelegate(this: MyTreeView): HTMLEMenuElement {\r\n        console.log(\"here\");\r\n        const {treeElement} = this;\r\n        const {activeItem: activeItemElement} = treeElement!;\r\n        const selectedItems = <MyTreeItemModel[]>this.selectedItems();\r\n        const activeItem = <MyTreeItemModel>this.activeItem();\r\n        return element(\"e-menu\", {\r\n            attributes: {\r\n                contextual: true\r\n            },\r\n            children: [\r\n                element(\"e-menuitemgroup\", {\r\n                    children: [\r\n                        element(\"e-menuitem\", {\r\n                            attributes: {\r\n                                type: \"button\",\r\n                                label: \"Edit\"\r\n                            },\r\n                            children: \"Edit\",\r\n                            listeners: {\r\n                                click: <EventListener>(\r\n                                    function(this: MyTreeView) {\r\n                                        selectedItems.forEach((selectItem) => {\r\n                                            this.showEditItemDialog(selectItem);\r\n                                        });\r\n                                    }\r\n                                ).bind(this)\r\n                            }\r\n                        }),\r\n                        element(\"e-menuitem\", {\r\n                            attributes: {\r\n                                type: \"checkbox\",\r\n                                label: activeItem.visibility ? \"Hide\" : \"Show\"\r\n                            },\r\n                            children: activeItem.visibility ? \"Hide\" : \"Show\",\r\n                            listeners: {\r\n                                click: () => {\r\n                                    const selectedItemsList = selectedItems.includes(activeItem) ?\r\n                                        new MyTreeItemModelList(selectedItems) : new MyTreeItemModelList([activeItem]);\r\n                                    activeItem.visibility ?\r\n                                        selectedItemsList.hide() :\r\n                                        selectedItemsList.show();\r\n                                    activeItemElement!.focus();\r\n                                }\r\n                            }\r\n                        })\r\n                    ]\r\n                }),\r\n                element(\"e-separator\"),\r\n                element(\"e-menuitemgroup\", {\r\n                    children: [\r\n                        element(\"e-menuitem\", {\r\n                            attributes: {\r\n                                label: \"Delete\"\r\n                            },\r\n                            children: \"Delete\",\r\n                            listeners: {\r\n                                click: () => {\r\n                                    const selectedItemsList = selectedItems.includes(activeItem) ?\r\n                                        new MyTreeItemModelList(selectedItems) : new MyTreeItemModelList([activeItem]);\r\n                                    const {count} = selectedItemsList;\r\n                                    const doRemove = confirm(`Remove ${count} items?`);\r\n                                    if (doRemove) {\r\n                                        selectedItemsList.remove();\r\n                                    }\r\n                                    treeElement!.focus();\r\n                                }\r\n                            }\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        });\r\n    }\r\n\r\n    #handleKeyDownEvent(event: KeyboardEvent) {\r\n        const {currentTarget, key} = event;\r\n        const targetTree = <HTMLETreeElement>currentTarget;\r\n        const {activeItem} = targetTree;\r\n        if (activeItem) {\r\n            const activeItemModel = <MyTreeItemModel>this.treeItem(activeItem!)!;\r\n            switch (key) {\r\n                case \"Delete\": {\r\n                    const selectedItems = this.selectedItems();\r\n                    const selectedItemsList = selectedItems.includes(activeItemModel) ?\r\n                        new TreeItemModelList(selectedItems) : new TreeItemModelList([activeItemModel]);\r\n                    const {count} = selectedItemsList;\r\n                    const doRemove = confirm(`Remove ${count} items?`);\r\n                    if (doRemove) {\r\n                        selectedItemsList.remove();\r\n                    }\r\n                    targetTree.focus();\r\n                    event.preventDefault();\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    showEditItemDialog(item: MyTreeItemModel): void {\r\n        const {shadowRoot} = this;\r\n        const {visibility, id, type} = item;\r\n        const dialog = element(\"dialog\", {\r\n            children: [\r\n                element(\"form\", {\r\n                    attributes: {\r\n                        method: \"dialog\"\r\n                    },\r\n                    children: [\r\n                        element(\"e-menubar\", {\r\n                            attributes: {\r\n                                tabindex: 0\r\n                            },\r\n                            children: [\r\n                                element(\"e-menuitem\", {\r\n                                    attributes: {\r\n                                        type: \"menu\",\r\n                                        label: \"Menu 1\"\r\n                                    },\r\n                                    children: [\r\n                                        \"Menu 1\",\r\n                                        element(\"e-menu\", {\r\n                                            attributes: {\r\n                                                slot: \"menu\"\r\n                                            },\r\n                                            children: [\r\n                                                element(\"e-menuitem\", {\r\n                                                    attributes: {\r\n                                                        type: \"checkbox\"\r\n                                                    },\r\n                                                    children: \"Menuitem 1\"\r\n                                                }),\r\n                                                element(\"e-menuitem\", {\r\n                                                    attributes: {\r\n                                                        type: \"checkbox\"\r\n                                                    },\r\n                                                    children: \"Menuitem 2\"\r\n                                                }),\r\n                                                element(\"e-menuitem\", {\r\n                                                    attributes: {\r\n                                                        type: \"submenu\"\r\n                                                    },\r\n                                                    children: [\r\n                                                        \"Submenu 1\",\r\n                                                        element(\"e-menu\", {\r\n                                                            attributes: {\r\n                                                                slot: \"menu\"\r\n                                                            },\r\n                                                            children: [\r\n                                                                element(\"e-menuitem\", {\r\n                                                                    attributes: {\r\n                                                                        label: \"SubmenuItem 1\",\r\n                                                                        name: \"radio\",\r\n                                                                        value: String(0),\r\n                                                                        type: \"radio\"\r\n                                                                    },\r\n                                                                    children: \"SubmenuItem 1\"\r\n                                                                }),\r\n                                                                element(\"e-menuitem\", {\r\n                                                                    attributes: {\r\n                                                                        label: \"SubmenuItem 2\",\r\n                                                                        name: \"radio\",\r\n                                                                        value: String(1),\r\n                                                                        type: \"radio\"\r\n                                                                    },\r\n                                                                    children: \"SubmenuItem 2\"\r\n                                                                }),\r\n                                                                element(\"e-menuitem\", {\r\n                                                                    attributes: {\r\n                                                                        label: \"SubmenuItem 3\",\r\n                                                                        name: \"radio\",\r\n                                                                        value: String(3),\r\n                                                                        type: \"radio\"\r\n                                                                    },\r\n                                                                    children: \"SubmenuItem 3\"\r\n                                                                })\r\n                                                            ]\r\n                                                        })\r\n                                                    ]\r\n                                                })\r\n                                            ]\r\n                                        })\r\n                                    ]\r\n                                })\r\n                            ]\r\n                        }),\r\n                        element(\"e-tablist\", {\r\n                            attributes: {\r\n                                tabindex: 0\r\n                            },\r\n                            children: [\r\n                                element(\"e-tab\", {\r\n                                    attributes: {\r\n                                        controls: \"properties\"\r\n                                    },\r\n                                    children: \"Properties\"\r\n                                })\r\n                            ]\r\n                        }),\r\n                        element(\"e-tabpanel\", {\r\n                            attributes: {\r\n                                id: \"properties\"\r\n                            },\r\n                            children: [\r\n                                element(\"fieldset\", {\r\n                                    children: [\r\n                                        element(\"legend\", {\r\n                                            children: \"Item information\"\r\n                                        }),\r\n                                        element(\"div\", {\r\n                                            attributes: {\r\n                                                class: \"form-content\"\r\n                                            },\r\n                                            children: [\r\n                                                element(\"label\", {\r\n                                                    attributes: {\r\n                                                        for: \"visibility\"\r\n                                                    },\r\n                                                    children: \"Visibility\"\r\n                                                }),\r\n                                                element(\"input\", {\r\n                                                    attributes: {\r\n                                                        id: \"visibility\",\r\n                                                        type: \"checkbox\",\r\n                                                        name: \"visibility\",\r\n                                                        checked: visibility,\r\n                                                        tabindex: 0,\r\n                                                        autofocus: true\r\n                                                    }\r\n                                                }),\r\n                                                element(\"label\", {\r\n                                                    attributes: {\r\n                                                        for: \"id\"\r\n                                                    },\r\n                                                    children: \"ID\"\r\n                                                }),\r\n                                                element(\"input\", {\r\n                                                    attributes: {\r\n                                                        id: \"id\",\r\n                                                        type: \"text\",\r\n                                                        name: \"id\",\r\n                                                        value: id,\r\n                                                        tabindex: 0\r\n                                                    }\r\n                                                }),\r\n                                                element(\"label\", {\r\n                                                    attributes: {\r\n                                                        for: \"type\"\r\n                                                    },\r\n                                                    children: \"Type\"\r\n                                                }),\r\n                                                element(\"select\", {\r\n                                                    attributes: {\r\n                                                        id: \"type\",\r\n                                                        name: \"type\",\r\n                                                        tabindex: 0\r\n                                                    },\r\n                                                    children: [\"parent\", \"leaf\"].map(\r\n                                                        type_i => element(\"option\", {\r\n                                                            attributes: {\r\n                                                                label: type_i,\r\n                                                                value: type_i,\r\n                                                                selected: type === type_i\r\n                                                            }\r\n                                                        })\r\n                                                    )\r\n                                                })\r\n                                            ]\r\n                                        })\r\n                                    ]\r\n                                })\r\n                            ]\r\n                        }),\r\n                        element(\"footer\", {\r\n                            attributes: {\r\n                                class: \"dialog-footer\"\r\n                            },\r\n                            children: [\r\n                                element(\"button\", {\r\n                                    attributes: {\r\n                                        type: \"submit\",\r\n                                        value: \"confirm\"\r\n                                    },\r\n                                    children: \"Confirm\"\r\n                                }),\r\n                                element(\"button\", {\r\n                                    attributes: {\r\n                                        value: \"cancel\"\r\n                                    },\r\n                                    children: \"Cancel\"\r\n                                })\r\n                            ]\r\n                        })\r\n                    ]\r\n                })\r\n            ],\r\n            listeners: {\r\n                close: (event) => {\r\n                    const {currentTarget} = event;\r\n                    const targetDialog = <HTMLDialogElement>currentTarget;\r\n                    if (targetDialog.returnValue === \"confirm\") {\r\n                        const form = targetDialog.querySelector(\"form\")!;\r\n                        const formData = new FormData(form);\r\n                        item.visibility = Boolean(formData.get(\"visibility\"));\r\n                        item.type = <\"leaf\" | \"parent\">String(formData.get(\"type\"));\r\n                        item.id = String(formData.get(\"id\"));\r\n                    }\r\n                    targetDialog.remove();\r\n                }\r\n            }\r\n        });\r\n        shadowRoot.append(dialog);\r\n        dialog.showModal();\r\n    }\r\n};","import { CustomElement, element } from \"editor/lib/elements/Element\";\r\nimport { ReactiveProperty } from \"editor/lib/models/Model\";\r\nimport { GridRowFilter, GridRowModel, GridView } from \"editor/lib/views/GridView\";\r\n\r\nexport { MyGridRowModel };\r\nexport { MyGridView };\r\n\r\nclass MyGridRowModel extends GridRowModel {\r\n    @ReactiveProperty()\r\n    name: string;\r\n\r\n    @ReactiveProperty()\r\n    age: number;\r\n\r\n    @ReactiveProperty()\r\n    color: string;\r\n    \r\n    constructor(init: {\r\n        id: number;\r\n        name: string;\r\n        age: number;\r\n        color: string;\r\n    }) {\r\n        super(init);\r\n        const {name, age, color} = init;\r\n        this.name = name;\r\n        this.age = age;\r\n        this.color = color;\r\n    }\r\n}\r\n\r\nvar style: string;\r\n\r\n@CustomElement({\r\n    name: \"e-mygridview\"\r\n})\r\nclass MyGridView extends GridView {\r\n\r\n    #searchFilter: GridRowFilter | null;\r\n\r\n    static {\r\n        style = /*css*/`\r\n            e-gridcell[headers=\"age\"] {\r\n                text-align: right;\r\n            }\r\n        `;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.#searchFilter = null;\r\n        const {shadowRoot} = this\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [\r\n            ...shadowRoot.adoptedStyleSheets, adoptedStylesheet\r\n        ];\r\n    }\r\n\r\n    override renderShadow(): Node {\r\n        const shadowNode = super.renderShadow();\r\n        shadowNode.insertBefore(\r\n            element(\"div\", {\r\n                children: element(\"input\", {\r\n                    attributes: {\r\n                        type: \"search\"\r\n                    },\r\n                    listeners: {\r\n                        input: <EventListener>this.#handleSearchInputEvent.bind(this)\r\n                    }\r\n                })\r\n            }),\r\n            shadowNode.firstChild\r\n        );\r\n        return shadowNode;\r\n    }\r\n\r\n    filter(row: GridRowModel): boolean {\r\n        const searchFilter = this.#searchFilter;\r\n        return super.filter(row) &&\r\n        (searchFilter ? searchFilter.filter(row) : true);\r\n    }\r\n\r\n    setSearchFilter(filter: GridRowFilter | null): void {\r\n        const {model, gridElement} = this;\r\n        const {rows} = model;\r\n        this.#searchFilter = filter;\r\n        Array.from(rows.values()).forEach((row_i) => {\r\n            const rowElement = this.getRowElement(row_i);\r\n            if (rowElement) {\r\n                rowElement.hidden = !this.filter(row_i);\r\n            }\r\n        });\r\n        gridElement.clearSelection();\r\n    }\r\n\r\n    #handleSearchInputEvent(event: InputEvent) {\r\n        const {target} = event;\r\n        if (target instanceof HTMLInputElement) {\r\n            const {value} = target;\r\n            if (value !== \"\") {\r\n                this.setSearchFilter({\r\n                    filter: (row) => (<MyGridRowModel>row).name.toLowerCase().includes(value.toLowerCase())\r\n                });\r\n            }\r\n            else {\r\n                this.setSearchFilter(null);\r\n            }\r\n        }\r\n    }\r\n}","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_ACTIVATED_ITEM_COLOR, DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR, DEFAULT_THEME_HOVERED_ITEM_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, element, QueryProperty } from \"../../Element\";\r\nexport { HTMLEToolBarItemElement };\r\nexport { EToolBarItem };\r\nvar shadowTemplate;\r\nvar style;\r\nvar iconPartTemplate;\r\nlet HTMLEToolBarItemElementBase = class HTMLEToolBarItemElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"), element(\"slot\", {\r\n            attributes: {\r\n                name: \"select\"\r\n            }\r\n        }), element(\"slot\", {\r\n            attributes: {\r\n                name: \"menubutton\"\r\n            }\r\n        }));\r\n        iconPartTemplate = element(\"span\", {\r\n            attributes: {\r\n                part: \"icon\"\r\n            }\r\n        });\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                user-select: none;\r\n                white-space: nowrap;\r\n                cursor: pointer;\r\n                line-height: 22px;\r\n            }\r\n            \r\n            :host([disabled]) {\r\n                opacity: 0.38;\r\n                pointer-events: none;\r\n            }\r\n            \r\n            :host(:hover) {\r\n                background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host([pressed]),\r\n            :host(:active) {\r\n                background-color: var(--theme-activated-item-color, ${DEFAULT_THEME_ACTIVATED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host(:not([iconed])) [part=\"icon\"] {\r\n                display: none;\r\n            }\r\n\r\n            [part=\"icon\"] {\r\n                flex: none;\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n                padding: 2px;\r\n                overflow: hidden;\r\n            }\r\n            \r\n            [part=\"icon\"]::before {\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n                content: \"\";\r\n                mask-size: 18px 18px;\r\n                -webkit-mask-size: 18px 18px;\r\n                background-color: none;\r\n                -webkit-mask-image: none;\r\n                mask-image: none;\r\n                filter: none;\r\n            }\r\n            \r\n            :host(:focus) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n            \r\n            :host([type=\"select\"]:focus) ::slotted(e-select) {\r\n                border-color: transparent;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"label\": {\r\n                //...\r\n                break;\r\n            }\r\n            case \"iconed\": {\r\n                const { shadowRoot } = this;\r\n                if (newValue !== null) {\r\n                    shadowRoot.prepend(iconPartTemplate.cloneNode(true));\r\n                }\r\n                else {\r\n                    const iconPart = this.#icon();\r\n                    if (iconPart) {\r\n                        iconPart.remove();\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #icon() {\r\n        return this.shadowRoot.querySelector(\"[part=icon]\");\r\n    }\r\n};\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-menubutton[slot=menubutton]\" })\r\n], HTMLEToolBarItemElementBase.prototype, \"menubutton\", void 0);\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-select[slot=select]\" })\r\n], HTMLEToolBarItemElementBase.prototype, \"select\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEToolBarItemElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEToolBarItemElementBase.prototype, \"pressed\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEToolBarItemElementBase.prototype, \"expanded\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEToolBarItemElementBase.prototype, \"iconed\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEToolBarItemElementBase.prototype, \"value\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarItemElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEToolBarItemElementBase.prototype, \"label\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarItemElementBase.prototype, \"type\", void 0);\r\nHTMLEToolBarItemElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-toolbaritem\"\r\n    })\r\n], HTMLEToolBarItemElementBase);\r\nvar HTMLEToolBarItemElement = HTMLEToolBarItemElementBase;\r\nvar EToolBarItem = Object.assign(function (init) {\r\n    const { label, name, type, value, trigger, menubutton, select } = init;\r\n    if (menubutton) {\r\n        menubutton.slot = \"menubutton\";\r\n    }\r\n    if (select) {\r\n        select.slot = \"select\";\r\n    }\r\n    return element(\"e-toolbaritem\", {\r\n        attributes: {\r\n            tabindex: -1,\r\n            title: label,\r\n            name: name,\r\n            value: value,\r\n            type: type\r\n        },\r\n        children: menubutton ? [menubutton] : select ? [select] : undefined,\r\n        listeners: {\r\n            click: trigger\r\n        }\r\n    });\r\n}, {\r\n    prototype: HTMLEToolBarItemElement.prototype,\r\n    button(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"button\"\r\n        });\r\n    },\r\n    checkbox(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"checkbox\"\r\n        });\r\n    },\r\n    radio(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"radio\"\r\n        });\r\n    },\r\n    menubutton(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"menubutton\"\r\n        });\r\n    },\r\n    select(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"select\"\r\n        });\r\n    },\r\n});\r\n//# sourceMappingURL=ToolBarItem.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { element, CustomElement, AttributeProperty } from \"../../Element\";\r\nimport \"./ToolBarItem\";\r\nexport { HTMLEToolBarItemGroupElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEToolBarItemGroupElementBase = class HTMLEToolBarItemGroupElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                width: max-content;\r\n                flex-direction: row;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"label\": {\r\n                const label = this.shadowRoot.querySelector(\"[part='label']\");\r\n                if (label) {\r\n                    label.textContent = newValue;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarItemGroupElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEToolBarItemGroupElementBase.prototype, \"label\", void 0);\r\nHTMLEToolBarItemGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-toolbaritemgroup\"\r\n    })\r\n], HTMLEToolBarItemGroupElementBase);\r\nvar HTMLEToolBarItemGroupElement = HTMLEToolBarItemGroupElementBase;\r\n//# sourceMappingURL=ToolBarItemGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEToolBarItemElement } from \"./ToolBarItem\";\r\nimport { HTMLEToolBarItemGroupElement } from \"./ToolBarItemGroup\";\r\nimport \"./ToolBarItem\";\r\nimport \"./ToolBarItemGroup\";\r\nexport { HTMLEToolBarElement };\r\nvar shadowTemplate;\r\nvar style;\r\nvar wasExpandedOnMouseDown;\r\nlet HTMLEToolBarElementBase = class HTMLEToolBarElementBase extends HTMLElement {\r\n    get activeItem() {\r\n        return this.querySelector(\"e-toolbaritem[active]\");\r\n    }\r\n    items() {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem\"));\r\n    }\r\n    #walker;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        wasExpandedOnMouseDown = new WeakMap();\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                flex-direction: row;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.#walker = document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, this.#nodeFilter.bind(this));\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"click\", this.#handleClickEvent.bind(this));\r\n        this.addEventListener(\"contextmenu\", this.#handleContextMenuEvent.bind(this));\r\n        this.addEventListener(\"dblclick\", this.#handleDblClickEvent.bind(this));\r\n        this.addEventListener(\"focus\", this.#handleFocusEvent.bind(this));\r\n        this.addEventListener(\"focusin\", this.#handleFocusInEvent.bind(this));\r\n        this.addEventListener(\"focusout\", this.#handleFocusOutEvent.bind(this));\r\n        this.addEventListener(\"mousedown\", this.#handleMouseDownEvent.bind(this));\r\n        this.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    #nodeFilter(node) {\r\n        if (node instanceof HTMLEToolBarItemElement) {\r\n            return NodeFilter.FILTER_ACCEPT;\r\n        }\r\n        if (node instanceof HTMLEToolBarItemGroupElement) {\r\n            return NodeFilter.FILTER_SKIP;\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    }\r\n    firstItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.firstChild();\r\n    }\r\n    #lastItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.lastChild();\r\n    }\r\n    #previousItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        const previousItem = walker.previousSibling();\r\n        return previousItem;\r\n    }\r\n    #nextItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        return walker.nextSibling();\r\n    }\r\n    #setActiveItem(item) {\r\n        const { activeItem } = this;\r\n        if (activeItem !== null && activeItem !== item) {\r\n            activeItem.active = false;\r\n        }\r\n        if (item !== null) {\r\n            item.active = true;\r\n        }\r\n    }\r\n    #handleClickEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\"e-toolbaritem\");\r\n        if (targetItem) {\r\n            const { type, pressed } = targetItem;\r\n            switch (type) {\r\n                case \"checkbox\": {\r\n                    targetItem.pressed = !pressed;\r\n                    break;\r\n                }\r\n                case \"radio\": {\r\n                    targetItem.pressed = true;\r\n                    break;\r\n                }\r\n                case \"menubutton\": {\r\n                    const { menubutton } = targetItem;\r\n                    if (menubutton && !menubutton.contains(target)) {\r\n                        const expand = !wasExpandedOnMouseDown.get(targetItem);\r\n                        menubutton.toggle(expand);\r\n                        if (expand) {\r\n                            menubutton.firstItem?.focus({ preventScroll: true });\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case \"select\": {\r\n                    const { select } = targetItem;\r\n                    if (select && !select.contains(target)) {\r\n                        const expand = !wasExpandedOnMouseDown.get(targetItem);\r\n                        select.toggle(expand);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        event.stopPropagation();\r\n    }\r\n    #handleContextMenuEvent(event) {\r\n        event.stopPropagation();\r\n    }\r\n    #handleDblClickEvent(event) {\r\n        event.stopPropagation();\r\n    }\r\n    #handleFocusEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const { activeItem } = this;\r\n        if (!this.contains(relatedTarget)) {\r\n            (activeItem ?? this.firstItem())?.focus();\r\n        }\r\n    }\r\n    #handleFocusInEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\"e-toolbaritem\");\r\n        if (targetItem) {\r\n            this.#setActiveItem(targetItem);\r\n            this.tabIndex = -1;\r\n        }\r\n    }\r\n    #handleFocusOutEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const lostFocusWithin = !this.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            this.tabIndex = 0;\r\n        }\r\n    }\r\n    #handleMouseDownEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\"e-toolbaritem\");\r\n        if (targetItem) {\r\n            const { type } = targetItem;\r\n            switch (type) {\r\n                case \"menubutton\": {\r\n                    const { menubutton } = targetItem;\r\n                    if (menubutton && !menubutton.contains(target)) {\r\n                        wasExpandedOnMouseDown.set(targetItem, menubutton.expanded);\r\n                    }\r\n                    break;\r\n                }\r\n                case \"select\": {\r\n                    const { select } = targetItem;\r\n                    if (select && !select.contains(target)) {\r\n                        wasExpandedOnMouseDown.set(targetItem, select.expanded);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleKeyDownEvent(event) {\r\n        const { key } = event;\r\n        const { activeItem } = this;\r\n        switch (key) {\r\n            case \"Enter\":\r\n            case \" \": {\r\n                if (activeItem) {\r\n                    const { type } = activeItem;\r\n                    switch (type) {\r\n                        case \"menubutton\": {\r\n                            const { menubutton } = activeItem;\r\n                            if (menubutton) {\r\n                                menubutton.expand();\r\n                                menubutton.firstItem?.focus({ preventScroll: true });\r\n                            }\r\n                            break;\r\n                        }\r\n                        case \"select\": {\r\n                            const { select } = activeItem;\r\n                            if (select) {\r\n                                select.expand();\r\n                            }\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            activeItem.click();\r\n                            break;\r\n                        }\r\n                    }\r\n                    event.stopPropagation();\r\n                }\r\n                break;\r\n            }\r\n            case \"ArrowLeft\": {\r\n                if (activeItem) {\r\n                    const previousItem = this.#previousItem(activeItem);\r\n                    if (previousItem) {\r\n                        previousItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    const firstItem = this.firstItem();\r\n                    if (firstItem) {\r\n                        firstItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                if (activeItem) {\r\n                    const nextItem = this.#nextItem(activeItem);\r\n                    if (nextItem) {\r\n                        nextItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    const lastItem = this.#lastItem();\r\n                    if (lastItem) {\r\n                        lastItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                if (activeItem) {\r\n                    const { type } = activeItem;\r\n                    switch (type) {\r\n                        case \"select\": {\r\n                            activeItem.select?.expand();\r\n                            event.stopPropagation();\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = this.firstItem();\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = this.#lastItem();\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarElementBase.prototype, \"orientation\", void 0);\r\nHTMLEToolBarElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-toolbar\"\r\n    })\r\n], HTMLEToolBarElementBase);\r\nvar HTMLEToolBarElement = HTMLEToolBarElementBase;\r\n//# sourceMappingURL=ToolBar.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_DROPTARGET_ITEM_COLOR, DEFAULT_THEME_FOCUSED_ITEM_COLOR, DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR, DEFAULT_THEME_HOVERED_ITEM_COLOR, DEFAULT_THEME_SELECTED_ITEM_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, element, AttributeProperty } from \"../../Element\";\r\nimport { HTMLEMenuElement } from \"../menus/Menu\";\r\nimport { HTMLEToolBarElement } from \"../toolbars/ToolBar\";\r\nexport { HTMLEListItemElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEListItemElementBase = class HTMLEListItemElementBase extends HTMLElement {\r\n    get badge() {\r\n        return this.#badge;\r\n    }\r\n    get toolbar() {\r\n        return this.#toolbar;\r\n    }\r\n    get menu() {\r\n        return this.#menu;\r\n    }\r\n    #badge;\r\n    #toolbar;\r\n    #menu;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                user-select: none;\r\n                line-height: 22px;\r\n            }\r\n            \r\n            :host([droptarget]) {\r\n                background-color: var(--theme-droptarget-item-color, ${DEFAULT_THEME_DROPTARGET_ITEM_COLOR});\r\n            }\r\n            \r\n            :host(:hover) {\r\n                background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host([active]) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n            \r\n            :host(:focus) {\r\n                background-color: var(--theme-focused-item-color, ${DEFAULT_THEME_FOCUSED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host([selected]) {\r\n                background-color: var(--theme-selected-item-color, ${DEFAULT_THEME_SELECTED_ITEM_COLOR});\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.#badge = null;\r\n        this.#menu = null;\r\n        this.#toolbar = null;\r\n        shadowRoot.addEventListener(\"slotchange\", this.#handleSlotChangeEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n            case \"label\": {\r\n                const { shadowRoot } = this;\r\n                const labelPart = shadowRoot.querySelector(\"[part=label]\");\r\n                if (labelPart) {\r\n                    labelPart.textContent = newValue;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handleSlotChangeEvent(event) {\r\n        const { target } = event;\r\n        const { name: slotName } = target;\r\n        switch (slotName) {\r\n            case \"toolbar\": {\r\n                const element = target.assignedElements()[0];\r\n                this.#toolbar = element instanceof HTMLEToolBarElement ? element : null;\r\n                break;\r\n            }\r\n            case \"badge\": {\r\n                const element = target.assignedElements()[0];\r\n                this.#badge = element instanceof HTMLSpanElement ? element : null;\r\n                break;\r\n            }\r\n            case \"menu\": {\r\n                const element = target.assignedElements()[0];\r\n                this.#menu = element instanceof HTMLEMenuElement ? element : null;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEListItemElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number })\r\n], HTMLEListItemElementBase.prototype, \"posinset\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEListItemElementBase.prototype, \"label\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEListItemElementBase.prototype, \"droptarget\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEListItemElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEListItemElementBase.prototype, \"selected\", void 0);\r\nHTMLEListItemElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-listitem\"\r\n    })\r\n], HTMLEListItemElementBase);\r\nvar HTMLEListItemElement = HTMLEListItemElementBase;\r\n//# sourceMappingURL=ListItem.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLEListItemElement } from \"./ListItem\";\r\nimport \"./ListItem\";\r\nexport { HTMLEListItemGroupElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEListItemGroupElementBase = class HTMLEListItemGroupElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", this.#handleSlotChangeEvent.bind(this));\r\n    }\r\n    #handleSlotChangeEvent(event) {\r\n        const { target } = event;\r\n        const assignedItems = target\r\n            .assignedElements()\r\n            .filter(element_i => element_i instanceof HTMLEListItemElement);\r\n        assignedItems.forEach((item_i, i) => {\r\n            item_i.posinset = i;\r\n        });\r\n    }\r\n};\r\nHTMLEListItemGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-listitemgroup\"\r\n    })\r\n], HTMLEListItemGroupElementBase);\r\nvar HTMLEListItemGroupElement = HTMLEListItemGroupElementBase;\r\n//# sourceMappingURL=ListItemGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEListItemElement } from \"./ListItem\";\r\nimport { HTMLEListItemGroupElement } from \"./ListItemGroup\";\r\nimport \"./ListItem\";\r\nimport \"./ListItemGroup\";\r\nexport { HTMLEListElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEListElementBase = class HTMLEListElementBase extends HTMLElement {\r\n    get activeItem() {\r\n        return this.querySelector(\"e-listitem[active]\");\r\n    }\r\n    get dropTargetItem() {\r\n        return this.querySelector(\"e-listitem[droptarget]\");\r\n    }\r\n    #onSelection;\r\n    #hasSelectionChanged;\r\n    #walker;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"style\", {\r\n            children: [\r\n                /*css*/ `\r\n\r\n                    `\r\n            ]\r\n        }), element(\"slot\", {\r\n            children: [\r\n                element(\"slot\")\r\n            ]\r\n        }));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n            }\r\n            \r\n            :host(:focus) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n        `;\r\n    }\r\n    items() {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-listitemgroup) > e-listitem\"));\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.#walker = document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, this.#walkerNodeFilter.bind(this));\r\n        this.#onSelection = false;\r\n        this.#hasSelectionChanged = false;\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"contextmenu\", this.#handleContextMenuEvent.bind(this));\r\n        this.addEventListener(\"dragend\", this.#handleDragEndEvent.bind(this));\r\n        this.addEventListener(\"dragenter\", this.#handleDragEnterEvent.bind(this));\r\n        this.addEventListener(\"dragover\", this.#handleDragOverEvent.bind(this));\r\n        this.addEventListener(\"dragleave\", this.#handleDragLeaveEvent.bind(this));\r\n        this.addEventListener(\"dragstart\", this.#handleDragStartEvent.bind(this));\r\n        this.addEventListener(\"drop\", this.#handleDropEvent.bind(this));\r\n        this.addEventListener(\"focus\", this.#handleFocusEvent.bind(this));\r\n        this.addEventListener(\"focusin\", this.#handleFocusInEvent.bind(this));\r\n        this.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n        this.addEventListener(\"mousedown\", this.#handleMouseDownEvent.bind(this));\r\n        this.addEventListener(\"select\", this.#handleSelectEvent.bind(this));\r\n        shadowRoot.addEventListener(\"slotchange\", this.#handleSlotChangeEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const tabIndex = this.getAttribute(\"tabindex\");\r\n        this.tabIndex = tabIndex === null ? 0 : parseInt(tabIndex);\r\n    }\r\n    beginSelection() {\r\n        this.#onSelection = true;\r\n    }\r\n    endSelection() {\r\n        this.#onSelection = false;\r\n        if (this.#hasSelectionChanged) {\r\n            this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n            this.#hasSelectionChanged = false;\r\n        }\r\n    }\r\n    selectedItems() {\r\n        const selectedItems = [];\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        let item = this.#firstItem();\r\n        while (item !== null) {\r\n            if (item.selected) {\r\n                selectedItems.push(item);\r\n            }\r\n            item = this.#nextItem(item);\r\n        }\r\n        return selectedItems;\r\n    }\r\n    #walkerNodeFilter(node) {\r\n        if (node instanceof HTMLEListItemElement) {\r\n            return NodeFilter.FILTER_ACCEPT;\r\n        }\r\n        if (node instanceof HTMLEListItemGroupElement) {\r\n            return NodeFilter.FILTER_SKIP;\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    }\r\n    #getItemsRange(from, to) {\r\n        const items = this.items();\r\n        const fromIndex = items.indexOf(from);\r\n        const toIndex = items.indexOf(to);\r\n        if (fromIndex > -1 && toIndex > -1) {\r\n            if (from == to) {\r\n                return [from];\r\n            }\r\n            return items.slice(Math.min(fromIndex, toIndex), Math.max(fromIndex, toIndex) + 1);\r\n        }\r\n        return [];\r\n    }\r\n    #setSelection(...items) {\r\n        this.beginSelection();\r\n        const selectedItems = this.selectedItems();\r\n        selectedItems.forEach((selectedItem_i) => {\r\n            if (!items.includes(selectedItem_i)) {\r\n                selectedItem_i.selected = false;\r\n            }\r\n        });\r\n        items.forEach((item_i) => {\r\n            if (this.contains(item_i) && !item_i.selected) {\r\n                item_i.selected = true;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #addToSelection(...items) {\r\n        this.beginSelection();\r\n        items.forEach((item_i) => {\r\n            if (!item_i.selected) {\r\n                item_i.selected = true;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #removeFromSelection(...items) {\r\n        this.beginSelection();\r\n        const selectedItems = this.selectedItems();\r\n        items.forEach((item_i) => {\r\n            if (selectedItems.includes(item_i)) {\r\n                item_i.selected = false;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #clearSelection() {\r\n        this.beginSelection();\r\n        const selectedItems = this.selectedItems();\r\n        selectedItems.forEach((item_i) => {\r\n            if (item_i.selected) {\r\n                item_i.selected = false;\r\n            }\r\n        });\r\n        this.endSelection();\r\n    }\r\n    #setActiveItem(item) {\r\n        const { activeItem, items } = this;\r\n        if (activeItem !== null && activeItem !== item) {\r\n            activeItem.active = false;\r\n            activeItem.tabIndex = -1;\r\n        }\r\n        if (item !== null) {\r\n            item.active = true;\r\n            item.tabIndex = 0;\r\n        }\r\n    }\r\n    #setDropTargetItem(item) {\r\n        const { dropTargetItem } = this;\r\n        if (dropTargetItem !== null && dropTargetItem !== item) {\r\n            dropTargetItem.droptarget = false;\r\n        }\r\n        if (item !== null) {\r\n            this.droptarget = true;\r\n            item.droptarget = true;\r\n        }\r\n        else {\r\n            this.droptarget = false;\r\n        }\r\n    }\r\n    #firstItem() {\r\n        const walker = this.#walker;\r\n        const { root } = walker;\r\n        walker.currentNode = root;\r\n        return walker.firstChild();\r\n    }\r\n    #lastItem() {\r\n        const walker = this.#walker;\r\n        const { root } = walker;\r\n        walker.currentNode = root;\r\n        return walker.lastChild();\r\n    }\r\n    #previousItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        const previousItem = walker.previousNode();\r\n        return previousItem;\r\n    }\r\n    #nextItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        const nextItem = walker.nextNode();\r\n        return nextItem;\r\n    }\r\n    #handleContextMenuEvent(event) {\r\n        const { target } = event;\r\n        if (target instanceof HTMLEListItemElement) {\r\n            const selectedItems = this.selectedItems();\r\n            if (!selectedItems.includes(target)) {\r\n                this.#setSelection(target);\r\n            }\r\n            target.focus({ preventScroll: true });\r\n            event.preventDefault();\r\n        }\r\n    }\r\n    #handleDragEndEvent() {\r\n        this.#setDropTargetItem(null);\r\n    }\r\n    #handleDragEnterEvent(event) {\r\n        const { target } = event;\r\n        if (target instanceof HTMLEListItemElement) {\r\n            this.#setDropTargetItem(target);\r\n        }\r\n        event.preventDefault();\r\n    }\r\n    #handleDragOverEvent(event) {\r\n        event.preventDefault();\r\n    }\r\n    #handleDragLeaveEvent(event) {\r\n        const { relatedTarget } = event;\r\n        if (relatedTarget instanceof Element) {\r\n            const parentItem = relatedTarget.closest(\"e-listitem\");\r\n            if (!parentItem) {\r\n                let rootNode = relatedTarget;\r\n                while (!(rootNode instanceof HTMLEListItemElement || rootNode instanceof Document)) {\r\n                    rootNode = rootNode.getRootNode();\r\n                    if (rootNode instanceof ShadowRoot) {\r\n                        rootNode = rootNode.host;\r\n                    }\r\n                }\r\n                if (rootNode instanceof Document) {\r\n                    this.#setDropTargetItem(null);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleDragStartEvent(event) {\r\n        const { target } = event;\r\n        if (target instanceof HTMLEListItemElement) {\r\n            const selectedItems = this.selectedItems();\r\n            if (!selectedItems.includes(target)) {\r\n                this.#setSelection(target);\r\n            }\r\n        }\r\n    }\r\n    #handleDropEvent() {\r\n        this.#setDropTargetItem(null);\r\n    }\r\n    #handleFocusEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const { activeItem } = this;\r\n        if (activeItem && relatedTarget !== activeItem) {\r\n            activeItem.focus();\r\n        }\r\n    }\r\n    #handleFocusInEvent(event) {\r\n        const { target } = event;\r\n        if (target instanceof HTMLEListItemElement) {\r\n            this.#setActiveItem(target);\r\n        }\r\n    }\r\n    #handleKeyDownEvent(event) {\r\n        const { key } = event;\r\n        const { activeItem } = this;\r\n        switch (key) {\r\n            case \"a\": {\r\n                const { ctrlKey } = event;\r\n                if (ctrlKey) {\r\n                    const walker = this.#walker;\r\n                    const { root } = walker;\r\n                    const firstItem = (walker.currentNode = walker.parentNode() ?? root, walker.firstChild());\r\n                    const lastItem = (walker.currentNode = walker.parentNode() ?? root, walker.lastChild());\r\n                    const range = this.#getItemsRange(firstItem, lastItem);\r\n                    if (range) {\r\n                        this.#setSelection(...range);\r\n                    }\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n            case \"ArrowUp\": {\r\n                if (activeItem) {\r\n                    const previousItem = this.#previousItem(activeItem);\r\n                    if (previousItem) {\r\n                        previousItem.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            previousItem.selected ?\r\n                                this.#removeFromSelection(previousItem) :\r\n                                this.#addToSelection(previousItem);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    const firstItem = this.#firstItem();\r\n                    if (firstItem) {\r\n                        firstItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                if (activeItem) {\r\n                    const nextItem = this.#nextItem(activeItem);\r\n                    if (nextItem) {\r\n                        nextItem.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            nextItem.selected ?\r\n                                this.#removeFromSelection(nextItem) :\r\n                                this.#addToSelection(nextItem);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    const lastItem = this.#lastItem();\r\n                    if (lastItem) {\r\n                        lastItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = this.#firstItem();\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = this.#lastItem();\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\": {\r\n                const { activeItem } = this;\r\n                if (activeItem) {\r\n                    this.#setSelection(activeItem);\r\n                    activeItem.click();\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                this.#clearSelection();\r\n                this.#setActiveItem(null);\r\n                this.focus();\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handleMouseDownEvent(event) {\r\n        const { target, ctrlKey, shiftKey } = event;\r\n        const selectedItems = this.selectedItems();\r\n        if (target instanceof HTMLEListItemElement) {\r\n            if (!shiftKey && !ctrlKey) {\r\n                this.#setSelection(target);\r\n            }\r\n            else if (ctrlKey) {\r\n                (!target.selected) ?\r\n                    this.#addToSelection(target) :\r\n                    this.#removeFromSelection(target);\r\n                event.stopPropagation();\r\n            }\r\n            else if (shiftKey) {\r\n                const lastSelectedItem = selectedItems[selectedItems.length - 1];\r\n                if (lastSelectedItem) {\r\n                    const range = this.#getItemsRange(lastSelectedItem, target);\r\n                    if (range) {\r\n                        if (selectedItems.includes(target)) {\r\n                            this.#removeFromSelection(...range);\r\n                        }\r\n                        else {\r\n                            this.#addToSelection(...range);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    this.#setSelection(target);\r\n                }\r\n                event.stopPropagation();\r\n            }\r\n        }\r\n    }\r\n    #handleSelectEvent() {\r\n        if (!this.#onSelection) {\r\n            this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n        }\r\n    }\r\n    #handleSlotChangeEvent(event) {\r\n        const { target } = event;\r\n        const assignedItems = target\r\n            .assignedElements()\r\n            .filter(element_i => element_i instanceof HTMLEListItemElement);\r\n        assignedItems.forEach((item_i, i) => {\r\n            item_i.posinset = i;\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEListElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEListElementBase.prototype, \"droptarget\", void 0);\r\nHTMLEListElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-list\"\r\n    })\r\n], HTMLEListElementBase);\r\nvar HTMLEListElement = HTMLEListElementBase;\r\n//# sourceMappingURL=List.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element } from \"../../Element\";\r\nexport { HTMLETabPanelElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLETabPanelElementBase = class HTMLETabPanelElementBase extends HTMLElement {\r\n    get tab() {\r\n        const { id } = this;\r\n        return this.getRootNode().querySelector(`e-tab[controls=${id}]`);\r\n    }\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n                padding: 4px;\r\n            }\r\n            \r\n            :host([hidden]) {\r\n                display: none;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tab } = this;\r\n        if (tab) {\r\n            customElements.upgrade(tab);\r\n            const { selected } = tab;\r\n            this.hidden = !selected;\r\n        }\r\n    }\r\n};\r\nHTMLETabPanelElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tabpanel\"\r\n    })\r\n], HTMLETabPanelElementBase);\r\nvar HTMLETabPanelElement = HTMLETabPanelElementBase;\r\n//# sourceMappingURL=TabPanel.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_HOVERED_ITEM_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport \"./TabPanel\";\r\nexport { HTMLETabElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLETabElementBase = class HTMLETabElementBase extends HTMLElement {\r\n    get panel() {\r\n        const { controls } = this;\r\n        const rootNode = this.getRootNode();\r\n        if (rootNode instanceof Document || rootNode instanceof ShadowRoot) {\r\n            return rootNode.querySelector(`e-tabpanel[id='${controls}']`);\r\n        }\r\n        return null;\r\n    }\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: inline-block;\r\n                user-select: none;\r\n                white-space: nowrap;\r\n                padding: 4px;\r\n            }\r\n            \r\n            :host([disabled]) {\r\n                opacity: 0.38;\r\n                pointer-events: none;\r\n            }\r\n            \r\n            :host(:hover) {\r\n                background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    select() {\r\n        this.selected = true;\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLETabElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETabElementBase.prototype, \"disabled\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLETabElementBase.prototype, \"controls\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETabElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLETabElementBase.prototype, \"selected\", void 0);\r\nHTMLETabElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tab\"\r\n    })\r\n], HTMLETabElementBase);\r\nvar HTMLETabElement = HTMLETabElementBase;\r\n//# sourceMappingURL=Tab.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLETabElement } from \"./Tab\";\r\nimport \"./Tab\";\r\nimport \"./TabPanel\";\r\nexport { HTMLETabListElement };\r\nvar shadowTemplate;\r\nvar style;\r\nvar SELECT_ANIMATION_DURATION = 200;\r\nlet HTMLETabListElementBase = class HTMLETabListElementBase extends HTMLElement {\r\n    #walker;\r\n    get tabs() {\r\n        return Array.from(this.querySelectorAll(\"e-tab\"));\r\n    }\r\n    get activeTab() {\r\n        return this.querySelector(\"e-tab[active]\");\r\n    }\r\n    get selectedTab() {\r\n        return this.querySelector(\"e-tab[selected]\");\r\n    }\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                position: relative;\r\n                display: flex;\r\n            }\r\n\r\n            :host::after {\r\n                position: absolute;\r\n                display: inline-block;\r\n                content: \"\";\r\n                z-index: -1;\r\n                transform: translateY(-100%);\r\n                box-sizing: border-box;\r\n                border-top: 2px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.#walker = document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, this.#walkerNodeFilter.bind(this));\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"click\", this.#handleClickEvent.bind(this));\r\n        this.addEventListener(\"focus\", this.#handleFocusEvent.bind(this));\r\n        this.addEventListener(\"focusin\", this.#handleFocusInEvent.bind(this));\r\n        this.addEventListener(\"focusout\", this.#handleFocusOutEvent.bind(this));\r\n        this.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n        this.addEventListener(\"select\", this.#handleSelectEvent.bind(this));\r\n        this.addEventListener(\"select\", this.#handleSelectEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex, selectedTab } = this;\r\n        this.tabIndex = tabIndex;\r\n        customElements.upgrade(this);\r\n        const tabToSelect = selectedTab ?? this.firstItem();\r\n        if (tabToSelect) {\r\n            this.#selectTab(tabToSelect);\r\n            setTimeout(() => {\r\n                const { width: tabWidth, height: tabHeight } = tabToSelect.getBoundingClientRect();\r\n                const { offsetLeft } = tabToSelect;\r\n                this.animate([{\r\n                        width: `${tabWidth}px`,\r\n                        left: `${offsetLeft}px`,\r\n                        top: `${tabHeight}px`\r\n                    }], {\r\n                    duration: 0,\r\n                    fill: \"forwards\",\r\n                    easing: \"ease-in-out\",\r\n                    pseudoElement: \"::after\"\r\n                });\r\n            });\r\n        }\r\n    }\r\n    #walkerNodeFilter(node) {\r\n        if (node instanceof HTMLETabElement) {\r\n            return NodeFilter.FILTER_ACCEPT;\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    }\r\n    firstItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.firstChild();\r\n    }\r\n    #lastItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.lastChild();\r\n    }\r\n    #previousItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        return walker.previousNode();\r\n    }\r\n    #nextItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        return walker.nextNode();\r\n    }\r\n    #setActiveTab(item) {\r\n        const { activeTab } = this;\r\n        if (activeTab !== null && activeTab !== item) {\r\n            activeTab.active = false;\r\n        }\r\n        if (item !== null) {\r\n            item.active = true;\r\n        }\r\n    }\r\n    #selectTab(tab) {\r\n        const { selectedTab } = this;\r\n        if (tab !== selectedTab) {\r\n            tab.selected = true;\r\n        }\r\n    }\r\n    #handleClickEvent(event) {\r\n        const { target } = event;\r\n        const targetTab = target.closest(\"e-tab\");\r\n        if (targetTab) {\r\n            targetTab.select();\r\n            const { width: tabWidth, height: tabHeight } = targetTab.getBoundingClientRect();\r\n            const { offsetLeft } = targetTab;\r\n            this.animate([{\r\n                    width: `${tabWidth}px`,\r\n                    left: `${offsetLeft}px`,\r\n                    top: `${tabHeight}px`\r\n                }], {\r\n                duration: SELECT_ANIMATION_DURATION,\r\n                fill: \"forwards\",\r\n                easing: \"ease-in-out\",\r\n                pseudoElement: \"::after\"\r\n            });\r\n        }\r\n    }\r\n    #handleFocusEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const { selectedTab } = this;\r\n        if (!this.contains(relatedTarget)) {\r\n            (selectedTab ?? this.firstItem())?.focus();\r\n        }\r\n    }\r\n    #handleFocusInEvent(event) {\r\n        const { target } = event;\r\n        const targetTab = target.closest(\"e-tab\");\r\n        if (targetTab) {\r\n            this.#setActiveTab(targetTab);\r\n            this.tabIndex = -1;\r\n        }\r\n    }\r\n    #handleFocusOutEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const lostFocusWithin = !this.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            this.tabIndex = 0;\r\n        }\r\n    }\r\n    #handleKeyDownEvent(event) {\r\n        const { key } = event;\r\n        const { activeTab } = this;\r\n        switch (key) {\r\n            case \"ArrowLeft\": {\r\n                const previousTab = activeTab ?\r\n                    this.#previousItem(activeTab) ?? this.#lastItem() :\r\n                    this.firstItem();\r\n                previousTab?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                const nextTab = activeTab ?\r\n                    this.#nextItem(activeTab) ?? this.firstItem() :\r\n                    this.#lastItem();\r\n                nextTab?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = this.firstItem();\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = this.#lastItem();\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\": {\r\n                activeTab?.click();\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handleSelectEvent(event) {\r\n        const { target } = event;\r\n        const targetTab = target;\r\n        if (targetTab.selected) {\r\n            const { tabs } = this;\r\n            tabs.forEach((tab_i) => {\r\n                if (tab_i !== targetTab) {\r\n                    tab_i.selected = false;\r\n                    const { panel } = tab_i;\r\n                    if (panel) {\r\n                        panel.hidden = true;\r\n                    }\r\n                }\r\n            });\r\n            const { panel } = targetTab;\r\n            if (panel) {\r\n                panel.hidden = false;\r\n            }\r\n        }\r\n    }\r\n};\r\nHTMLETabListElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tablist\"\r\n    })\r\n], HTMLETabListElementBase);\r\nvar HTMLETabListElement = HTMLETabListElementBase;\r\n//# sourceMappingURL=TabList.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_HOVERED_ITEM_COLOR, DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nexport { HTMLEStatusItemElement };\r\nexport { EStatusItem };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEStatusItemElementBase = class HTMLEStatusItemElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"span\", {\r\n            attributes: {\r\n                part: \"content\"\r\n            },\r\n            children: element(\"slot\")\r\n        }));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                user-select: none;\r\n                white-space: nowrap;\r\n                cursor: pointer;\r\n                line-height: 22px;\r\n            }\r\n            \r\n            :host([disabled]) {\r\n                opacity: 0.38;\r\n                pointer-events: none;\r\n            }\r\n            \r\n            :host(:hover) {\r\n                background-color: var(--theme-hovered-item-color, ${DEFAULT_THEME_HOVERED_ITEM_COLOR});\r\n            }\r\n            \r\n            :host(:focus-within):host-context(e-statusbar:focus-within) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n            \r\n            [part=\"content\"] {\r\n                padding: 0 4px;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEStatusItemElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEStatusItemElementBase.prototype, \"name\", void 0);\r\nHTMLEStatusItemElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-statusitem\"\r\n    })\r\n], HTMLEStatusItemElementBase);\r\nvar HTMLEStatusItemElement = HTMLEStatusItemElementBase;\r\nvar EStatusItem = Object.assign(function (init) {\r\n    const { label, name, onclick } = init;\r\n    return element(\"e-statusitem\", {\r\n        attributes: {\r\n            title: label,\r\n            name: name,\r\n        },\r\n        children: label,\r\n        listeners: {\r\n            click: onclick\r\n        }\r\n    });\r\n}, {\r\n    prototype: HTMLEStatusItemElement.prototype\r\n});\r\n//# sourceMappingURL=StatusItem.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { element, CustomElement, AttributeProperty } from \"../../Element\";\r\nimport \"./StatusItem\";\r\nexport { HTMLEStatusItemGroupElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEStatusItemGroupElementBase = class HTMLEStatusItemGroupElementBase extends HTMLElement {\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                width: max-content;\r\n                flex-direction: row;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"label\": {\r\n                const label = this.shadowRoot.querySelector(\"[part='label']\");\r\n                if (label) {\r\n                    label.textContent = newValue;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEStatusItemGroupElementBase.prototype, \"name\", void 0);\r\nHTMLEStatusItemGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-statusitemgroup\"\r\n    })\r\n], HTMLEStatusItemGroupElementBase);\r\nvar HTMLEStatusItemGroupElement = HTMLEStatusItemGroupElementBase;\r\n//# sourceMappingURL=StatusItemGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR } from \"../../../stylesheets/Theme\";\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLEStatusItemElement } from \"./StatusItem\";\r\nimport { HTMLEStatusItemGroupElement } from \"./StatusItemGroup\";\r\nimport \"./StatusItem\";\r\nimport \"./StatusItemGroup\";\r\nexport { HTMLEStatusBarElement };\r\nvar shadowTemplate;\r\nvar style;\r\nlet HTMLEStatusBarElementBase = class HTMLEStatusBarElementBase extends HTMLElement {\r\n    get activeItem() {\r\n        return this.querySelector(\"e-statusitem[active]\");\r\n    }\r\n    items() {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-statusitemgroup) > e-statusitem\"));\r\n    }\r\n    #walker;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"slot\"));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: flex;\r\n                flex-direction: row;\r\n            }\r\n\r\n            :host(:focus) {\r\n                outline: 1px solid var(--theme-focused-item-outline-color, ${DEFAULT_THEME_FOCUSED_ITEM_OUTLINE_COLOR});\r\n                outline-offset: -1px;\r\n            }\r\n\r\n            ::slotted(e-statusitem:not(:first-child)) {\r\n                margin-left: 4px;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.#walker = document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, this.#nodeFilter.bind(this));\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"contextmenu\", this.#handleContextMenuEvent.bind(this));\r\n        this.addEventListener(\"dblclick\", this.#handleDblClickEvent.bind(this));\r\n        this.addEventListener(\"focus\", this.#handleFocusEvent.bind(this));\r\n        this.addEventListener(\"focusin\", this.#handleFocusInEvent.bind(this));\r\n        this.addEventListener(\"focusout\", this.#handleFocusOutEvent.bind(this));\r\n        this.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    #nodeFilter(node) {\r\n        if (node instanceof HTMLEStatusItemElement) {\r\n            return NodeFilter.FILTER_ACCEPT;\r\n        }\r\n        if (node instanceof HTMLEStatusItemGroupElement) {\r\n            return NodeFilter.FILTER_SKIP;\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    }\r\n    firstItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.firstChild();\r\n    }\r\n    #lastItem() {\r\n        const walker = this.#walker;\r\n        walker.currentNode = walker.root;\r\n        return walker.lastChild();\r\n    }\r\n    #previousItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        const previousItem = walker.previousSibling();\r\n        return previousItem;\r\n    }\r\n    #nextItem(item) {\r\n        const walker = this.#walker;\r\n        walker.currentNode = item;\r\n        return walker.nextSibling();\r\n    }\r\n    #setActiveItem(item) {\r\n        const { activeItem } = this;\r\n        if (activeItem !== null && activeItem !== item) {\r\n            activeItem.active = false;\r\n        }\r\n        if (item !== null) {\r\n            item.active = true;\r\n        }\r\n    }\r\n    #handleContextMenuEvent(event) {\r\n        event.stopPropagation();\r\n    }\r\n    #handleDblClickEvent(event) {\r\n        event.stopPropagation();\r\n    }\r\n    #handleFocusEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const { activeItem } = this;\r\n        if (!this.contains(relatedTarget)) {\r\n            (activeItem ?? this.firstItem())?.focus();\r\n        }\r\n    }\r\n    #handleFocusInEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\"e-statusitem\");\r\n        if (targetItem) {\r\n            this.#setActiveItem(targetItem);\r\n            this.tabIndex = -1;\r\n        }\r\n    }\r\n    #handleFocusOutEvent(event) {\r\n        const { relatedTarget } = event;\r\n        const lostFocusWithin = !this.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            this.tabIndex = 0;\r\n        }\r\n    }\r\n    #handleKeyDownEvent(event) {\r\n        const { key } = event;\r\n        const { activeItem } = this;\r\n        switch (key) {\r\n            case \"Enter\": {\r\n                if (activeItem) {\r\n                    activeItem.click();\r\n                    event.stopPropagation();\r\n                }\r\n                break;\r\n            }\r\n            case \"ArrowLeft\": {\r\n                if (activeItem) {\r\n                    const previousItem = this.#previousItem(activeItem);\r\n                    if (previousItem) {\r\n                        previousItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    const firstItem = this.firstItem();\r\n                    if (firstItem) {\r\n                        firstItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                if (activeItem) {\r\n                    const nextItem = this.#nextItem(activeItem);\r\n                    if (nextItem) {\r\n                        nextItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    const lastItem = this.#lastItem();\r\n                    if (lastItem) {\r\n                        lastItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = this.firstItem();\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = this.#lastItem();\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                this.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\nHTMLEStatusBarElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-statusbar\"\r\n    })\r\n], HTMLEStatusBarElementBase);\r\nvar HTMLEStatusBarElement = HTMLEStatusBarElementBase;\r\n//# sourceMappingURL=StatusBar.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_SELECTED_ITEM_COLOR } from \"../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty } from \"../Element\";\r\nexport { HTMLEHandleElement };\r\nvar style;\r\nlet HTMLEHandleElementBase = class HTMLEHandleElementBase extends HTMLElement {\r\n    #target;\r\n    #onCapture;\r\n    static {\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n                            \r\n                width: 24px;\r\n                height: 12px;\r\n                \r\n                background-color: var(--theme-selected-item-color, ${DEFAULT_THEME_SELECTED_ITEM_COLOR});\r\n\r\n                -webkit-mask-image: url(\"/assets/dots.png\");\r\n                mask-image: url(\"/assets/dots.png\");\r\n\r\n                -webkit-mask-repeat: repeat;\r\n                mask-repeat: repeat;\r\n                cursor: move;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        this.#target = null;\r\n        this.#onCapture = false;\r\n        this.addEventListener(\"pointerdown\", this.#handlePointerDownEvent.bind(this));\r\n        this.addEventListener(\"pointermove\", this.#handlePointerMoveEvent.bind(this));\r\n        this.addEventListener(\"pointerup\", this.#handlePointerUpEvent.bind(this));\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"controls\": {\r\n                const { controls } = this;\r\n                this.#target = document.getElementById(controls);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #handlePointerUpEvent(event) {\r\n        const { pointerId } = event;\r\n        this.releasePointerCapture(pointerId);\r\n        this.#onCapture = false;\r\n    }\r\n    #handlePointerDownEvent(event) {\r\n        const { pointerId } = event;\r\n        const { controls } = this;\r\n        this.#target = document.getElementById(controls);\r\n        this.setPointerCapture(pointerId);\r\n        this.#onCapture = true;\r\n    }\r\n    #handlePointerMoveEvent(event) {\r\n        if (this.#onCapture) {\r\n            const target = this.#target;\r\n            if (target !== null) {\r\n                const targetComputedStyle = window.getComputedStyle(target);\r\n                const { movementX, movementY } = event;\r\n                const { width: rectWidth, height: rectHeight } = target.getBoundingClientRect();\r\n                const outerElement = target.parentElement ?? document.body;\r\n                const { left: outerRectLeft, right: outerRectRight, top: outerRectTop, bottom: outerRectBottom } = outerElement.getBoundingClientRect();\r\n                const left = parseFloat(targetComputedStyle.getPropertyValue(\"left\"));\r\n                const newLeft = Math.max(outerRectLeft, Math.min(Math.trunc(left + movementX), outerRectRight - rectWidth));\r\n                const top = parseFloat(targetComputedStyle.getPropertyValue(\"top\"));\r\n                const newTop = Math.max(outerRectTop, Math.min(Math.trunc(top + movementY), outerRectBottom - rectHeight));\r\n                target.style.setProperty(\"left\", `${newLeft}px`);\r\n                target.style.setProperty(\"top\", `${newTop}px`);\r\n                this.dispatchEvent(new CustomEvent(\"move\"));\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEHandleElementBase.prototype, \"controls\", void 0);\r\nHTMLEHandleElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-handle\"\r\n    })\r\n], HTMLEHandleElementBase);\r\nvar HTMLEHandleElement = HTMLEHandleElementBase;\r\n//# sourceMappingURL=Handle.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, AttributeProperty } from \"../Element\";\r\nexport { HTMLEImportElement };\r\nlet HTMLEImportElementBase = class HTMLEImportElementBase extends HTMLElement {\r\n    connectedCallback() {\r\n        const { src } = this;\r\n        if (src) {\r\n            this.#importRequest(src);\r\n        }\r\n    }\r\n    async #importRequest(src) {\r\n        this.outerHTML = await fetch(src).then((response) => {\r\n            if (response.ok) {\r\n                return response.text();\r\n            }\r\n            else {\r\n                throw new Error(response.statusText);\r\n            }\r\n        });\r\n        this.dispatchEvent(new Event(\"load\", { bubbles: true }));\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEImportElementBase.prototype, \"src\", void 0);\r\nHTMLEImportElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-import\"\r\n    })\r\n], HTMLEImportElementBase);\r\nvar HTMLEImportElement = HTMLEImportElementBase;\r\n//# sourceMappingURL=Import.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { DEFAULT_THEME_SELECTED_ITEM_COLOR } from \"../../stylesheets/Theme\";\r\nimport { CustomElement, AttributeProperty, element } from \"../Element\";\r\nexport { HTMLELoaderElement };\r\nvar barShadowTemplate;\r\nvar spinnerShadowTemplate;\r\nvar style;\r\nlet HTMLELoaderElementBase = class HTMLELoaderElementBase extends HTMLElement {\r\n    static {\r\n        barShadowTemplate = element(\"template\");\r\n        barShadowTemplate.content.append(element(\"div\", {\r\n            attributes: {\r\n                part: \"bar\"\r\n            },\r\n            children: [\r\n                element(\"div\", {\r\n                    attributes: {\r\n                        part: \"slider\"\r\n                    },\r\n                    children: [\r\n                        element(\"div\", {\r\n                            attributes: {\r\n                                part: \"cursor\"\r\n                            }\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n        spinnerShadowTemplate = element(\"template\");\r\n        spinnerShadowTemplate.content.append(element(\"div\", {\r\n            attributes: {\r\n                part: \"spinner\"\r\n            }\r\n        }));\r\n        style = /*css*/ `\r\n            :host {\r\n                display: inline-block;\r\n            }\r\n\r\n            :host(:is(:not([type]), [type=\"bar\"])) {\r\n                border: 1px solid gainsboro;\r\n                border-radius: 4px;\r\n            }\r\n        \r\n            [part=\"bar\"] {\r\n                position: relative;\r\n                overflow: hidden;\r\n                height: 6px;\r\n                width: 100%;\r\n                width: 86px;\r\n                border-radius: 4px;\r\n                background-color: whitesmoke;\r\n            }\r\n        \r\n            [part=\"slider\"] {\r\n                display: flex;\r\n                position: absolute;\r\n                width: 100%;\r\n                height: 100%;\r\n                animation-name: slider;\r\n            }\r\n        \r\n            [part=\"slider\"],\r\n            [part=\"cursor\"] {\r\n                border-radius: 4px;\r\n                will-change: transform;\r\n                animation-duration: 1s;\r\n                animation-timing-function: linear;\r\n                animation-iteration-count: infinite;\r\n            }\r\n        \r\n            [part=\"cursor\"] {\r\n                display: block;\r\n                width: 32px;\r\n                background-color: var(--theme-activated-item-color, ${DEFAULT_THEME_SELECTED_ITEM_COLOR});\r\n                animation-name: cursor;\r\n            }\r\n        \r\n            :host([type=\"spinner\"]) {\r\n                display: inline-block;\r\n                width: 20px;\r\n                height: 20px;\r\n            }\r\n        \r\n            [part=\"spinner\"] {\r\n                display: inline-block;\r\n                width: 18px;\r\n                height: 18px;\r\n            }\r\n        \r\n            [part=\"spinner\"]::after {\r\n                content: \"\";\r\n                display: block;\r\n                width: 12px;\r\n                height: 12px;\r\n                border-radius: 50%;\r\n                border-width: 4px;\r\n                border-style: solid;\r\n                border-color: transparent var(--theme-activated-item-color, ${DEFAULT_THEME_SELECTED_ITEM_COLOR});\r\n                animation: spin 1.2s linear infinite;\r\n            }\r\n        \r\n            @keyframes slider {\r\n                0% {\r\n                    transform: translateX(0%);\r\n                }\r\n                100% {\r\n                    transform: translateX(100%);\r\n                }\r\n            }\r\n        \r\n            @keyframes cursor {\r\n                0% {\r\n                    transform: translateX(-100%);\r\n                }\r\n                100% {\r\n                    transform: translateX(100%);\r\n                }\r\n            }\r\n        \r\n            @keyframes spin {\r\n                0% {\r\n                    transform: rotate(0);\r\n                }\r\n                100% {\r\n                    transform: rotate(360deg);\r\n                }\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.replaceChildren(barShadowTemplate.content.cloneNode(true));\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"type\": {\r\n                this.#updateTemplate();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #updateTemplate() {\r\n        const { type, shadowRoot } = this;\r\n        switch (type) {\r\n            case \"spinner\": {\r\n                shadowRoot.replaceChildren(spinnerShadowTemplate.content.cloneNode(true));\r\n                break;\r\n            }\r\n            case \"bar\": {\r\n                shadowRoot.replaceChildren(barShadowTemplate.content.cloneNode(true));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"bar\", observed: true })\r\n], HTMLELoaderElementBase.prototype, \"type\", void 0);\r\nHTMLELoaderElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-loader\"\r\n    })\r\n], HTMLELoaderElementBase);\r\nvar HTMLELoaderElement = HTMLELoaderElementBase;\r\n//# sourceMappingURL=Loader.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement } from \"../Element\";\r\nexport { HTMLESeparatorElement };\r\nvar style;\r\nlet HTMLESeparatorElementBase = class HTMLESeparatorElementBase extends HTMLElement {\r\n    #internals;\r\n    static {\r\n        style = /*css*/ `\r\n            :host {\r\n                display: block;\r\n                margin: 10px 0 10px 27px;\r\n                border: none;\r\n                border-top: 1px solid lightgrey;\r\n            }\r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        this.#internals = this.attachInternals();\r\n        this.#internals.role = \"separator\";\r\n    }\r\n};\r\nHTMLESeparatorElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-separator\"\r\n    })\r\n], HTMLESeparatorElementBase);\r\nvar HTMLESeparatorElement = HTMLESeparatorElementBase;\r\n//# sourceMappingURL=Separator.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, AttributeProperty, element } from \"../Element\";\r\nexport { HTMLEToolTipElement };\r\nvar shadowTemplate;\r\nvar style;\r\nvar HIDE_DELAY_MS = 100;\r\nvar SHOW_DELAY_MS = 200;\r\nvar ANIMATION_DURATION = 100;\r\nlet HTMLEToolTipElementBase = class HTMLEToolTipElementBase extends HTMLElement {\r\n    get target() {\r\n        return this.#target;\r\n    }\r\n    #target;\r\n    #targetListenerObject;\r\n    #documentListenerObject;\r\n    #toggleAnimation;\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(element(\"div\", {\r\n            attributes: {\r\n                part: \"container\"\r\n            },\r\n            children: [\r\n                element(\"span\", {\r\n                    attributes: {\r\n                        part: \"arrow\"\r\n                    }\r\n                }),\r\n                element(\"slot\")\r\n            ]\r\n        }));\r\n        style = /*css*/ `\r\n            :host {\r\n                position: fixed;\r\n                display: inline-block;\r\n                z-index: 1;\r\n                padding: 4px;\r\n                border-radius: 3px;\r\n                box-sizing: border-box;\r\n                background-color: white;\r\n                border: 1px solid black;\r\n                pointer-events: none;\r\n            }\r\n            \r\n            :host([hidden]) {\r\n                display: none;\r\n            }\r\n\r\n            :host(:not([visible])) {\r\n                opacity: 0;\r\n            }\r\n            \r\n            [part=\"arrow\"] {\r\n                display: inline-block;\r\n                position: fixed;\r\n                z-index: 1;\r\n                width: 4px;\r\n                height: 4px;\r\n                box-sizing: border-box;\r\n                background-color: white;\r\n                border: 1px solid black;\r\n                border-width: 0 1px 1px 0;\r\n            }\r\n            \r\n            :host(:is(:not([position]), [position=\"top\"])) [part=\"arrow\"] {\r\n                transform: translate(-2px, -2px) rotate(45deg);\r\n            }\r\n            \r\n            :host(:is([position=\"bottom\"])) [part=\"arrow\"] {\r\n                transform: translate(-2px, -2px) rotate(225deg);\r\n            }\r\n            \r\n            :host(:is([position=\"left\"])) [part=\"arrow\"] {\r\n                transform: translate(-2px, -2px) rotate(315deg);\r\n            }\r\n            \r\n            :host(:is([position=\"right\"])) [part=\"arrow\"] {\r\n                transform: translate(-2px, -2px) rotate(135deg);\r\n            }        \r\n        `;\r\n    }\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const adoptedStylesheet = new CSSStyleSheet();\r\n        adoptedStylesheet.replace(style);\r\n        shadowRoot.adoptedStyleSheets = [adoptedStylesheet];\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.#target = null;\r\n        this.#toggleAnimation = null;\r\n        this.#targetListenerObject = (function (tooltip) {\r\n            return {\r\n                handleEvent(event) {\r\n                    const { type } = event;\r\n                    switch (type) {\r\n                        case \"mouseenter\": {\r\n                            tooltip.#handleTargetMouseEnterEvent();\r\n                            break;\r\n                        }\r\n                        case \"mouseleave\": {\r\n                            tooltip.#handleTargetMouseLeaveEvent();\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        })(this);\r\n        this.#documentListenerObject = (function (tooltip) {\r\n            return {\r\n                handleEvent(event) {\r\n                    const { type } = event;\r\n                    switch (type) {\r\n                        case \"keydown\": {\r\n                            tooltip.#handleDocumentKeyDownEvent(event);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        })(this);\r\n    }\r\n    connectedCallback() {\r\n        this.#setTarget();\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"for\": {\r\n                this.#setTarget();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    #setTarget() {\r\n        const { htmlFor } = this;\r\n        if (htmlFor) {\r\n            const rootNode = this.getRootNode();\r\n            if (rootNode instanceof Document || rootNode instanceof ShadowRoot) {\r\n                const target = rootNode.getElementById(htmlFor);\r\n                if (target !== null) {\r\n                    const oldTarget = this.#target;\r\n                    const targetListenerObject = this.#targetListenerObject;\r\n                    if (oldTarget) {\r\n                        oldTarget.removeEventListener(\"mouseenter\", targetListenerObject);\r\n                        oldTarget.removeEventListener(\"mouseleave\", targetListenerObject);\r\n                    }\r\n                    target.addEventListener(\"mouseenter\", targetListenerObject);\r\n                    target.addEventListener(\"mouseleave\", targetListenerObject);\r\n                }\r\n                this.#target = target;\r\n            }\r\n            this.#position();\r\n        }\r\n    }\r\n    show(options) {\r\n        const { immediate = false } = options ?? {};\r\n        let toggleAnimation = this.#toggleAnimation;\r\n        if (toggleAnimation !== null) {\r\n            const { id } = toggleAnimation;\r\n            if (id === \"hide\") {\r\n                toggleAnimation.cancel();\r\n            }\r\n            else if (!immediate) {\r\n                return;\r\n            }\r\n        }\r\n        if (!this.visible) {\r\n            this.hidden = false;\r\n            toggleAnimation = this.animate([\r\n                { opacity: 0 },\r\n                { opacity: 1 }\r\n            ], {\r\n                id: \"show\",\r\n                delay: immediate ? 0 : SHOW_DELAY_MS,\r\n                duration: immediate ? 0 : ANIMATION_DURATION\r\n            });\r\n            const { finished } = toggleAnimation;\r\n            finished.then(() => {\r\n                this.visible = true;\r\n            }).catch(_ => void 0);\r\n            this.#toggleAnimation = toggleAnimation;\r\n            this.#position();\r\n        }\r\n        else {\r\n            this.#toggleAnimation = null;\r\n        }\r\n    }\r\n    hide(options) {\r\n        const { immediate = false } = options ?? {};\r\n        let toggleAnimation = this.#toggleAnimation;\r\n        if (toggleAnimation !== null) {\r\n            const { id } = toggleAnimation;\r\n            if (id === \"show\") {\r\n                toggleAnimation.cancel();\r\n            }\r\n            else if (!immediate) {\r\n                return;\r\n            }\r\n        }\r\n        if (this.visible) {\r\n            toggleAnimation = this.animate([\r\n                { opacity: 1 },\r\n                { opacity: 0 }\r\n            ], {\r\n                id: \"hide\",\r\n                delay: immediate ? 0 : HIDE_DELAY_MS,\r\n                duration: immediate ? 0 : ANIMATION_DURATION\r\n            });\r\n            const { finished } = toggleAnimation;\r\n            finished.then(() => {\r\n                this.visible = false;\r\n                this.hidden = true;\r\n            }).catch(_ => void 0);\r\n            this.#toggleAnimation = toggleAnimation;\r\n        }\r\n        else {\r\n            this.#toggleAnimation = null;\r\n        }\r\n    }\r\n    #arrow() {\r\n        return this.shadowRoot.querySelector(\"[part=arrow]\");\r\n    }\r\n    #position() {\r\n        const target = this.#target;\r\n        if (target !== null) {\r\n            const { top: targetTop, bottom: targetBottom, left: targetLeft, right: targetRight } = target.getBoundingClientRect();\r\n            const { width: tooltipWidth, height: tooltipHeight } = this.getBoundingClientRect();\r\n            const tooltipHalfWidth = tooltipWidth / 2;\r\n            const tooltipHalfHeight = tooltipHeight / 2;\r\n            const targetCenter = (targetRight + targetLeft) / 2;\r\n            const targetMiddle = (targetBottom + targetTop) / 2;\r\n            const { position, style: tooltipStyle } = this;\r\n            const arrow = this.#arrow();\r\n            const { style: arrowStyle } = arrow;\r\n            const { width: arrowWidth, height: arrowHeight } = arrow.getBoundingClientRect();\r\n            const arrowHalfWidth = arrowWidth / 2;\r\n            const arrowHalfHeight = arrowHeight / 2;\r\n            const { clientWidth } = document.body;\r\n            switch (position) {\r\n                case \"top\": {\r\n                    tooltipStyle.setProperty(\"top\", `${targetTop - tooltipHeight - arrowHalfHeight}px`);\r\n                    tooltipStyle.setProperty(\"left\", `${Math.max(0, Math.min(targetCenter - tooltipHalfWidth, clientWidth - tooltipWidth))}px`);\r\n                    arrowStyle.setProperty(\"top\", `${targetTop - arrowHalfHeight}px`);\r\n                    arrowStyle.setProperty(\"left\", `${targetCenter}px`);\r\n                    break;\r\n                }\r\n                case \"bottom\": {\r\n                    tooltipStyle.setProperty(\"top\", `${targetBottom + arrowHalfHeight}px`);\r\n                    tooltipStyle.setProperty(\"left\", `${Math.max(0, Math.min(targetCenter - tooltipHalfWidth, clientWidth - tooltipWidth))}px`);\r\n                    arrowStyle.setProperty(\"top\", `${targetBottom + arrowHalfHeight}px`);\r\n                    arrowStyle.setProperty(\"left\", `${targetCenter}px`);\r\n                    break;\r\n                }\r\n                case \"left\": {\r\n                    tooltipStyle.setProperty(\"top\", `${targetMiddle - tooltipHalfHeight}px`);\r\n                    tooltipStyle.setProperty(\"left\", `${targetLeft - tooltipWidth - arrowHalfWidth}px`);\r\n                    arrowStyle.setProperty(\"top\", `${targetMiddle}px`);\r\n                    arrowStyle.setProperty(\"left\", `${targetLeft - arrowHalfWidth}px`);\r\n                    break;\r\n                }\r\n                case \"right\": {\r\n                    tooltipStyle.setProperty(\"top\", `${targetMiddle - tooltipHalfHeight}px`);\r\n                    tooltipStyle.setProperty(\"left\", `${targetRight + arrowHalfWidth}px`);\r\n                    arrowStyle.setProperty(\"top\", `${targetMiddle}px`);\r\n                    arrowStyle.setProperty(\"left\", `${targetRight + arrowHalfWidth}px`);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #handleTargetMouseEnterEvent() {\r\n        this.show();\r\n        const toggleAnimation = this.#toggleAnimation;\r\n        if (toggleAnimation) {\r\n            const documentListenerObject = this.#documentListenerObject;\r\n            const { finished } = toggleAnimation;\r\n            finished.then(() => {\r\n                document.addEventListener(\"keydown\", documentListenerObject);\r\n            }).catch(_ => void 0);\r\n        }\r\n    }\r\n    #handleTargetMouseLeaveEvent() {\r\n        this.hide();\r\n        const toggleAnimation = this.#toggleAnimation;\r\n        if (toggleAnimation) {\r\n            const documentListenerObject = this.#documentListenerObject;\r\n            const { finished } = toggleAnimation;\r\n            finished.then(() => {\r\n                document.removeEventListener(\"keydown\", documentListenerObject);\r\n            }).catch(_ => void 0);\r\n        }\r\n    }\r\n    #handleDocumentKeyDownEvent(event) {\r\n        const { key } = event;\r\n        switch (key) {\r\n            case \"Escape\": {\r\n                this.hide({\r\n                    immediate: true\r\n                });\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true, name: \"for\" })\r\n], HTMLEToolTipElementBase.prototype, \"htmlFor\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"top\" })\r\n], HTMLEToolTipElementBase.prototype, \"position\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEToolTipElementBase.prototype, \"visible\", void 0);\r\nHTMLEToolTipElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tooltip\"\r\n    })\r\n], HTMLEToolTipElementBase);\r\nvar HTMLEToolTipElement = HTMLEToolTipElementBase;\r\n//# sourceMappingURL=ToolTip.js.map","import { element } from \"editor/lib/elements/Element\";\r\nimport { GridColumnModel, GridModel, GridRowModel } from \"editor/lib/views/GridView\";\r\nimport { TreeModel } from \"editor/lib/views/TreeView\";\r\n\r\nimport { theme } from \"editor/lib/stylesheets/Theme\";\r\n\r\nimport { MyTreeItemModel, MyTreeView } from \"./src/MyTreeView\";\r\nimport { MyGridRowModel, MyGridView } from \"./src/MyGridView\";\r\n\r\nimport \"editor/lib/elements/containers/lists\";\r\nimport \"editor/lib/elements/containers/tabs\";\r\nimport \"editor/lib/elements/containers/menus\";\r\nimport \"editor/lib/elements/containers/status\";\r\nimport \"editor/lib/elements/misc\";\r\nimport { HTMLEToolTipElement } from \"editor/lib/elements/misc\";\r\n\r\nexport async function main() {\r\n    document.adoptedStyleSheets = [theme.stylesheet];\r\n    document.head.append(\r\n        ...Object.values(theme.images()).map(\r\n            (img) => element(\"link\", {\r\n                attributes: {\r\n                    rel: \"preload\",\r\n                    as: \"image\",\r\n                    href: img,\r\n                    crossorigin: \"anonymous\"\r\n                }\r\n            })\r\n        )\r\n    );\r\n    \r\n    const gridView = new MyGridView();\r\n    gridView.setModel(\r\n        new GridModel({\r\n            columns: [\r\n                new GridColumnModel({\r\n                    name: \"name\",\r\n                    type: String,\r\n                    label: \"Nom\",\r\n                    extract: (row) => (<MyGridRowModel>row).name\r\n                }),\r\n                new GridColumnModel({\r\n                    name: \"color\",\r\n                    type: String,\r\n                    label: \"Couleur\",\r\n                    extract: (row) => (<MyGridRowModel>row).color\r\n                }),\r\n                new GridColumnModel({\r\n                    name: \"age\",\r\n                    type: Number,\r\n                    label: \"Age\",\r\n                    extract: (row) => String((<MyGridRowModel>row).age),\r\n                    filters: [{\r\n                        name: \"Minors\",\r\n                        filter: (row) => (<MyGridRowModel>row).age < 18\r\n                    },{\r\n                        name: \"Majors\",\r\n                        filter: (row) => (<MyGridRowModel>row).age >= 18\r\n                    }]\r\n                })\r\n            ],\r\n            rows: [\r\n                new MyGridRowModel({\r\n                    id: 1,\r\n                    name: \"Louis\",\r\n                    age: 13,\r\n                    color: \"bleu\"\r\n                }),\r\n                new MyGridRowModel({\r\n                    id: 2,\r\n                    name: \"Marine\",\r\n                    age: 21,\r\n                    color: \"bleu\"\r\n                }),\r\n                new MyGridRowModel({\r\n                    id: 3,\r\n                    name: \"Jean-Christophe\",\r\n                    age: 32,\r\n                    color: \"rouge\"\r\n                }),\r\n                new MyGridRowModel({\r\n                    id: 4,\r\n                    name: \"Anne\",\r\n                    age: 54,\r\n                    color: \"jaune\"\r\n                }),\r\n                new MyGridRowModel({\r\n                    id: 5,\r\n                    name: \"Claude\",\r\n                    age: 61,\r\n                    color: \"noir\"\r\n                }),\r\n                new MyGridRowModel({\r\n                    id: 6,\r\n                    name: \"Benoît\",\r\n                    age: 38,\r\n                    color: \"vert\"\r\n                })\r\n            ]\r\n        })\r\n    );\r\n    document.body.append(gridView);\r\n    gridView.render();\r\n\r\n    const treeModel = new TreeModel({\r\n        items: [\r\n            new MyTreeItemModel({\r\n                id: \"TI 0\",\r\n                type: \"parent\",\r\n                items: [\r\n                    new MyTreeItemModel({\r\n                        id: \"TI 1A\",\r\n                        type: \"parent\",\r\n                        items: [\r\n                            new MyTreeItemModel({\r\n                                type: \"leaf\",\r\n                                id: \"TI 1AX\"\r\n                            }),\r\n                        ]\r\n                    }),\r\n                    new MyTreeItemModel({\r\n                        type: \"parent\",\r\n                        id: \"TI 1B\"\r\n                    })\r\n                ]\r\n            }),\r\n            new MyTreeItemModel({\r\n                id: \"TI 1\",\r\n                type: \"parent\",\r\n                items: [\r\n                    new MyTreeItemModel({\r\n                        id: \"TI 1A\",\r\n                        type: \"parent\",\r\n                        items: [\r\n                            new MyTreeItemModel({\r\n                                type: \"leaf\",\r\n                                id: \"TI 1AX\"\r\n                            }),\r\n                        ]\r\n                    }),\r\n                    new MyTreeItemModel({\r\n                        type: \"parent\",\r\n                        id: \"TI 1B\"\r\n                    })\r\n                ]\r\n            }),\r\n            new MyTreeItemModel({\r\n                type: \"leaf\",\r\n                id: \"TI 2\"\r\n            }),\r\n            new MyTreeItemModel({\r\n                type: \"leaf\",\r\n                id: \"TI 3\"\r\n            })\r\n        ]\r\n    });\r\n\r\n    const treeView = new MyTreeView();\r\n    treeView.draggable = true;\r\n    treeView.setModel(treeModel);\r\n    treeView.render();\r\n    document.body.append(treeView);\r\n\r\n    document.body.append(\r\n        ...[\r\n            \"builtins\",\r\n            \"tablist\",\r\n            \"sash\",\r\n            \"loaders\",\r\n            \"tree\",\r\n            \"menus\",\r\n            \"list\",\r\n            \"status\"\r\n        ].map(example => {\r\n            return element(\"details\", {\r\n                children: [\r\n                    element(\"summary\", {\r\n                        children: `${example}.html`\r\n                    }),\r\n                    element(\"e-import\", {\r\n                        attributes: {\r\n                            src: `example/${example}.html`\r\n                        }\r\n                    })\r\n                ]\r\n            })\r\n        })\r\n    );\r\n}"],"names":["___CSS_LOADER_EXPORT___","push","module","id","i","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","Error","replace","p","ModelChangeRecordBase","target","changeType","propertyName","oldValue","newValue","removedIndex","removedItems","insertedIndex","insertedItems","sortedIndices","constructor","init","ModelNodesList","PROPERTY_CHANGE","LIST_REMOVE","LIST_INSERT","LIST_SORT","ModelChangeRecord","items","slice","index","values","ModelEventBase","type","currentTarget","static","setCurrentTarget","event","setTarget","ModelEventTargetAccessor","ModelEvent","ModelEventTargetBase","Map","receiveEvent","callbacks","forEach","callback_i","addEventListener","callback","set","removeEventListener","callbackIndex","findIndex","splice","delete","dispatchEvent","ModelNodeBase","super","parentNode","setParent","isCyclicReference","ancestorNode","TypeError","beginChanges","endChanges","getRecords","property","records","record","triggerChange","node","handleRecord","ModelNodeRecordsAccessor","ModelNode","ReactiveProperty","ModelReactivePropertiesAccessor","getProperty","setProperty","ModelObjectBase","ModelObject","ModelList","item_i","indexOf","sort","compareFunction","indexedItems","indexedItem_a","indexedItem_b","indexedItem_i","prepend","_items","append","insert","Math","abs","remove","clear","removedItem_i","ModelChangeObserver","WeakMap","observe","options","references","reference","listener","bind","unobserve","disconnect","properties","propertiesFilter","childList","subtree","filter","record_i","includes","camelToTrain","str","toLowerCase","AttributeProperty","String","defaultValue","observed","name","observedAttributes","Reflect","Array","isArray","writable","Boolean","hasAttribute","setAttribute","removeAttribute","val","getAttribute","parse","Number","parseFloat","CustomElement","elementCtor","customElements","define","QueryProperty","propertyKey","selector","withinShadowRoot","shadowRoot","querySelector","fragment","nodes","createDocumentFragment","tagName","attributes","dataset","children","listeners","element","createElement","entries","attributeName","attributeValue","toggleAttribute","elementDataset","from","name_i","listener_i","reactiveElementsMap","reactiveElementsFinalizationRegistry","FinalizationRegistry","heldValue","model","reactiveElement","reactiveElementsMapEntry","reactiveElementsArray","reactiveElementsPropertyObserver","reactiveElement_i","elementRef","react","deref","WeakRef","register","observerOptions","property_i","reactiveChildElementsMap","reactiveChildElementsFinalizationRegistry","reactiveChildElement","reactiveChildrenElementsMapEntry","reactiveChildElementsArray","reactiveChildElementsObserver","range","listLength","reactiveChildElements_i","parentRef","mapping","placeholder","parent","firstChild","childrenCount","removeChild","insertedItemsArray","before","removedCount","createRange","removeEndIndex","setStartBefore","setEndAfter","deleteContents","childrenArray","index_i","reactiveChildElements","reactiveChildElementsMapEntry","replaceChildren","ViewBase","HTMLElement","setModel","renderLight","renderShadow","render","shadow","light","View","__decorate","decorators","desc","c","arguments","getOwnPropertyDescriptor","decorate","DEFAULT_THEME_HOVERED_ITEM_COLOR","DEFAULT_THEME_FOCUSED_ITEM_COLOR","DEFAULT_THEME_SELECTED_ITEM_COLOR","DEFAULT_THEME_ACTIVATED_ITEM_COLOR","DEFAULT_THEME_DROPTARGET_ITEM_COLOR","Theme","stylesheet","images","checkedImage","arrowRightImage","arrowDropDownImage","arrowDropUpImage","CSSStyleSheet","tint","variablesMap","cssRules","styleMap","theme","resetStylesheet","style","HTMLEHeightSashElementBase","attachShadow","mode","adoptedStylesheet","adoptedStyleSheets","targetComputedStyle","getComputedStyle","growdir","movementY","height","getPropertyValue","newHeight","trunc","computedNewHeight","Event","pointerId","controls","rootNode","getRootNode","getElementById","setPointerCapture","requestAnimationFrame","releasePointerCapture","HTMLEWidthSashElementBase","setWidth","width","max","movementX","newWidth","shadowTemplate","HTMLEGridCellElementBase","cloneNode","attributeChangedCallback","bubbles","HTMLEGridCellElement","HTMLEGridRowElementBase","cells","querySelectorAll","assignedElements","element_i","cell_i","posinset","HTMLEGridRowElement","HTMLEGridBodyElementBase","rows","HTMLEGridBodyElement","HTMLEGridHeadElementBase","HTMLEGridRowGroupElementBase","HTMLEGridRowGroupElement","HTMLEGridElementBase","activeCell","activeRow","body","head","createTreeWalker","NodeFilter","SHOW_ELEMENT","connectedCallback","tabIndex","beginSelection","endSelection","clearSelection","selectedCells","selectedRows","hidden","FILTER_ACCEPT","FILTER_SKIP","FILTER_REJECT","to","fromIndex","toIndex","min","position","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","nextVisibleRow","DOCUMENT_POSITION_PRECEDING","previousVisibleRow","selectedCell_i","selected","selectedRow_i","row_i","cell","active","currentNode","row","cellsWalker","lastChild","previousNode","nextNode","rowsWalker","root","closestRow","cellIndex","previousRow","previousRowCells","nextRow","nextRowCells","ctrlKey","shiftKey","selectby","composedPath","targetCell","find","target_i","lastSelectedCell","targetRow","lastSelectedRow","stopPropagation","firstRow","firstCell","lastRow","lastCell","preventDefault","previousCell","focus","preventScroll","nextCell","topCell","bottomCell","click","relatedTarget","closest","HTMLEMenuItemElementBase","internals","part","attachInternals","role","ariaChecked","ariaDisabled","ariaExpanded","ariaLabel","toggle","force","expanded","expand","collapse","menu","getBoundingClientRect","menuStyle","menuWidth","menuHeight","clientWidth","clientHeight","offsetLeft","offsetTop","overflowX","overflowY","HTMLEMenuItemElement","EMenuItem","assign","label","trigger","slot","tabindex","title","button","checkbox","radio","submenu","HTMLEMenuItemGroupElementBase","HTMLEMenuElementBase_1","toggleAnimations","HTMLEMenuItemGroupElement","radios","HTMLEMenuElementBase","activeIndex","activeItem","parseInt","positionContextual","x","y","scrollX","scrollY","left","top","contains","firstItem","walker","targetItem","checked","radio_i","nearestItem","contextual","error","HTMLEMenuElement","blur","cancel","toggleAnimation","animate","duration","finished","then","catch","finally","right","bottom","parentItem","menuRect","clientX","clientY","intersectsWithMouse","containsRelatedTarget","HTMLEMenuBarElementBase","disabled","previousSibling","nextSibling","Element","isExpanded","HTMLEMenuButtonElementBase","HTMLEMenuButtonElement","GridModel","columns","initRows","initColumns","getColumnByName","column_i","sortByColumn","column","sortOrder","sortorder","sortTest","row_1","row_2","cell_1","extract","cell_2","localeCompare","sign","GridColumnModel","filters","GridRowModel","GridViewBase","gridElement","setColumnDelegate","delegate","setCellDelegate","getRowElement","getColumnHeaderElement","getColumnCellsElements","multisectable","contextmenu","displayFilters","some","filter_i","addDisplayFilter","rowElement","removeDisplayFilter","filterIndex","removeAllDisplayFilters","class","headers","targetHead","targetHeader","contextMenu","columnHeaderElement","maxWidth","reduce","removeProperty","matches","targetColumn","GridView","HTMLETreeItemElementBase","count","source","console","log","labelPart","textContent","HTMLETreeItemElement","HTMLETreeItemGroupElementBase","HTMLETreeItemGroupElement","HTMLETreeElementBase","dropTargetItem","selectedItems","nextVisibleItem","previousVisibleItem","selectedItem_i","droptarget","lastItem","Document","ShadowRoot","host","previousItem","nextItem","TreeModel","childItems","sortFunction","subtreeItems","item_a","item_b","flattenedInsertedItems","flatMap","insertedItem_i","of","flattenedRemovedItems","treeItem_i","getItemByUri","uri","itemsCount","uriLength","itemUri","itemUriLength","startsWith","TreeItemModelList","removedItemsGroups","TreeItemModel","group","list_i","children_i","child_i","level","TreeViewBase","treeElement","draggable","treeItemElement","closestItem","parentElement","treeItem","dragstart","drop","focusin","focusout","itemContentDelegate","itemToolbarDelegate","itemMenuDelegate","toolbar","treeitem","dragImageElement","span","targetTree","dataTransfer","selectedElements","selectedCount","selectedUris","uri_i","_","uris","uri_j","selectedUrisString","lastUri","dropEffect","setData","dragImage","setDragImage","targetUri","targetItemModel","transferedUris","getData","split","transferedItems","targetType","targetParentItem","targetList","sameLabelIndex","item_j","confirm","copyWithin","newElements","relatedPosition","DOCUMENT_POSITION_DISCONNECTED","itemToolbar","TreeView","MyTreeItemModel","childCount","visibility","show","hide","display","MyTreeItemModelList","result","MyTreeView","rel","href","badge","select","selectedOption","iconed","showEditItemDialog","visibilityItem","pressed","typeSelect","activeItemElement","selectItem","selectedItemsList","activeItemModel","dialog","method","for","autofocus","type_i","close","targetDialog","returnValue","form","formData","FormData","showModal","MyGridRowModel","age","color","MyGridView","shadowNode","insertBefore","input","searchFilter","setSearchFilter","HTMLInputElement","iconPartTemplate","HTMLEToolBarItemElementBase","iconPart","HTMLEToolBarItemElement","EToolBarItem","menubutton","HTMLEToolBarItemGroupElementBase","wasExpandedOnMouseDown","HTMLEToolBarItemGroupElement","HTMLEToolBarElementBase","HTMLEToolBarElement","HTMLEListItemElementBase","slotName","HTMLSpanElement","HTMLEListItemElement","HTMLEListItemGroupElementBase","HTMLEListItemGroupElement","HTMLEListElementBase","lastSelectedItem","HTMLETabPanelElementBase","tab","upgrade","HTMLETabElementBase","panel","HTMLETabElement","HTMLETabListElementBase","tabs","activeTab","selectedTab","tabToSelect","setTimeout","tabWidth","tabHeight","fill","easing","pseudoElement","targetTab","tab_i","HTMLEStatusItemElementBase","HTMLEStatusItemElement","onclick","HTMLEStatusItemGroupElementBase","HTMLEStatusItemGroupElement","HTMLEStatusBarElementBase","HTMLEHandleElementBase","rectWidth","rectHeight","outerElement","outerRectLeft","outerRectRight","outerRectTop","outerRectBottom","newLeft","newTop","CustomEvent","HTMLEImportElementBase","async","outerHTML","fetch","response","ok","text","statusText","barShadowTemplate","spinnerShadowTemplate","HTMLELoaderElementBase","HTMLESeparatorElementBase","HTMLEToolTipElementBase","tooltip","handleEvent","htmlFor","oldTarget","targetListenerObject","immediate","visible","opacity","delay","targetTop","targetBottom","targetLeft","targetRight","tooltipWidth","tooltipHeight","tooltipHalfWidth","tooltipHalfHeight","targetCenter","targetMiddle","tooltipStyle","arrow","arrowStyle","arrowWidth","arrowHeight","arrowHalfWidth","arrowHalfHeight","documentListenerObject","main","img","as","crossorigin","gridView","treeModel","treeView","example"],"sourceRoot":""}